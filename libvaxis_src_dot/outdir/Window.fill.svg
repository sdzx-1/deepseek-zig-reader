<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="367pt" height="746pt"
 viewBox="0.00 0.00 367.44 746.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 742)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-742 363.44,-742 363.44,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<polygon fill="none" stroke="black" points="103,-738 35,-738 35,-702 103,-702 103,-738"/>
<text text-anchor="middle" x="69" y="-717.5" font-family="Arial" font-size="10.00">fill 函数入口</text>
</g>
<!-- check_bounds -->
<g id="node2" class="node">
<title>check_bounds</title>
<polygon fill="none" stroke="black" points="128.5,-665 9.5,-665 9.5,-602 128.5,-602 128.5,-665"/>
<text text-anchor="middle" x="69" y="-653" font-family="Arial" font-size="10.00">检查边界条件:</text>
<text text-anchor="middle" x="69" y="-642" font-family="Arial" font-size="10.00">self.x_off + width &lt; 0</text>
<text text-anchor="middle" x="69" y="-631" font-family="Arial" font-size="10.00">|| self.y_off + height &lt; 0</text>
<text text-anchor="middle" x="69" y="-620" font-family="Arial" font-size="10.00">|| screen.width &lt; x_off</text>
<text text-anchor="middle" x="69" y="-609" font-family="Arial" font-size="10.00">|| screen.height &lt; y_off</text>
</g>
<!-- start&#45;&gt;check_bounds -->
<g id="edge1" class="edge">
<title>start&#45;&gt;check_bounds</title>
<path fill="none" stroke="black" d="M69,-701.9C69,-694.18 69,-684.7 69,-675.31"/>
<polygon fill="black" stroke="black" points="72.5,-675.25 69,-665.25 65.5,-675.25 72.5,-675.25"/>
</g>
<!-- return_early -->
<g id="node3" class="node">
<title>return_early</title>
<polygon fill="none" stroke="black" points="56,-555 0,-555 0,-519 56,-519 56,-555"/>
<text text-anchor="middle" x="28" y="-534.5" font-family="Arial" font-size="10.00">直接返回</text>
</g>
<!-- check_bounds&#45;&gt;return_early -->
<g id="edge2" class="edge">
<title>check_bounds&#45;&gt;return_early</title>
<path fill="none" stroke="black" d="M55.69,-601.82C50.43,-589.69 44.44,-575.9 39.39,-564.25"/>
<polygon fill="black" stroke="black" points="42.59,-562.83 35.4,-555.04 36.16,-565.61 42.59,-562.83"/>
<text text-anchor="middle" x="77.5" y="-576" font-family="Arial" font-size="10.00">任一条件成立</text>
</g>
<!-- calc_first_row -->
<g id="node4" class="node">
<title>calc_first_row</title>
<polygon fill="none" stroke="black" points="238,-555 74,-555 74,-519 238,-519 238,-555"/>
<text text-anchor="middle" x="156" y="-534.5" font-family="Arial" font-size="10.00">计算 first_row = max(self.y_off, 0)</text>
</g>
<!-- check_bounds&#45;&gt;calc_first_row -->
<g id="edge3" class="edge">
<title>check_bounds&#45;&gt;calc_first_row</title>
<path fill="none" stroke="black" d="M97.25,-601.82C108.97,-589.09 122.38,-574.52 133.43,-562.52"/>
<polygon fill="black" stroke="black" points="136.11,-564.77 140.31,-555.04 130.96,-560.03 136.11,-564.77"/>
<text text-anchor="middle" x="157.5" y="-576" font-family="Arial" font-size="10.00">所有条件不成立</text>
</g>
<!-- check_contiguous -->
<g id="node5" class="node">
<title>check_contiguous</title>
<polygon fill="none" stroke="black" points="247.5,-482 64.5,-482 64.5,-446 247.5,-446 247.5,-482"/>
<text text-anchor="middle" x="156" y="-467" font-family="Arial" font-size="10.00">是否全宽窗口？</text>
<text text-anchor="middle" x="156" y="-456" font-family="Arial" font-size="10.00">(x_off == 0 &amp;&amp; width == screen.width)</text>
</g>
<!-- calc_first_row&#45;&gt;check_contiguous -->
<g id="edge4" class="edge">
<title>calc_first_row&#45;&gt;check_contiguous</title>
<path fill="none" stroke="black" d="M156,-518.81C156,-510.79 156,-501.05 156,-492.07"/>
<polygon fill="black" stroke="black" points="159.5,-492.03 156,-482.03 152.5,-492.03 159.5,-492.03"/>
</g>
<!-- contiguous_case -->
<g id="node6" class="node">
<title>contiguous_case</title>
<polygon fill="none" stroke="black" points="176.5,-340 91.5,-340 91.5,-299 176.5,-299 176.5,-340"/>
<text text-anchor="middle" x="134" y="-328" font-family="Arial" font-size="10.00">连续内存处理:</text>
<text text-anchor="middle" x="134" y="-317" font-family="Arial" font-size="10.00">计算 start/end</text>
<text text-anchor="middle" x="134" y="-306" font-family="Arial" font-size="10.00">@memset 填充</text>
</g>
<!-- check_contiguous&#45;&gt;contiguous_case -->
<g id="edge5" class="edge">
<title>check_contiguous&#45;&gt;contiguous_case</title>
<path fill="none" stroke="black" d="M153.35,-445.81C149.68,-422.08 143.02,-378.93 138.55,-349.99"/>
<polygon fill="black" stroke="black" points="142,-349.38 137.02,-340.03 135.08,-350.45 142,-349.38"/>
<text text-anchor="middle" x="156" y="-420" font-family="Arial" font-size="10.00">是</text>
</g>
<!-- non_contiguous_case -->
<g id="node7" class="node">
<title>non_contiguous_case</title>
<polygon fill="none" stroke="black" points="287,-399 171,-399 171,-358 287,-358 287,-399"/>
<text text-anchor="middle" x="229" y="-387" font-family="Arial" font-size="10.00">非连续内存处理:</text>
<text text-anchor="middle" x="229" y="-376" font-family="Arial" font-size="10.00">计算 first_col, last_row</text>
<text text-anchor="middle" x="229" y="-365" font-family="Arial" font-size="10.00">进入逐行循环</text>
</g>
<!-- check_contiguous&#45;&gt;non_contiguous_case -->
<g id="edge6" class="edge">
<title>check_contiguous&#45;&gt;non_contiguous_case</title>
<path fill="none" stroke="black" d="M171.13,-445.7C180.95,-434.46 193.96,-419.58 205.15,-406.78"/>
<polygon fill="black" stroke="black" points="207.9,-408.95 211.85,-399.12 202.63,-404.34 207.9,-408.95"/>
<text text-anchor="middle" x="200" y="-420" font-family="Arial" font-size="10.00">否</text>
</g>
<!-- end -->
<g id="node12" class="node">
<title>end</title>
<polygon fill="none" stroke="black" points="149,-117 93,-117 93,-81 149,-81 149,-117"/>
<text text-anchor="middle" x="121" y="-96.5" font-family="Arial" font-size="10.00">函数结束</text>
</g>
<!-- contiguous_case&#45;&gt;end -->
<g id="edge7" class="edge">
<title>contiguous_case&#45;&gt;end</title>
<path fill="none" stroke="black" d="M132.82,-298.72C130.49,-259.52 125.28,-171.87 122.62,-127.24"/>
<polygon fill="black" stroke="black" points="126.11,-126.91 122.02,-117.13 119.12,-127.32 126.11,-126.91"/>
</g>
<!-- loop_start -->
<g id="node8" class="node">
<title>loop_start</title>
<polygon fill="none" stroke="black" points="271,-281 189,-281 189,-245 271,-245 271,-281"/>
<text text-anchor="middle" x="230" y="-266" font-family="Arial" font-size="10.00">循环开始:</text>
<text text-anchor="middle" x="230" y="-255" font-family="Arial" font-size="10.00">row = first_row</text>
</g>
<!-- non_contiguous_case&#45;&gt;loop_start -->
<g id="edge8" class="edge">
<title>non_contiguous_case&#45;&gt;loop_start</title>
<path fill="none" stroke="black" d="M229.17,-357.99C229.33,-339.53 229.58,-311.66 229.76,-291.06"/>
<polygon fill="black" stroke="black" points="233.26,-291.07 229.85,-281.04 226.26,-291 233.26,-291.07"/>
</g>
<!-- loop_condition -->
<g id="node9" class="node">
<title>loop_condition</title>
<polygon fill="none" stroke="black" points="275.5,-208 186.5,-208 186.5,-172 275.5,-172 275.5,-208"/>
<text text-anchor="middle" x="231" y="-187.5" font-family="Arial" font-size="10.00">row &lt; last_row ?</text>
</g>
<!-- loop_start&#45;&gt;loop_condition -->
<g id="edge9" class="edge">
<title>loop_start&#45;&gt;loop_condition</title>
<path fill="none" stroke="black" d="M230.24,-244.81C230.36,-236.79 230.49,-227.05 230.62,-218.07"/>
<polygon fill="black" stroke="black" points="234.12,-218.08 230.76,-208.03 227.12,-217.98 234.12,-218.08"/>
</g>
<!-- calc_row -->
<g id="node10" class="node">
<title>calc_row</title>
<polygon fill="none" stroke="black" points="343,-125 167,-125 167,-73 343,-73 343,-125"/>
<text text-anchor="middle" x="255" y="-113" font-family="Arial" font-size="10.00">计算当前行:</text>
<text text-anchor="middle" x="255" y="-102" font-family="Arial" font-size="10.00">start = first_col + row * screen.width</text>
<text text-anchor="middle" x="255" y="-91" font-family="Arial" font-size="10.00">end = min(...)</text>
<text text-anchor="middle" x="255" y="-80" font-family="Arial" font-size="10.00">@memset 填充</text>
</g>
<!-- loop_condition&#45;&gt;calc_row -->
<g id="edge10" class="edge">
<title>loop_condition&#45;&gt;calc_row</title>
<path fill="none" stroke="black" d="M235.63,-171.84C238.44,-161.4 242.14,-147.68 245.56,-135.02"/>
<polygon fill="black" stroke="black" points="248.98,-135.76 248.21,-125.19 242.22,-133.94 248.98,-135.76"/>
<text text-anchor="middle" x="248" y="-146" font-family="Arial" font-size="10.00">是</text>
</g>
<!-- loop_condition&#45;&gt;end -->
<g id="edge11" class="edge">
<title>loop_condition&#45;&gt;end</title>
<path fill="none" stroke="black" d="M209.79,-171.84C192.82,-158.11 168.85,-138.72 150.09,-123.54"/>
<polygon fill="black" stroke="black" points="152.12,-120.68 142.14,-117.11 147.72,-126.12 152.12,-120.68"/>
<text text-anchor="middle" x="191" y="-146" font-family="Arial" font-size="10.00">否</text>
</g>
<!-- increment_row -->
<g id="node11" class="node">
<title>increment_row</title>
<polygon fill="none" stroke="black" points="341,-36 285,-36 285,0 341,0 341,-36"/>
<text text-anchor="middle" x="313" y="-15.5" font-family="Arial" font-size="10.00">row += 1</text>
</g>
<!-- calc_row&#45;&gt;increment_row -->
<g id="edge12" class="edge">
<title>calc_row&#45;&gt;increment_row</title>
<path fill="none" stroke="black" d="M273.67,-72.57C280.3,-63.55 287.75,-53.39 294.37,-44.37"/>
<polygon fill="black" stroke="black" points="297.31,-46.28 300.41,-36.15 291.67,-42.14 297.31,-46.28"/>
</g>
<!-- increment_row&#45;&gt;loop_condition -->
<g id="edge13" class="edge">
<title>increment_row&#45;&gt;loop_condition</title>
<path fill="none" stroke="black" d="M329.89,-36.38C338.3,-46.26 347.59,-59.36 352,-73 359.11,-94.99 363.92,-105.2 352,-125 337.38,-149.28 310.12,-164.83 285.17,-174.51"/>
<polygon fill="black" stroke="black" points="283.95,-171.23 275.75,-177.94 286.34,-177.8 283.95,-171.23"/>
</g>
</g>
</svg>
