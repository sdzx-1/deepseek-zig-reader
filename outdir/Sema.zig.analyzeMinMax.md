flowchart TD
    A[开始] --> B{操作数数量检查}
    B -->|len=1| C[返回唯一操作数]
    B -->|len>1| D[确定操作类型min/max]
    D --> E[初始化变量]
    E --> F[遍历操作数处理编译时已知值]
    F --> G{是否处理完所有操作数?}
    G -->|否| H{解析操作数值}
    H -->|成功| I[更新runtime_known和边界状态]
    I --> J{是否为向量类型?}
    J -->|是| K[处理向量元素边界]
    J -->|否| L[处理标量边界]
    K --> M[更新cur_minmax]
    L --> M
    M --> G
    G -->|是| N{是否存在运行时操作数?}
    N -->|否| O[细化类型并返回结果]
    N -->|是| P[处理运行时操作数]
    P --> Q[遍历runtime_known]
    Q --> R{是否还有操作数?}
    R -->|是| S[生成min/max指令]
    S --> T[更新边界状态]
    T --> Q
    R -->|否| U[最终类型细化]
    U --> V{是否需要类型转换?}
    V -->|是| W[添加intcast指令]
    V -->|否| X[返回最终结果]
    O --> X
    C --> X
    W --> X
    X[结束]
