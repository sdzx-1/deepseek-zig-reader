<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="421pt" height="619pt"
 viewBox="0.00 0.00 420.74 619.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 615)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-615 416.74,-615 416.74,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="none" stroke="black" cx="324.5" cy="-593" rx="29.5" ry="18"/>
<text text-anchor="middle" x="324.5" y="-589.3" font-family="Arial" font-size="14.00">开始</text>
</g>
<!-- check_n -->
<g id="node2" class="node">
<title>check_n</title>
<polygon fill="none" stroke="black" points="324.5,-538 236.02,-520 324.5,-502 412.98,-520 324.5,-538"/>
<text text-anchor="middle" x="324.5" y="-516.3" font-family="Arial" font-size="14.00">n 是否为 0？</text>
</g>
<!-- start&#45;&gt;check_n -->
<g id="edge1" class="edge">
<title>start&#45;&gt;check_n</title>
<path fill="none" stroke="black" d="M324.5,-574.81C324.5,-566.79 324.5,-557.05 324.5,-548.07"/>
<polygon fill="black" stroke="black" points="328,-548.03 324.5,-538.03 321,-548.03 328,-548.03"/>
</g>
<!-- set_pending_wrap -->
<g id="node3" class="node">
<title>set_pending_wrap</title>
<polygon fill="none" stroke="black" points="356,-451 145,-451 145,-415 356,-415 356,-451"/>
<text text-anchor="middle" x="250.5" y="-429.3" font-family="Arial" font-size="14.00">self.cursor.pending_wrap = false</text>
</g>
<!-- check_n&#45;&gt;set_pending_wrap -->
<g id="edge2" class="edge">
<title>check_n&#45;&gt;set_pending_wrap</title>
<path fill="none" stroke="black" d="M311.61,-504.19C300.78,-491.75 285.07,-473.7 272.29,-459.02"/>
<polygon fill="black" stroke="black" points="274.74,-456.52 265.54,-451.27 269.46,-461.11 274.74,-456.52"/>
<text text-anchor="middle" x="300" y="-472.8" font-family="Arial" font-size="14.00">否</text>
</g>
<!-- end -->
<g id="node8" class="node">
<title>end</title>
<ellipse fill="none" stroke="black" cx="345.5" cy="-18" rx="29.5" ry="18"/>
<text text-anchor="middle" x="345.5" y="-14.3" font-family="Arial" font-size="14.00">结束</text>
</g>
<!-- check_n&#45;&gt;end -->
<g id="edge3" class="edge">
<title>check_n&#45;&gt;end</title>
<path fill="none" stroke="black" d="M344.24,-505.9C364,-491.03 391.5,-464.82 391.5,-434 391.5,-434 391.5,-434 391.5,-98.5 391.5,-77.11 378.87,-56.3 366.84,-41.35"/>
<polygon fill="black" stroke="black" points="369.46,-39.02 360.31,-33.67 364.13,-43.55 369.46,-39.02"/>
<text text-anchor="middle" x="399" y="-268.3" font-family="Arial" font-size="14.00">是</text>
</g>
<!-- check_scroll_region -->
<g id="node4" class="node">
<title>check_scroll_region</title>
<polygon fill="none" stroke="black" points="230.5,-378 97.44,-360 230.5,-342 363.56,-360 230.5,-378"/>
<text text-anchor="middle" x="230.5" y="-356.3" font-family="Arial" font-size="14.00">是否在滚动区域内？</text>
</g>
<!-- set_pending_wrap&#45;&gt;check_scroll_region -->
<g id="edge4" class="edge">
<title>set_pending_wrap&#45;&gt;check_scroll_region</title>
<path fill="none" stroke="black" d="M245.66,-414.81C243.34,-406.58 240.51,-396.54 237.93,-387.38"/>
<polygon fill="black" stroke="black" points="241.24,-386.22 235.16,-377.54 234.5,-388.11 241.24,-386.22"/>
</g>
<!-- compute_adjusted_n -->
<g id="node5" class="node">
<title>compute_adjusted_n</title>
<polygon fill="none" stroke="black" points="317,-291 0,-291 0,-253 317,-253 317,-291"/>
<text text-anchor="middle" x="158.5" y="-275.8" font-family="Arial" font-size="14.00">计算 adjusted_n = min(滚动区域底部 &#45; 当前行, n)</text>
<text text-anchor="middle" x="158.5" y="-260.8" font-family="Arial" font-size="14.00">计算 stride = 宽度 * adjusted_n</text>
</g>
<!-- check_scroll_region&#45;&gt;compute_adjusted_n -->
<g id="edge5" class="edge">
<title>check_scroll_region&#45;&gt;compute_adjusted_n</title>
<path fill="none" stroke="black" d="M217.63,-343.62C207.25,-331.23 192.43,-313.53 180.23,-298.95"/>
<polygon fill="black" stroke="black" points="182.86,-296.65 173.76,-291.23 177.49,-301.14 182.86,-296.65"/>
<text text-anchor="middle" x="209" y="-312.8" font-family="Arial" font-size="14.00">是</text>
</g>
<!-- check_scroll_region&#45;&gt;end -->
<g id="edge6" class="edge">
<title>check_scroll_region&#45;&gt;end</title>
<path fill="none" stroke="black" d="M270.4,-347.33C303.61,-334.87 345.5,-311.52 345.5,-273 345.5,-273 345.5,-273 345.5,-98.5 345.5,-81.17 345.5,-61.72 345.5,-46.4"/>
<polygon fill="black" stroke="black" points="349,-46.06 345.5,-36.06 342,-46.06 349,-46.06"/>
<text text-anchor="middle" x="353" y="-185.8" font-family="Arial" font-size="14.00">否</text>
</g>
<!-- move_lines -->
<g id="node6" class="node">
<title>move_lines</title>
<polygon fill="none" stroke="black" points="293,-216 120,-216 120,-163 293,-163 293,-216"/>
<text text-anchor="middle" x="206.5" y="-200.8" font-family="Arial" font-size="14.00">移动行内容:</text>
<text text-anchor="middle" x="206.5" y="-185.8" font-family="Arial" font-size="14.00">从滚动区域底部向上循环</text>
<text text-anchor="middle" x="206.5" y="-170.8" font-family="Arial" font-size="14.00">逐列复制内容到新位置</text>
</g>
<!-- compute_adjusted_n&#45;&gt;move_lines -->
<g id="edge7" class="edge">
<title>compute_adjusted_n&#45;&gt;move_lines</title>
<path fill="none" stroke="black" d="M169.39,-252.73C174.35,-244.42 180.38,-234.31 186.13,-224.67"/>
<polygon fill="black" stroke="black" points="189.17,-226.4 191.28,-216.02 183.16,-222.81 189.17,-226.4"/>
</g>
<!-- clear_lines -->
<g id="node7" class="node">
<title>clear_lines</title>
<polygon fill="none" stroke="black" points="304,-126 159,-126 159,-73 304,-73 304,-126"/>
<text text-anchor="middle" x="231.5" y="-110.8" font-family="Arial" font-size="14.00">清除新行:</text>
<text text-anchor="middle" x="231.5" y="-95.8" font-family="Arial" font-size="14.00">从滚动区域顶部循环</text>
<text text-anchor="middle" x="231.5" y="-80.8" font-family="Arial" font-size="14.00">逐列用背景色擦除</text>
</g>
<!-- move_lines&#45;&gt;clear_lines -->
<g id="edge8" class="edge">
<title>move_lines&#45;&gt;clear_lines</title>
<path fill="none" stroke="black" d="M213.87,-162.57C216.23,-154.25 218.89,-144.88 221.42,-135.99"/>
<polygon fill="black" stroke="black" points="224.82,-136.82 224.19,-126.24 218.09,-134.9 224.82,-136.82"/>
</g>
<!-- clear_lines&#45;&gt;end -->
<g id="edge9" class="edge">
<title>clear_lines&#45;&gt;end</title>
<path fill="none" stroke="black" d="M268.2,-72.91C284.52,-61.52 303.4,-48.36 318.41,-37.89"/>
<polygon fill="black" stroke="black" points="320.56,-40.66 326.76,-32.07 316.55,-34.92 320.56,-40.66"/>
</g>
</g>
</svg>
