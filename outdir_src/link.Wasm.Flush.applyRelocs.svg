<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: applyRelocs Pages: 1 -->
<svg width="1423pt" height="366pt"
 viewBox="0.00 0.00 1422.52 366.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 362)">
<title>applyRelocs</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-362 1418.52,-362 1418.52,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<polygon fill="none" stroke="black" points="1016.02,-358 909.02,-358 909.02,-322 1016.02,-322 1016.02,-358"/>
<text text-anchor="middle" x="962.52" y="-337.5" font-family="Courier,monospace" font-size="10.00">开始 applyRelocs</text>
</g>
<!-- loop_start -->
<g id="node2" class="node">
<title>loop_start</title>
<polygon fill="none" stroke="black" points="1107.52,-285 817.52,-285 817.52,-249 1107.52,-249 1107.52,-285"/>
<text text-anchor="middle" x="962.52" y="-264.5" font-family="Courier,monospace" font-size="10.00">遍历 relocs 的 tags, pointees, offsets, addends</text>
</g>
<!-- start&#45;&gt;loop_start -->
<g id="edge1" class="edge">
<title>start&#45;&gt;loop_start</title>
<path fill="none" stroke="black" d="M962.52,-321.81C962.52,-313.79 962.52,-304.05 962.52,-295.07"/>
<polygon fill="black" stroke="black" points="966.02,-295.03 962.52,-285.03 959.02,-295.03 966.02,-295.03"/>
</g>
<!-- check_offset -->
<g id="node3" class="node">
<title>check_offset</title>
<polygon fill="none" stroke="black" points="1262.52,-285 1143.43,-267 1262.52,-249 1381.61,-267 1262.52,-285"/>
<text text-anchor="middle" x="1262.52" y="-264.5" font-family="Courier,monospace" font-size="10.00">offset &gt;= relocs.end?</text>
</g>
<!-- loop_start&#45;&gt;check_offset -->
<g id="edge2" class="edge">
<title>loop_start&#45;&gt;check_offset</title>
<path fill="none" stroke="black" d="M1107.54,-267C1116.1,-267 1124.65,-267 1133.21,-267"/>
<polygon fill="black" stroke="black" points="1133.26,-270.5 1143.26,-267 1133.26,-263.5 1133.26,-270.5"/>
</g>
<!-- end_loop -->
<g id="node4" class="node">
<title>end_loop</title>
<polygon fill="none" stroke="black" points="1402.52,-202 1346.52,-202 1346.52,-166 1402.52,-166 1402.52,-202"/>
<text text-anchor="middle" x="1374.52" y="-181.5" font-family="Courier,monospace" font-size="10.00">结束循环</text>
</g>
<!-- check_offset&#45;&gt;end_loop -->
<g id="edge3" class="edge">
<title>check_offset&#45;&gt;end_loop</title>
<path fill="none" stroke="black" d="M1282.03,-251.89C1298.74,-239.81 1323.12,-222.18 1342.65,-208.05"/>
<polygon fill="black" stroke="black" points="1344.91,-210.73 1350.96,-202.04 1340.81,-205.06 1344.91,-210.73"/>
<text text-anchor="middle" x="1329.52" y="-223" font-family="Courier,monospace" font-size="10.00">是</text>
</g>
<!-- process_code -->
<g id="node5" class="node">
<title>process_code</title>
<polygon fill="none" stroke="black" points="1328.02,-202 1059.02,-202 1059.02,-166 1328.02,-166 1328.02,-202"/>
<text text-anchor="middle" x="1193.52" y="-181.5" font-family="Courier,monospace" font-size="10.00">sliced_code = code[offset &#45; code_offset..]</text>
</g>
<!-- check_offset&#45;&gt;process_code -->
<g id="edge4" class="edge">
<title>check_offset&#45;&gt;process_code</title>
<path fill="none" stroke="black" d="M1249.54,-250.76C1239.78,-239.3 1226.19,-223.35 1214.84,-210.02"/>
<polygon fill="black" stroke="black" points="1217.26,-207.47 1208.11,-202.13 1211.93,-212.01 1217.26,-207.47"/>
<text text-anchor="middle" x="1236.52" y="-223" font-family="Courier,monospace" font-size="10.00">否</text>
</g>
<!-- end -->
<g id="node14" class="node">
<title>end</title>
<polygon fill="none" stroke="black" points="1401.52,-119 1347.52,-119 1347.52,-83 1401.52,-83 1401.52,-119"/>
<text text-anchor="middle" x="1374.52" y="-98.5" font-family="Courier,monospace" font-size="10.00">end</text>
</g>
<!-- end_loop&#45;&gt;end -->
<g id="edge17" class="edge">
<title>end_loop&#45;&gt;end</title>
<path fill="none" stroke="black" d="M1374.52,-165.82C1374.52,-155.19 1374.52,-141.31 1374.52,-129.2"/>
<polygon fill="black" stroke="black" points="1378.02,-129.15 1374.52,-119.15 1371.02,-129.15 1378.02,-129.15"/>
<text text-anchor="middle" x="1394.52" y="-140" font-family="Courier,monospace" font-size="10.00">函数结束</text>
</g>
<!-- switch_tag -->
<g id="node6" class="node">
<title>switch_tag</title>
<polygon fill="none" stroke="black" points="582.52,-202 513.33,-184 582.52,-166 651.71,-184 582.52,-202"/>
<text text-anchor="middle" x="582.52" y="-181.5" font-family="Courier,monospace" font-size="10.00">switch(tag)</text>
</g>
<!-- process_code&#45;&gt;switch_tag -->
<g id="edge5" class="edge">
<title>process_code&#45;&gt;switch_tag</title>
<path fill="none" stroke="black" d="M1058.87,-184C926.6,-184 794.34,-184 662.07,-184"/>
<polygon fill="black" stroke="black" points="661.74,-180.5 651.74,-184 661.74,-187.5 661.74,-180.5"/>
</g>
<!-- case .function_index_i32 -->
<g id="node9" class="node">
<title>case .function_index_i32</title>
<polygon fill="none" stroke="black" points="1002.02,-119 841.02,-119 841.02,-83 1002.02,-83 1002.02,-119"/>
<text text-anchor="middle" x="921.52" y="-98.5" font-family="Courier,monospace" font-size="10.00">case .function_index_i32</text>
</g>
<!-- switch_tag&#45;&gt;case .function_index_i32 -->
<g id="edge6" class="edge">
<title>switch_tag&#45;&gt;case .function_index_i32</title>
<path fill="none" stroke="black" d="M626.49,-177.43C667.89,-171.71 731.44,-161.72 785.52,-148 812.93,-141.05 842.75,-131.22 867.47,-122.44"/>
<polygon fill="black" stroke="black" points="868.79,-125.68 877.02,-119 866.43,-119.09 868.79,-125.68"/>
<text text-anchor="middle" x="878.02" y="-140" font-family="Courier,monospace" font-size="10.00">function_index_i32</text>
</g>
<!-- case .function_index_leb -->
<g id="node10" class="node">
<title>case .function_index_leb</title>
<polygon fill="none" stroke="black" points="823.02,-119 662.02,-119 662.02,-83 823.02,-83 823.02,-119"/>
<text text-anchor="middle" x="742.52" y="-98.5" font-family="Courier,monospace" font-size="10.00">case .function_index_leb</text>
</g>
<!-- switch_tag&#45;&gt;case .function_index_leb -->
<g id="edge8" class="edge">
<title>switch_tag&#45;&gt;case .function_index_leb</title>
<path fill="none" stroke="black" d="M604.77,-171.74C629.2,-159.37 669.03,-139.21 699.59,-123.73"/>
<polygon fill="black" stroke="black" points="701.41,-126.74 708.75,-119.1 698.24,-120.49 701.41,-126.74"/>
<text text-anchor="middle" x="727.02" y="-140" font-family="Courier,monospace" font-size="10.00">function_index_leb</text>
</g>
<!-- case .function_offset_i32 -->
<g id="node11" class="node">
<title>case .function_offset_i32</title>
<polygon fill="none" stroke="black" points="184.02,-119 17.02,-119 17.02,-83 184.02,-83 184.02,-119"/>
<text text-anchor="middle" x="100.52" y="-98.5" font-family="Courier,monospace" font-size="10.00">case .function_offset_i32</text>
</g>
<!-- switch_tag&#45;&gt;case .function_offset_i32 -->
<g id="edge10" class="edge">
<title>switch_tag&#45;&gt;case .function_offset_i32</title>
<path fill="none" stroke="black" d="M530.26,-179.59C468,-174.95 361.01,-165.21 270.52,-148 235.29,-141.3 196.65,-131.08 165.12,-121.97"/>
<polygon fill="black" stroke="black" points="165.73,-118.51 155.15,-119.06 163.77,-125.22 165.73,-118.51"/>
<text text-anchor="middle" x="328.02" y="-140" font-family="Courier,monospace" font-size="10.00">function_offset_i32</text>
</g>
<!-- case .table_index_rel_sleb -->
<g id="node12" class="node">
<title>case .table_index_rel_sleb</title>
<polygon fill="none" stroke="black" points="375.02,-119 202.02,-119 202.02,-83 375.02,-83 375.02,-119"/>
<text text-anchor="middle" x="288.52" y="-98.5" font-family="Courier,monospace" font-size="10.00">case .table_index_rel_sleb</text>
</g>
<!-- switch_tag&#45;&gt;case .table_index_rel_sleb -->
<g id="edge12" class="edge">
<title>switch_tag&#45;&gt;case .table_index_rel_sleb</title>
<path fill="none" stroke="black" d="M544.07,-175.88C511.46,-169.54 463.59,-159.5 422.52,-148 396.29,-140.66 367.68,-131.06 343.65,-122.53"/>
<polygon fill="black" stroke="black" points="344.6,-119.15 334,-119.07 342.24,-125.74 344.6,-119.15"/>
<text text-anchor="middle" x="483.02" y="-140" font-family="Courier,monospace" font-size="10.00">table_index_rel_sleb</text>
</g>
<!-- other_cases -->
<g id="node13" class="node">
<title>other_cases</title>
<polygon fill="none" stroke="black" points="638.02,-119 393.02,-119 393.02,-83 644.02,-83 644.02,-113 638.02,-119"/>
<polyline fill="none" stroke="black" points="638.02,-119 638.02,-113 "/>
<polyline fill="none" stroke="black" points="644.02,-113 638.02,-113 "/>
<text text-anchor="middle" x="518.52" y="-104" font-family="Courier,monospace" font-size="10.00">... 其他 30+ 分支</text>
<text text-anchor="middle" x="518.52" y="-93" font-family="Courier,monospace" font-size="10.00">（结构类似，根据 tag 调用 reloc_* 或 panic）</text>
</g>
<!-- switch_tag&#45;&gt;other_cases -->
<g id="edge14" class="edge">
<title>switch_tag&#45;&gt;other_cases</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M571.37,-168.89C562.3,-157.4 549.26,-140.9 538.4,-127.16"/>
<polygon fill="black" stroke="black" points="540.93,-124.71 531.98,-119.04 535.43,-129.05 540.93,-124.71"/>
</g>
<!-- panic_todo -->
<g id="node7" class="node">
<title>panic_todo</title>
<polygon fill="none" stroke="black" points="169.02,-36 32.02,-36 32.02,0 169.02,0 169.02,-36"/>
<text text-anchor="middle" x="100.52" y="-15.5" font-family="Courier,monospace" font-size="10.00">触发 panic(&quot;TODO...&quot;)</text>
</g>
<!-- panic_todo&#45;&gt;loop_start -->
<g id="edge16" class="edge">
<title>panic_todo&#45;&gt;loop_start</title>
<path fill="none" stroke="black" d="M65.02,-36.07C29.04,-55.62 -17.97,-88.86 7.52,-119 107.87,-237.69 563.33,-261.57 807.22,-265.71"/>
<polygon fill="black" stroke="black" points="807.19,-269.21 817.24,-265.88 807.3,-262.21 807.19,-269.21"/>
<text text-anchor="middle" x="60.52" y="-140" font-family="Courier,monospace" font-size="10.00">继续循环</text>
</g>
<!-- call_reloc -->
<g id="node8" class="node">
<title>call_reloc</title>
<polygon fill="none" stroke="black" points="975.52,-36 837.52,-36 837.52,0 975.52,0 975.52,-36"/>
<text text-anchor="middle" x="906.52" y="-15.5" font-family="Courier,monospace" font-size="10.00">调用对应的 reloc_* 函数</text>
</g>
<!-- call_reloc&#45;&gt;loop_start -->
<g id="edge15" class="edge">
<title>call_reloc&#45;&gt;loop_start</title>
<path fill="none" stroke="black" d="M975.59,-26.86C991.51,-32.07 1006.64,-40.49 1016.52,-54 1058.38,-111.25 1010.45,-197.76 981.44,-240.4"/>
<polygon fill="black" stroke="black" points="978.43,-238.6 975.58,-248.81 984.17,-242.61 978.43,-238.6"/>
<text text-anchor="middle" x="1049.52" y="-140" font-family="Courier,monospace" font-size="10.00">继续循环</text>
</g>
<!-- case .function_index_i32&#45;&gt;call_reloc -->
<g id="edge7" class="edge">
<title>case .function_index_i32&#45;&gt;call_reloc</title>
<path fill="none" stroke="black" d="M913.27,-82.93C910.96,-77.35 908.75,-71.03 907.52,-65 906.29,-58.98 905.71,-52.43 905.5,-46.21"/>
<polygon fill="black" stroke="black" points="909,-46.18 905.45,-36.2 902,-46.22 909,-46.18"/>
<text text-anchor="middle" x="962.02" y="-57" font-family="Courier,monospace" font-size="10.00">reloc_u32_function</text>
</g>
<!-- case .function_index_leb&#45;&gt;call_reloc -->
<g id="edge9" class="edge">
<title>case .function_index_leb&#45;&gt;call_reloc</title>
<path fill="none" stroke="black" d="M758.07,-82.66C767.5,-73.05 780.25,-61.55 793.52,-54 804.16,-47.95 815.96,-42.82 827.81,-38.51"/>
<polygon fill="black" stroke="black" points="829,-41.8 837.31,-35.23 826.72,-35.19 829,-41.8"/>
<text text-anchor="middle" x="848.02" y="-57" font-family="Courier,monospace" font-size="10.00">reloc_leb_function</text>
</g>
<!-- case .function_offset_i32&#45;&gt;panic_todo -->
<g id="edge11" class="edge">
<title>case .function_offset_i32&#45;&gt;panic_todo</title>
<path fill="none" stroke="black" d="M100.52,-82.82C100.52,-72.19 100.52,-58.31 100.52,-46.2"/>
<polygon fill="black" stroke="black" points="104.02,-46.15 100.52,-36.15 97.02,-46.15 104.02,-46.15"/>
<text text-anchor="middle" x="152.02" y="-57" font-family="Courier,monospace" font-size="10.00">@panic(&quot;TODO...&quot;)</text>
</g>
<!-- case .table_index_rel_sleb&#45;&gt;panic_todo -->
<g id="edge13" class="edge">
<title>case .table_index_rel_sleb&#45;&gt;panic_todo</title>
<path fill="none" stroke="black" d="M261.49,-82.84C246.07,-73.51 226.16,-62.24 207.52,-54 195.48,-48.68 182.38,-43.73 169.59,-39.34"/>
<polygon fill="black" stroke="black" points="170.5,-35.95 159.91,-36.09 168.27,-42.59 170.5,-35.95"/>
<text text-anchor="middle" x="280.02" y="-57" font-family="Courier,monospace" font-size="10.00">@panic(&quot;TODO...&quot;)</text>
</g>
</g>
</svg>
