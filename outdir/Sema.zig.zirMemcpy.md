graph TD
    Start[开始] --> A[解析指令数据，获取源和目标指针]
    A --> B[检查目标指针是否为常量]
    B -->|是| C[返回错误: 不能复制到常量指针]
    B -->|否| D[获取源和目标指针的长度]
    D --> E[检查源和目标长度是否均为none]
    E -->|是| F[生成错误: 未知长度]
    E -->|否| G[检查元素类型兼容性]
    G --> H[类型不兼容?]
    H -->|是| I[生成类型错误]
    H -->|否| J[处理编译时已知长度]
    J --> K[检查长度是否匹配]
    K -->|不匹配| L[生成长度不匹配错误]
    K -->|匹配| M[处理零位类型]
    M -->|零位| N[直接返回]
    M -->|非零位| O[检查指针重叠]
    O -->|重叠| P[返回错误: 指针重叠]
    O -->|不重叠| Q[生成运行时安全检查]
    Q --> R[生成memcpy指令]
    R --> End[结束]
    
    C --> End
    F --> End
    I --> End
    L --> End
    P --> End
