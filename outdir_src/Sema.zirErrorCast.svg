<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: zirErrorCast Pages: 1 -->
<svg width="1762pt" height="977pt"
 viewBox="0.00 0.00 1762.35 977.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 973)">
<title>zirErrorCast</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-973 1758.35,-973 1758.35,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#f0f0f0" stroke="black" cx="1378.51" cy="-951" rx="29.5" ry="18"/>
<text text-anchor="middle" x="1378.51" y="-947.3" font-family="Courier,monospace" font-size="14.00">开始</text>
</g>
<!-- resolve_types -->
<g id="node2" class="node">
<title>resolve_types</title>
<polygon fill="#f0f0f0" stroke="black" points="1532.51,-896 1224.51,-896 1224.51,-860 1532.51,-860 1532.51,-896"/>
<text text-anchor="middle" x="1378.51" y="-874.3" font-family="Courier,monospace" font-size="14.00">解析目标类型(dest_ty)和操作数(operand)</text>
</g>
<!-- start&#45;&gt;resolve_types -->
<g id="edge1" class="edge">
<title>start&#45;&gt;resolve_types</title>
<path fill="none" stroke="black" d="M1378.51,-932.81C1378.51,-924.79 1378.51,-915.05 1378.51,-906.07"/>
<polygon fill="black" stroke="black" points="1382.01,-906.03 1378.51,-896.03 1375.01,-906.03 1382.01,-906.03"/>
</g>
<!-- check_dest_tag -->
<g id="node3" class="node">
<title>check_dest_tag</title>
<polygon fill="#f0f0f0" stroke="black" points="1378.51,-823 1089.78,-805 1378.51,-787 1667.24,-805 1378.51,-823"/>
<text text-anchor="middle" x="1378.51" y="-801.3" font-family="Courier,monospace" font-size="14.00">dest_tag 是 error_set 或 error_union?</text>
</g>
<!-- resolve_types&#45;&gt;check_dest_tag -->
<g id="edge2" class="edge">
<title>resolve_types&#45;&gt;check_dest_tag</title>
<path fill="none" stroke="black" d="M1378.51,-859.81C1378.51,-851.79 1378.51,-842.05 1378.51,-833.07"/>
<polygon fill="black" stroke="black" points="1382.01,-833.03 1378.51,-823.03 1375.01,-833.03 1382.01,-833.03"/>
</g>
<!-- check_operand_tag -->
<g id="node4" class="node">
<title>check_operand_tag</title>
<polygon fill="#f0f0f0" stroke="black" points="1208.51,-736 896.82,-718 1208.51,-700 1520.2,-718 1208.51,-736"/>
<text text-anchor="middle" x="1208.51" y="-714.3" font-family="Courier,monospace" font-size="14.00">operand_tag 是 error_set 或 error_union?</text>
</g>
<!-- check_dest_tag&#45;&gt;check_operand_tag -->
<g id="edge4" class="edge">
<title>check_dest_tag&#45;&gt;check_operand_tag</title>
<path fill="none" stroke="black" d="M1348.12,-788.8C1320.25,-774.87 1278.8,-754.14 1248.3,-738.89"/>
<polygon fill="black" stroke="black" points="1249.73,-735.69 1239.22,-734.35 1246.6,-741.95 1249.73,-735.69"/>
<text text-anchor="middle" x="1311.01" y="-757.8" font-family="Courier,monospace" font-size="14.00">是</text>
</g>
<!-- error_dest_type -->
<g id="node12" class="node">
<title>error_dest_type</title>
<polygon fill="#f0f0f0" stroke="black" points="1754.18,-682 1427.01,-682 1342.84,-646 1670.02,-646 1754.18,-682"/>
<text text-anchor="middle" x="1548.51" y="-660.3" font-family="Courier,monospace" font-size="14.00">返回错误：目标类型不符合要求</text>
</g>
<!-- check_dest_tag&#45;&gt;error_dest_type -->
<g id="edge3" class="edge">
<title>check_dest_tag&#45;&gt;error_dest_type</title>
<path fill="none" stroke="black" d="M1437.63,-790.56C1469.1,-780.5 1506.05,-763.6 1529.51,-736 1539.79,-723.91 1544.56,-706.82 1546.76,-692.44"/>
<polygon fill="black" stroke="black" points="1550.28,-692.44 1547.98,-682.09 1543.33,-691.61 1550.28,-692.44"/>
<text text-anchor="middle" x="1516.01" y="-757.8" font-family="Courier,monospace" font-size="14.00">否</text>
</g>
<!-- check_dest_error_set_operand_union -->
<g id="node5" class="node">
<title>check_dest_error_set_operand_union</title>
<polygon fill="#f0f0f0" stroke="black" points="887.51,-628 488.68,-610 887.51,-592 1286.34,-610 887.51,-628"/>
<text text-anchor="middle" x="887.51" y="-606.3" font-family="Courier,monospace" font-size="14.00">dest_tag 是 error_set 且 operand_tag 是 error_union?</text>
</g>
<!-- check_operand_tag&#45;&gt;check_dest_error_set_operand_union -->
<g id="edge6" class="edge">
<title>check_operand_tag&#45;&gt;check_dest_error_set_operand_union</title>
<path fill="none" stroke="black" d="M1164.55,-702.48C1106.86,-683.43 1005.56,-649.98 942.75,-629.24"/>
<polygon fill="black" stroke="black" points="943.61,-625.84 933.01,-626.02 941.41,-632.48 943.61,-625.84"/>
<text text-anchor="middle" x="1103.01" y="-660.3" font-family="Courier,monospace" font-size="14.00">是</text>
</g>
<!-- error_operand_type -->
<g id="node13" class="node">
<title>error_operand_type</title>
<polygon fill="#f0f0f0" stroke="black" points="1533.87,-574 1184.93,-574 1095.16,-538 1444.1,-538 1533.87,-574"/>
<text text-anchor="middle" x="1314.51" y="-552.3" font-family="Courier,monospace" font-size="14.00">返回错误：操作数类型不符合要求</text>
</g>
<!-- check_operand_tag&#45;&gt;error_operand_type -->
<g id="edge5" class="edge">
<title>check_operand_tag&#45;&gt;error_operand_type</title>
<path fill="none" stroke="black" d="M1229.57,-700.9C1249.44,-684.61 1278.62,-657.67 1295.51,-628 1303.16,-614.57 1307.83,-597.95 1310.62,-584.17"/>
<polygon fill="black" stroke="black" points="1314.07,-584.75 1312.41,-574.29 1307.18,-583.51 1314.07,-584.75"/>
<text text-anchor="middle" x="1291.01" y="-660.3" font-family="Courier,monospace" font-size="14.00">否</text>
</g>
<!-- check_error_union_payload -->
<g id="node6" class="node">
<title>check_error_union_payload</title>
<polygon fill="#f0f0f0" stroke="black" points="585.51,-520 183.67,-502 585.51,-484 987.36,-502 585.51,-520"/>
<text text-anchor="middle" x="585.51" y="-498.3" font-family="Courier,monospace" font-size="14.00">dest_ty 和 operand_ty 的 error_union 有效载荷是否匹配?</text>
</g>
<!-- check_dest_error_set_operand_union&#45;&gt;check_error_union_payload -->
<g id="edge8" class="edge">
<title>check_dest_error_set_operand_union&#45;&gt;check_error_union_payload</title>
<path fill="none" stroke="black" d="M844.56,-593.93C790.27,-574.87 696.82,-542.07 638.25,-521.51"/>
<polygon fill="black" stroke="black" points="639.4,-518.2 628.8,-518.19 637.08,-524.81 639.4,-518.2"/>
<text text-anchor="middle" x="788.01" y="-552.3" font-family="Courier,monospace" font-size="14.00">否</text>
</g>
<!-- error_cast_union_to_set -->
<g id="node14" class="node">
<title>error_cast_union_to_set</title>
<polygon fill="#f0f0f0" stroke="black" points="1358.63,-466 812.81,-466 672.4,-430 1218.22,-430 1358.63,-466"/>
<text text-anchor="middle" x="1015.51" y="-444.3" font-family="Courier,monospace" font-size="14.00">返回错误：不能将 error_union 转换为 error_set</text>
</g>
<!-- check_dest_error_set_operand_union&#45;&gt;error_cast_union_to_set -->
<g id="edge7" class="edge">
<title>check_dest_error_set_operand_union&#45;&gt;error_cast_union_to_set</title>
<path fill="none" stroke="black" d="M915.43,-593.22C940.34,-577.72 975.96,-551.8 996.51,-520 1004.96,-506.93 1009.67,-490.21 1012.29,-476.27"/>
<polygon fill="black" stroke="black" points="1015.76,-476.7 1013.91,-466.27 1008.85,-475.58 1015.76,-476.7"/>
<text text-anchor="middle" x="989.01" y="-552.3" font-family="Courier,monospace" font-size="14.00">是</text>
</g>
<!-- check_disjoint_errors -->
<g id="node7" class="node">
<title>check_disjoint_errors</title>
<polygon fill="#f0f0f0" stroke="black" points="312.51,-412 -0.01,-394 312.51,-376 625.04,-394 312.51,-412"/>
<text text-anchor="middle" x="312.51" y="-390.3" font-family="Courier,monospace" font-size="14.00">dest_err_ty 和 operand_err_ty 是否不相交?</text>
</g>
<!-- check_error_union_payload&#45;&gt;check_disjoint_errors -->
<g id="edge10" class="edge">
<title>check_error_union_payload&#45;&gt;check_disjoint_errors</title>
<path fill="none" stroke="black" d="M546.11,-485.7C497.04,-466.65 413.26,-434.12 360.5,-413.63"/>
<polygon fill="black" stroke="black" points="361.61,-410.31 351.02,-409.95 359.08,-416.84 361.61,-410.31"/>
<text text-anchor="middle" x="497.01" y="-444.3" font-family="Courier,monospace" font-size="14.00">是</text>
</g>
<!-- error_payload_mismatch -->
<g id="node15" class="node">
<title>error_payload_mismatch</title>
<polygon fill="#f0f0f0" stroke="black" points="997.18,-358 670.01,-358 585.84,-322 913.02,-322 997.18,-358"/>
<text text-anchor="middle" x="791.51" y="-336.3" font-family="Courier,monospace" font-size="14.00">返回错误：有效载荷类型不匹配</text>
</g>
<!-- check_error_union_payload&#45;&gt;error_payload_mismatch -->
<g id="edge9" class="edge">
<title>check_error_union_payload&#45;&gt;error_payload_mismatch</title>
<path fill="none" stroke="black" d="M597.85,-484.55C609.77,-469.32 628.87,-446.58 648.51,-430 679.81,-403.6 719.65,-379.45 749.32,-362.99"/>
<polygon fill="black" stroke="black" points="751.1,-366.01 758.18,-358.14 747.73,-359.87 751.1,-366.01"/>
<text text-anchor="middle" x="656.01" y="-444.3" font-family="Courier,monospace" font-size="14.00">否</text>
</g>
<!-- handle_known_value -->
<g id="node8" class="node">
<title>handle_known_value</title>
<polygon fill="#f0f0f0" stroke="black" points="324.51,-304 196.99,-286 324.51,-268 452.04,-286 324.51,-304"/>
<text text-anchor="middle" x="324.51" y="-282.3" font-family="Courier,monospace" font-size="14.00">操作数值是否已知?</text>
</g>
<!-- check_disjoint_errors&#45;&gt;handle_known_value -->
<g id="edge12" class="edge">
<title>check_disjoint_errors&#45;&gt;handle_known_value</title>
<path fill="none" stroke="black" d="M314.44,-375.97C316.33,-359.28 319.24,-333.58 321.45,-314.08"/>
<polygon fill="black" stroke="black" points="324.94,-314.32 322.59,-303.99 317.99,-313.53 324.94,-314.32"/>
<text text-anchor="middle" x="363.51" y="-336.3" font-family="Courier,monospace" font-size="14.00">否或条件满足</text>
</g>
<!-- error_no_common_errors -->
<g id="node16" class="node">
<title>error_no_common_errors</title>
<polygon fill="#f0f0f0" stroke="black" points="776,-250 469.8,-250 391.03,-214 697.23,-214 776,-250"/>
<text text-anchor="middle" x="583.51" y="-228.3" font-family="Courier,monospace" font-size="14.00">返回错误：错误集无共同错误</text>
</g>
<!-- check_disjoint_errors&#45;&gt;error_no_common_errors -->
<g id="edge11" class="edge">
<title>check_disjoint_errors&#45;&gt;error_no_common_errors</title>
<path fill="none" stroke="black" d="M361.02,-378.71C377.18,-373.16 395,-366.16 410.51,-358 465.68,-328.97 523.06,-284.11 555.91,-256.76"/>
<polygon fill="black" stroke="black" points="558.31,-259.32 563.72,-250.21 553.81,-253.96 558.31,-259.32"/>
<text text-anchor="middle" x="518.51" y="-336.3" font-family="Courier,monospace" font-size="14.00">是且条件不满足</text>
</g>
<!-- generate_ref -->
<g id="node9" class="node">
<title>generate_ref</title>
<polygon fill="#f0f0f0" stroke="black" points="397.01,-196 252.01,-196 252.01,-160 397.01,-160 397.01,-196"/>
<text text-anchor="middle" x="324.51" y="-174.3" font-family="Courier,monospace" font-size="14.00">生成对应类型的引用</text>
</g>
<!-- handle_known_value&#45;&gt;generate_ref -->
<g id="edge13" class="edge">
<title>handle_known_value&#45;&gt;generate_ref</title>
<path fill="none" stroke="black" d="M324.51,-267.97C324.51,-251.38 324.51,-225.88 324.51,-206.43"/>
<polygon fill="black" stroke="black" points="328.01,-206.34 324.51,-196.34 321.01,-206.34 328.01,-206.34"/>
<text text-anchor="middle" x="332.01" y="-228.3" font-family="Courier,monospace" font-size="14.00">是</text>
</g>
<!-- runtime_checks -->
<g id="node10" class="node">
<title>runtime_checks</title>
<polygon fill="#f0f0f0" stroke="black" points="644.01,-196 499.01,-196 499.01,-160 644.01,-160 644.01,-196"/>
<text text-anchor="middle" x="571.51" y="-174.3" font-family="Courier,monospace" font-size="14.00">添加运行时安全检查</text>
</g>
<!-- handle_known_value&#45;&gt;runtime_checks -->
<g id="edge14" class="edge">
<title>handle_known_value&#45;&gt;runtime_checks</title>
<path fill="none" stroke="black" d="M333.33,-268.9C344.33,-249.06 362.33,-217.53 367.51,-214 387.23,-200.56 441.39,-191.65 488.95,-186.18"/>
<polygon fill="black" stroke="black" points="489.43,-189.65 498.99,-185.07 488.66,-182.69 489.43,-189.65"/>
<text text-anchor="middle" x="375.01" y="-228.3" font-family="Courier,monospace" font-size="14.00">否</text>
</g>
<!-- error_not_member -->
<g id="node17" class="node">
<title>error_not_member</title>
<polygon fill="#f0f0f0" stroke="black" points="513,-109 206.8,-109 128.03,-73 434.23,-73 513,-109"/>
<text text-anchor="middle" x="320.51" y="-87.3" font-family="Courier,monospace" font-size="14.00">返回错误：错误不在目标集中</text>
</g>
<!-- generate_ref&#45;&gt;error_not_member -->
<g id="edge15" class="edge">
<title>generate_ref&#45;&gt;error_not_member</title>
<path fill="none" stroke="black" d="M323.7,-159.8C323.16,-148.16 322.42,-132.55 321.8,-119.24"/>
<polygon fill="black" stroke="black" points="325.29,-119 321.32,-109.18 318.3,-119.33 325.29,-119"/>
<text text-anchor="middle" x="373.51" y="-130.8" font-family="Courier,monospace" font-size="14.00">错误不在目标集</text>
</g>
<!-- end -->
<g id="node18" class="node">
<title>end</title>
<ellipse fill="#f0f0f0" stroke="black" cx="774.51" cy="-18" rx="48.19" ry="18"/>
<text text-anchor="middle" x="774.51" y="-14.3" font-family="Courier,monospace" font-size="14.00">返回结果</text>
</g>
<!-- generate_ref&#45;&gt;end -->
<g id="edge16" class="edge">
<title>generate_ref&#45;&gt;end</title>
<path fill="none" stroke="black" d="M375.1,-159.92C391.8,-154.25 410.47,-147.89 427.51,-142 469.36,-127.54 483.87,-132.32 521.51,-109 541.02,-96.92 538.47,-84.17 558.51,-73 608.58,-45.1 673.12,-31.4 718.57,-24.82"/>
<polygon fill="black" stroke="black" points="719.11,-28.28 728.53,-23.44 718.15,-21.34 719.11,-28.28"/>
<text text-anchor="middle" x="573.01" y="-87.3" font-family="Courier,monospace" font-size="14.00">成功</text>
</g>
<!-- final_conversion -->
<g id="node11" class="node">
<title>final_conversion</title>
<polygon fill="#f0f0f0" stroke="black" points="727.01,-109 596.01,-109 596.01,-73 727.01,-73 727.01,-109"/>
<text text-anchor="middle" x="661.51" y="-87.3" font-family="Courier,monospace" font-size="14.00">生成最终转换指令</text>
</g>
<!-- runtime_checks&#45;&gt;final_conversion -->
<g id="edge17" class="edge">
<title>runtime_checks&#45;&gt;final_conversion</title>
<path fill="none" stroke="black" d="M589.73,-159.8C603.02,-147.24 621.23,-130.05 635.97,-116.12"/>
<polygon fill="black" stroke="black" points="638.46,-118.59 643.33,-109.18 633.65,-113.5 638.46,-118.59"/>
</g>
<!-- final_conversion&#45;&gt;end -->
<g id="edge18" class="edge">
<title>final_conversion&#45;&gt;end</title>
<path fill="none" stroke="black" d="M688.58,-72.99C704.7,-62.86 725.27,-49.94 742.23,-39.28"/>
<polygon fill="black" stroke="black" points="744.13,-42.22 750.74,-33.94 740.41,-36.3 744.13,-42.22"/>
</g>
<!-- error_dest_type&#45;&gt;end -->
<g id="edge19" class="edge">
<title>error_dest_type&#45;&gt;end</title>
<path fill="none" stroke="black" d="M1548.51,-645.74C1548.51,-624.76 1548.51,-588.28 1548.51,-557 1548.51,-557 1548.51,-557 1548.51,-90 1548.51,-54.03 1011.51,-28.72 832.09,-21.27"/>
<polygon fill="black" stroke="black" points="832.19,-17.77 822.06,-20.86 831.9,-24.77 832.19,-17.77"/>
</g>
<!-- error_operand_type&#45;&gt;end -->
<g id="edge20" class="edge">
<title>error_operand_type&#45;&gt;end</title>
<path fill="none" stroke="black" d="M1331.26,-537.87C1348.71,-518.15 1373.51,-483.96 1373.51,-449 1373.51,-449 1373.51,-449 1373.51,-90 1373.51,-35.93 983.6,-22.89 832.94,-19.87"/>
<polygon fill="black" stroke="black" points="832.59,-16.36 822.52,-19.67 832.45,-23.36 832.59,-16.36"/>
</g>
<!-- error_cast_union_to_set&#45;&gt;end -->
<g id="edge21" class="edge">
<title>error_cast_union_to_set&#45;&gt;end</title>
<path fill="none" stroke="black" d="M1014.99,-429.74C1014.4,-408.77 1013.51,-372.29 1013.51,-341 1013.51,-341 1013.51,-341 1013.51,-90 1013.51,-52.04 901.35,-32.77 830.7,-24.4"/>
<polygon fill="black" stroke="black" points="830.93,-20.9 820.6,-23.24 830.13,-27.85 830.93,-20.9"/>
</g>
<!-- error_payload_mismatch&#45;&gt;end -->
<g id="edge22" class="edge">
<title>error_payload_mismatch&#45;&gt;end</title>
<path fill="none" stroke="black" d="M792.04,-321.74C792.63,-300.77 793.51,-264.29 793.51,-233 793.51,-233 793.51,-233 793.51,-90 793.51,-75 789.51,-58.8 785.17,-45.67"/>
<polygon fill="black" stroke="black" points="788.34,-44.13 781.7,-35.88 781.74,-46.47 788.34,-44.13"/>
</g>
<!-- error_no_common_errors&#45;&gt;end -->
<g id="edge23" class="edge">
<title>error_no_common_errors&#45;&gt;end</title>
<path fill="none" stroke="black" d="M623.78,-213.83C633.9,-208.74 644.44,-202.7 653.51,-196 696.5,-164.24 707.2,-153.68 736.51,-109 749.47,-89.26 759.57,-64.37 766.09,-45.77"/>
<polygon fill="black" stroke="black" points="769.45,-46.76 769.34,-36.16 762.82,-44.51 769.45,-46.76"/>
</g>
<!-- error_not_member&#45;&gt;end -->
<g id="edge24" class="edge">
<title>error_not_member&#45;&gt;end</title>
<path fill="none" stroke="black" d="M418.99,-72.97C455.27,-66.82 496.74,-59.93 534.51,-54 598.2,-44 671.56,-33.44 720.24,-26.57"/>
<polygon fill="black" stroke="black" points="720.82,-30.02 730.24,-25.16 719.85,-23.09 720.82,-30.02"/>
</g>
</g>
</svg>
