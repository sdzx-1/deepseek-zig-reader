<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="1650pt" height="890pt"
 viewBox="0.00 0.00 1650.19 890.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 886)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-886 1646.19,-886 1646.19,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<path fill="none" stroke="black" d="M308.36,-882C308.36,-882 206.36,-882 206.36,-882 200.36,-882 194.36,-876 194.36,-870 194.36,-870 194.36,-858 194.36,-858 194.36,-852 200.36,-846 206.36,-846 206.36,-846 308.36,-846 308.36,-846 314.36,-846 320.36,-852 320.36,-858 320.36,-858 320.36,-870 320.36,-870 320.36,-876 314.36,-882 308.36,-882"/>
<text text-anchor="middle" x="257.36" y="-860.3" font-family="Helvetica,sans-Serif" font-size="14.00">Start finishFunc</text>
</g>
<!-- determine_return_type -->
<g id="node2" class="node">
<title>determine_return_type</title>
<path fill="none" stroke="black" d="M473.86,-809C473.86,-809 40.86,-809 40.86,-809 34.86,-809 28.86,-803 28.86,-797 28.86,-797 28.86,-785 28.86,-785 28.86,-779 34.86,-773 40.86,-773 40.86,-773 473.86,-773 473.86,-773 479.86,-773 485.86,-779 485.86,-785 485.86,-785 485.86,-797 485.86,-797 485.86,-803 479.86,-809 473.86,-809"/>
<text text-anchor="middle" x="257.36" y="-787.3" font-family="Helvetica,sans-Serif" font-size="14.00">Determine return_type based on opt_func_index and ret_poison</text>
</g>
<!-- start&#45;&gt;determine_return_type -->
<g id="edge1" class="edge">
<title>start&#45;&gt;determine_return_type</title>
<path fill="none" stroke="black" d="M257.36,-845.81C257.36,-837.79 257.36,-828.05 257.36,-819.07"/>
<polygon fill="black" stroke="black" points="260.86,-819.03 257.36,-809.03 253.86,-819.03 260.86,-819.03"/>
</g>
<!-- check_valid_return_type -->
<g id="node3" class="node">
<title>check_valid_return_type</title>
<path fill="none" stroke="black" d="M245.39,-735.16C245.39,-735.16 12.11,-718.84 12.11,-718.84 6.12,-718.42 6.12,-717.58 12.11,-717.16 12.11,-717.16 245.39,-700.84 245.39,-700.84 251.38,-700.42 263.35,-700.42 269.33,-700.84 269.33,-700.84 502.62,-717.16 502.62,-717.16 508.61,-717.58 508.61,-718.42 502.62,-718.84 502.62,-718.84 269.33,-735.16 269.33,-735.16 263.35,-735.58 251.38,-735.58 245.39,-735.16"/>
<text text-anchor="middle" x="257.36" y="-714.3" font-family="Helvetica,sans-Serif" font-size="14.00">Check return_type.isValidReturnType()</text>
</g>
<!-- determine_return_type&#45;&gt;check_valid_return_type -->
<g id="edge2" class="edge">
<title>determine_return_type&#45;&gt;check_valid_return_type</title>
<path fill="none" stroke="black" d="M257.36,-772.81C257.36,-764.79 257.36,-755.05 257.36,-746.07"/>
<polygon fill="black" stroke="black" points="260.86,-746.03 257.36,-736.03 253.86,-746.03 260.86,-746.03"/>
</g>
<!-- error_invalid_return -->
<g id="node4" class="node">
<title>error_invalid_return</title>
<path fill="none" stroke="black" d="M349.36,-595C349.36,-595 123.36,-595 123.36,-595 117.36,-595 111.36,-589 111.36,-583 111.36,-583 111.36,-571 111.36,-571 111.36,-565 117.36,-559 123.36,-559 123.36,-559 349.36,-559 349.36,-559 355.36,-559 361.36,-565 361.36,-571 361.36,-571 361.36,-583 361.36,-583 361.36,-589 355.36,-595 349.36,-595"/>
<text text-anchor="middle" x="236.36" y="-573.3" font-family="Helvetica,sans-Serif" font-size="14.00">Fail with &#39;invalid return type&#39; error</text>
</g>
<!-- check_valid_return_type&#45;&gt;error_invalid_return -->
<g id="edge3" class="edge">
<title>check_valid_return_type&#45;&gt;error_invalid_return</title>
<path fill="none" stroke="black" d="M254.79,-699.96C251.22,-676.3 244.71,-633.26 240.47,-605.15"/>
<polygon fill="black" stroke="black" points="243.91,-604.55 238.96,-595.18 236.99,-605.59 243.91,-604.55"/>
<text text-anchor="middle" x="261.86" y="-670.8" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- check_extern_conv -->
<g id="node5" class="node">
<title>check_extern_conv</title>
<path fill="none" stroke="black" d="M590.38,-648.36C590.38,-648.36 275.85,-631.64 275.85,-631.64 269.86,-631.32 269.86,-630.68 275.85,-630.36 275.85,-630.36 590.38,-613.64 590.38,-613.64 596.37,-613.32 608.36,-613.32 614.35,-613.64 614.35,-613.64 928.88,-630.36 928.88,-630.36 934.87,-630.68 934.87,-631.32 928.88,-631.64 928.88,-631.64 614.35,-648.36 614.35,-648.36 608.36,-648.68 596.37,-648.68 590.38,-648.36"/>
<text text-anchor="middle" x="602.36" y="-627.3" font-family="Helvetica,sans-Serif" font-size="14.00">Check extern calling convention allows return type</text>
</g>
<!-- check_valid_return_type&#45;&gt;check_extern_conv -->
<g id="edge4" class="edge">
<title>check_valid_return_type&#45;&gt;check_extern_conv</title>
<path fill="none" stroke="black" d="M311.27,-703.72C371.84,-688.8 470.21,-664.56 535.6,-648.45"/>
<polygon fill="black" stroke="black" points="536.52,-651.83 545.39,-646.04 534.85,-645.03 536.52,-651.83"/>
<text text-anchor="middle" x="461.86" y="-670.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- return_result -->
<g id="node16" class="node">
<title>return_result</title>
<path fill="none" stroke="black" d="M771.36,-36C771.36,-36 611.36,-36 611.36,-36 605.36,-36 599.36,-30 599.36,-24 599.36,-24 599.36,-12 599.36,-12 599.36,-6 605.36,0 611.36,0 611.36,0 771.36,0 771.36,0 777.36,0 783.36,-6 783.36,-12 783.36,-12 783.36,-24 783.36,-24 783.36,-30 777.36,-36 771.36,-36"/>
<text text-anchor="middle" x="691.36" y="-14.3" font-family="Helvetica,sans-Serif" font-size="14.00">Return Air.internedToRef</text>
</g>
<!-- error_invalid_return&#45;&gt;return_result -->
<!-- error_extern_return -->
<g id="node6" class="node">
<title>error_extern_return</title>
<path fill="none" stroke="black" d="M571.36,-487C571.36,-487 263.36,-487 263.36,-487 257.36,-487 251.36,-481 251.36,-475 251.36,-475 251.36,-463 251.36,-463 251.36,-457 257.36,-451 263.36,-451 263.36,-451 571.36,-451 571.36,-451 577.36,-451 583.36,-457 583.36,-463 583.36,-463 583.36,-475 583.36,-475 583.36,-481 577.36,-487 571.36,-487"/>
<text text-anchor="middle" x="417.36" y="-465.3" font-family="Helvetica,sans-Serif" font-size="14.00">Fail with &#39;extern return type not allowed&#39; error</text>
</g>
<!-- check_extern_conv&#45;&gt;error_extern_return -->
<g id="edge5" class="edge">
<title>check_extern_conv&#45;&gt;error_extern_return</title>
<path fill="none" stroke="black" d="M553.18,-615.55C515.84,-602.11 466.01,-578.42 436.36,-541 426.58,-528.65 421.81,-511.69 419.5,-497.44"/>
<polygon fill="black" stroke="black" points="422.93,-496.66 418.17,-487.2 415.99,-497.56 422.93,-496.66"/>
<text text-anchor="middle" x="527.86" y="-573.3" font-family="Helvetica,sans-Serif" font-size="14.00">Invalid</text>
</g>
<!-- check_comptime_params -->
<g id="node7" class="node">
<title>check_comptime_params</title>
<path fill="none" stroke="black" d="M742.38,-540.3C742.38,-540.3 457.67,-523.7 457.67,-523.7 451.68,-523.35 451.68,-522.65 457.67,-522.3 457.67,-522.3 742.38,-505.7 742.38,-505.7 748.37,-505.35 760.35,-505.35 766.34,-505.7 766.34,-505.7 1051.06,-522.3 1051.06,-522.3 1057.05,-522.65 1057.05,-523.35 1051.06,-523.7 1051.06,-523.7 766.34,-540.3 766.34,-540.3 760.35,-540.65 748.37,-540.65 742.38,-540.3"/>
<text text-anchor="middle" x="754.36" y="-519.3" font-family="Helvetica,sans-Serif" font-size="14.00">Check if all params are comptime (if required)</text>
</g>
<!-- check_extern_conv&#45;&gt;check_comptime_params -->
<g id="edge6" class="edge">
<title>check_extern_conv&#45;&gt;check_comptime_params</title>
<path fill="none" stroke="black" d="M625.12,-614.13C651.2,-595.94 694.09,-566.03 723.25,-545.7"/>
<polygon fill="black" stroke="black" points="725.25,-548.57 731.45,-539.98 721.25,-542.83 725.25,-548.57"/>
<text text-anchor="middle" x="717.36" y="-573.3" font-family="Helvetica,sans-Serif" font-size="14.00">Valid</text>
</g>
<!-- error_extern_return&#45;&gt;return_result -->
<!-- error_comptime_params -->
<g id="node8" class="node">
<title>error_comptime_params</title>
<path fill="none" stroke="black" d="M700.36,-379C700.36,-379 444.36,-379 444.36,-379 438.36,-379 432.36,-373 432.36,-367 432.36,-367 432.36,-355 432.36,-355 432.36,-349 438.36,-343 444.36,-343 444.36,-343 700.36,-343 700.36,-343 706.36,-343 712.36,-349 712.36,-355 712.36,-355 712.36,-367 712.36,-367 712.36,-373 706.36,-379 700.36,-379"/>
<text text-anchor="middle" x="572.36" y="-357.3" font-family="Helvetica,sans-Serif" font-size="14.00">Fail with &#39;non&#45;comptime params&#39; error</text>
</g>
<!-- check_comptime_params&#45;&gt;error_comptime_params -->
<g id="edge7" class="edge">
<title>check_comptime_params&#45;&gt;error_comptime_params</title>
<path fill="none" stroke="black" d="M670.63,-509.81C642.76,-504.18 616.28,-496.59 606.36,-487 592.49,-473.58 581.94,-421.99 576.49,-389.43"/>
<polygon fill="black" stroke="black" points="579.89,-388.51 574.84,-379.2 572.98,-389.63 579.89,-388.51"/>
<text text-anchor="middle" x="704.86" y="-465.3" font-family="Helvetica,sans-Serif" font-size="14.00">Non&#45;comptime param exists</text>
</g>
<!-- validate_stack_align -->
<g id="node9" class="node">
<title>validate_stack_align</title>
<path fill="none" stroke="black" d="M856.4,-432.08C856.4,-432.08 646.06,-415.92 646.06,-415.92 640.08,-415.46 640.08,-414.54 646.06,-414.08 646.06,-414.08 856.4,-397.92 856.4,-397.92 862.38,-397.46 874.35,-397.46 880.33,-397.92 880.33,-397.92 1090.67,-414.08 1090.67,-414.08 1096.65,-414.54 1096.65,-415.46 1090.67,-415.92 1090.67,-415.92 880.33,-432.08 880.33,-432.08 874.35,-432.54 862.38,-432.54 856.4,-432.08"/>
<text text-anchor="middle" x="868.36" y="-411.3" font-family="Helvetica,sans-Serif" font-size="14.00">Validate incoming stack alignment</text>
</g>
<!-- check_comptime_params&#45;&gt;validate_stack_align -->
<g id="edge8" class="edge">
<title>check_comptime_params&#45;&gt;validate_stack_align</title>
<path fill="none" stroke="black" d="M781.02,-506.45C789.79,-500.81 799.34,-494.07 807.36,-487 823.26,-472.99 838.79,-454.83 850.2,-440.38"/>
<polygon fill="black" stroke="black" points="853.06,-442.41 856.42,-432.36 847.53,-438.12 853.06,-442.41"/>
<text text-anchor="middle" x="885.86" y="-465.3" font-family="Helvetica,sans-Serif" font-size="14.00">All comptime</text>
</g>
<!-- error_comptime_params&#45;&gt;return_result -->
<!-- error_stack_align -->
<g id="node10" class="node">
<title>error_stack_align</title>
<path fill="none" stroke="black" d="M856.86,-271C856.86,-271 525.86,-271 525.86,-271 519.86,-271 513.86,-265 513.86,-259 513.86,-259 513.86,-247 513.86,-247 513.86,-241 519.86,-235 525.86,-235 525.86,-235 856.86,-235 856.86,-235 862.86,-235 868.86,-241 868.86,-247 868.86,-247 868.86,-259 868.86,-259 868.86,-265 862.86,-271 856.86,-271"/>
<text text-anchor="middle" x="691.36" y="-249.3" font-family="Helvetica,sans-Serif" font-size="14.00">Fail with &#39;stack alignment not power of two&#39; error</text>
</g>
<!-- validate_stack_align&#45;&gt;error_stack_align -->
<g id="edge9" class="edge">
<title>validate_stack_align&#45;&gt;error_stack_align</title>
<path fill="none" stroke="black" d="M848.19,-398.33C840.43,-392.3 831.48,-385.33 823.36,-379 792.66,-355.05 782.74,-351.67 754.36,-325 739.11,-310.66 723.48,-293.06 711.6,-278.98"/>
<polygon fill="black" stroke="black" points="714.16,-276.58 705.07,-271.14 708.78,-281.06 714.16,-276.58"/>
<text text-anchor="middle" x="882.86" y="-357.3" font-family="Helvetica,sans-Serif" font-size="14.00">Not power of two</text>
</g>
<!-- check_special_cc_return -->
<g id="node11" class="node">
<title>check_special_cc_return</title>
<path fill="none" stroke="black" d="M1078.38,-324.34C1078.38,-324.34 774.91,-307.66 774.91,-307.66 768.91,-307.33 768.91,-306.67 774.91,-306.34 774.91,-306.34 1078.38,-289.66 1078.38,-289.66 1084.37,-289.33 1096.35,-289.33 1102.35,-289.66 1102.35,-289.66 1405.82,-306.34 1405.82,-306.34 1411.81,-306.67 1411.81,-307.33 1405.82,-307.66 1405.82,-307.66 1102.35,-324.34 1102.35,-324.34 1096.35,-324.67 1084.37,-324.67 1078.38,-324.34"/>
<text text-anchor="middle" x="1090.36" y="-303.3" font-family="Helvetica,sans-Serif" font-size="14.00">Check special calling conventions (e.g. interrupt)</text>
</g>
<!-- validate_stack_align&#45;&gt;check_special_cc_return -->
<g id="edge10" class="edge">
<title>validate_stack_align&#45;&gt;check_special_cc_return</title>
<path fill="none" stroke="black" d="M899.23,-399.26C938.3,-380.61 1005.73,-348.41 1049.17,-327.67"/>
<polygon fill="black" stroke="black" points="1050.8,-330.77 1058.32,-323.3 1047.79,-324.45 1050.8,-330.77"/>
<text text-anchor="middle" x="1028.36" y="-357.3" font-family="Helvetica,sans-Serif" font-size="14.00">Valid</text>
</g>
<!-- error_stack_align&#45;&gt;return_result -->
<!-- error_cc_return -->
<g id="node12" class="node">
<title>error_cc_return</title>
<path fill="none" stroke="black" d="M1010.36,-163C1010.36,-163 736.36,-163 736.36,-163 730.36,-163 724.36,-157 724.36,-151 724.36,-151 724.36,-139 724.36,-139 724.36,-133 730.36,-127 736.36,-127 736.36,-127 1010.36,-127 1010.36,-127 1016.36,-127 1022.36,-133 1022.36,-139 1022.36,-139 1022.36,-151 1022.36,-151 1022.36,-157 1016.36,-163 1010.36,-163"/>
<text text-anchor="middle" x="873.36" y="-141.3" font-family="Helvetica,sans-Serif" font-size="14.00">Fail with &#39;invalid return type for CC&#39; error</text>
</g>
<!-- check_special_cc_return&#45;&gt;error_cc_return -->
<g id="edge11" class="edge">
<title>check_special_cc_return&#45;&gt;error_cc_return</title>
<path fill="none" stroke="black" d="M1034.87,-291.95C993.19,-278.82 937.33,-255.37 901.36,-217 889.99,-204.87 883.04,-187.56 878.9,-173.07"/>
<polygon fill="black" stroke="black" points="882.23,-171.96 876.37,-163.13 875.45,-173.69 882.23,-171.96"/>
<text text-anchor="middle" x="1041.86" y="-249.3" font-family="Helvetica,sans-Serif" font-size="14.00">Invalid return type</text>
</g>
<!-- check_cc_support -->
<g id="node13" class="node">
<title>check_cc_support</title>
<path fill="none" stroke="black" d="M1264.38,-216.41C1264.38,-216.41 922.7,-199.59 922.7,-199.59 916.71,-199.3 916.71,-198.7 922.7,-198.41 922.7,-198.41 1264.38,-181.59 1264.38,-181.59 1270.37,-181.3 1282.36,-181.3 1288.35,-181.59 1288.35,-181.59 1630.03,-198.41 1630.03,-198.41 1636.02,-198.7 1636.02,-199.3 1630.03,-199.59 1630.03,-199.59 1288.35,-216.41 1288.35,-216.41 1282.36,-216.7 1270.37,-216.7 1264.38,-216.41"/>
<text text-anchor="middle" x="1276.36" y="-195.3" font-family="Helvetica,sans-Serif" font-size="14.00">Check calling convention architecture/backend support</text>
</g>
<!-- check_special_cc_return&#45;&gt;check_cc_support -->
<g id="edge12" class="edge">
<title>check_special_cc_return&#45;&gt;check_cc_support</title>
<path fill="none" stroke="black" d="M1117.81,-290.36C1150.23,-271.88 1204.27,-241.09 1240.11,-220.66"/>
<polygon fill="black" stroke="black" points="1241.85,-223.7 1248.81,-215.7 1238.39,-217.62 1241.85,-223.7"/>
<text text-anchor="middle" x="1227.36" y="-249.3" font-family="Helvetica,sans-Serif" font-size="14.00">Valid</text>
</g>
<!-- error_cc_return&#45;&gt;return_result -->
<!-- error_cc_support -->
<g id="node14" class="node">
<title>error_cc_support</title>
<path fill="none" stroke="black" d="M1044.86,-109C1044.86,-109 823.86,-109 823.86,-109 817.86,-109 811.86,-103 811.86,-97 811.86,-97 811.86,-85 811.86,-85 811.86,-79 817.86,-73 823.86,-73 823.86,-73 1044.86,-73 1044.86,-73 1050.86,-73 1056.86,-79 1056.86,-85 1056.86,-85 1056.86,-97 1056.86,-97 1056.86,-103 1050.86,-109 1044.86,-109"/>
<text text-anchor="middle" x="934.36" y="-87.3" font-family="Helvetica,sans-Serif" font-size="14.00">Fail with &#39;CC not supported&#39; error</text>
</g>
<!-- check_cc_support&#45;&gt;error_cc_support -->
<g id="edge13" class="edge">
<title>check_cc_support&#45;&gt;error_cc_support</title>
<path fill="none" stroke="black" d="M1219.28,-183.75C1195.95,-177.7 1168.77,-170.35 1144.36,-163 1092.23,-147.29 1033.58,-127.26 991.54,-112.48"/>
<polygon fill="black" stroke="black" points="992.62,-109.15 982.03,-109.13 990.3,-115.76 992.62,-109.15"/>
<text text-anchor="middle" x="1189.86" y="-141.3" font-family="Helvetica,sans-Serif" font-size="14.00">Unsupported</text>
</g>
<!-- resolve_stack_trace -->
<g id="node15" class="node">
<title>resolve_stack_trace</title>
<path fill="none" stroke="black" d="M1344.36,-109C1344.36,-109 1096.36,-109 1096.36,-109 1090.36,-109 1084.36,-103 1084.36,-97 1084.36,-97 1084.36,-85 1084.36,-85 1084.36,-79 1090.36,-73 1096.36,-73 1096.36,-73 1344.36,-73 1344.36,-73 1350.36,-73 1356.36,-79 1356.36,-85 1356.36,-85 1356.36,-97 1356.36,-97 1356.36,-103 1350.36,-109 1344.36,-109"/>
<text text-anchor="middle" x="1220.36" y="-87.3" font-family="Helvetica,sans-Serif" font-size="14.00">Resolve StackTrace fields (if needed)</text>
</g>
<!-- check_cc_support&#45;&gt;resolve_stack_trace -->
<g id="edge14" class="edge">
<title>check_cc_support&#45;&gt;resolve_stack_trace</title>
<path fill="none" stroke="black" d="M1267.37,-180.97C1258.44,-164.07 1244.63,-137.94 1234.29,-118.36"/>
<polygon fill="black" stroke="black" points="1237.29,-116.55 1229.53,-109.34 1231.1,-119.82 1237.29,-116.55"/>
<text text-anchor="middle" x="1292.86" y="-141.3" font-family="Helvetica,sans-Serif" font-size="14.00">Supported</text>
</g>
<!-- error_cc_support&#45;&gt;return_result -->
<!-- resolve_stack_trace&#45;&gt;return_result -->
<g id="edge15" class="edge">
<title>resolve_stack_trace&#45;&gt;return_result</title>
<path fill="none" stroke="black" d="M1093.66,-72.99C1001.77,-60.66 879.11,-44.2 793.49,-32.71"/>
<polygon fill="black" stroke="black" points="793.87,-29.23 783.49,-31.37 792.94,-36.16 793.87,-29.23"/>
</g>
</g>
</svg>
