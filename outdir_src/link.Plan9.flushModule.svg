<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flushModule Pages: 1 -->
<svg width="517pt" height="955pt"
 viewBox="0.00 0.00 517.00 955.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 951)">
<title>flushModule</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-951 513,-951 513,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="none" stroke="black" cx="131" cy="-929" rx="29.5" ry="18"/>
<text text-anchor="middle" x="131" y="-925.3" font-family="Times,serif" font-size="14.00">开始</text>
</g>
<!-- check_format -->
<g id="node3" class="node">
<title>check_format</title>
<path fill="none" stroke="black" d="M250,-874C250,-874 12,-874 12,-874 6,-874 0,-868 0,-862 0,-862 0,-833 0,-833 0,-827 6,-821 12,-821 12,-821 250,-821 250,-821 256,-821 262,-827 262,-833 262,-833 262,-862 262,-862 262,-868 256,-874 250,-874"/>
<text text-anchor="middle" x="131" y="-858.8" font-family="Times,serif" font-size="14.00">检查对象格式</text>
<text text-anchor="middle" x="131" y="-843.8" font-family="Times,serif" font-size="14.00">if (builtin.object_format != .plan9)</text>
<text text-anchor="middle" x="131" y="-828.8" font-family="Times,serif" font-size="14.00">@panic</text>
</g>
<!-- start&#45;&gt;check_format -->
<g id="edge1" class="edge">
<title>start&#45;&gt;check_format</title>
<path fill="none" stroke="black" d="M131,-910.75C131,-902.99 131,-893.51 131,-884.32"/>
<polygon fill="black" stroke="black" points="134.5,-884.18 131,-874.18 127.5,-884.18 134.5,-884.18"/>
</g>
<!-- end -->
<g id="node2" class="node">
<title>end</title>
<ellipse fill="none" stroke="black" cx="208" cy="-18" rx="29.5" ry="18"/>
<text text-anchor="middle" x="208" y="-14.3" font-family="Times,serif" font-size="14.00">结束</text>
</g>
<!-- check_format&#45;&gt;end -->
<g id="edge15" class="edge">
<title>check_format&#45;&gt;end</title>
<path fill="none" stroke="black" d="M124.21,-820.63C119.85,-801.75 115,-775.46 115,-752 115,-752 115,-752 115,-120 115,-82.52 150.08,-52.98 177.15,-35.77"/>
<polygon fill="black" stroke="black" points="179.24,-38.59 185.96,-30.41 175.6,-32.61 179.24,-38.59"/>
<text text-anchor="middle" x="170" y="-439.8" font-family="Times,serif" font-size="14.00">格式错误，panic</text>
</g>
<!-- init_vars -->
<g id="node4" class="node">
<title>init_vars</title>
<path fill="none" stroke="black" d="M368.5,-770C368.5,-770 201.5,-770 201.5,-770 195.5,-770 189.5,-764 189.5,-758 189.5,-758 189.5,-744 189.5,-744 189.5,-738 195.5,-732 201.5,-732 201.5,-732 368.5,-732 368.5,-732 374.5,-732 380.5,-738 380.5,-744 380.5,-744 380.5,-758 380.5,-758 380.5,-764 374.5,-770 368.5,-770"/>
<text text-anchor="middle" x="285" y="-754.8" font-family="Times,serif" font-size="14.00">初始化变量</text>
<text text-anchor="middle" x="285" y="-739.8" font-family="Times,serif" font-size="14.00">comp, diags, gpa, target</text>
</g>
<!-- check_format&#45;&gt;init_vars -->
<g id="edge2" class="edge">
<title>check_format&#45;&gt;init_vars</title>
<path fill="none" stroke="black" d="M172.67,-820.93C195.79,-806.74 224.34,-789.22 246.87,-775.4"/>
<polygon fill="black" stroke="black" points="248.8,-778.32 255.49,-770.11 245.14,-772.35 248.8,-778.32"/>
<text text-anchor="middle" x="255" y="-791.8" font-family="Times,serif" font-size="14.00">格式正确</text>
</g>
<!-- sub_progress -->
<g id="node5" class="node">
<title>sub_progress</title>
<path fill="none" stroke="black" d="M357.5,-695C357.5,-695 258.5,-695 258.5,-695 252.5,-695 246.5,-689 246.5,-683 246.5,-683 246.5,-669 246.5,-669 246.5,-663 252.5,-657 258.5,-657 258.5,-657 357.5,-657 357.5,-657 363.5,-657 369.5,-663 369.5,-669 369.5,-669 369.5,-683 369.5,-683 369.5,-689 363.5,-695 357.5,-695"/>
<text text-anchor="middle" x="308" y="-679.8" font-family="Times,serif" font-size="14.00">创建子进度节点</text>
<text text-anchor="middle" x="308" y="-664.8" font-family="Times,serif" font-size="14.00">sub_prog_node</text>
</g>
<!-- init_vars&#45;&gt;sub_progress -->
<g id="edge3" class="edge">
<title>init_vars&#45;&gt;sub_progress</title>
<path fill="none" stroke="black" d="M290.69,-731.96C293.26,-723.8 296.35,-713.97 299.21,-704.89"/>
<polygon fill="black" stroke="black" points="302.63,-705.68 302.3,-695.09 295.96,-703.58 302.63,-705.68"/>
</g>
<!-- handle_lazy_syms -->
<g id="node6" class="node">
<title>handle_lazy_syms</title>
<path fill="none" stroke="black" d="M394,-620C394,-620 246,-620 246,-620 240,-620 234,-614 234,-608 234,-608 234,-594 234,-594 234,-588 240,-582 246,-582 246,-582 394,-582 394,-582 400,-582 406,-588 406,-594 406,-594 406,-608 406,-608 406,-614 400,-620 394,-620"/>
<text text-anchor="middle" x="320" y="-604.8" font-family="Times,serif" font-size="14.00">处理延迟符号</text>
<text text-anchor="middle" x="320" y="-589.8" font-family="Times,serif" font-size="14.00">更新.text和.rodata状态</text>
</g>
<!-- sub_progress&#45;&gt;handle_lazy_syms -->
<g id="edge4" class="edge">
<title>sub_progress&#45;&gt;handle_lazy_syms</title>
<path fill="none" stroke="black" d="M310.97,-656.96C312.29,-648.88 313.89,-639.18 315.37,-630.18"/>
<polygon fill="black" stroke="black" points="318.86,-630.53 317.03,-620.09 311.95,-629.39 318.86,-630.53"/>
</g>
<!-- prepare_got -->
<g id="node7" class="node">
<title>prepare_got</title>
<path fill="none" stroke="black" d="M387.5,-545C387.5,-545 266.5,-545 266.5,-545 260.5,-545 254.5,-539 254.5,-533 254.5,-533 254.5,-519 254.5,-519 254.5,-513 260.5,-507 266.5,-507 266.5,-507 387.5,-507 387.5,-507 393.5,-507 399.5,-513 399.5,-519 399.5,-519 399.5,-533 399.5,-533 399.5,-539 393.5,-545 387.5,-545"/>
<text text-anchor="middle" x="327" y="-529.8" font-family="Times,serif" font-size="14.00">准备GOT表</text>
<text text-anchor="middle" x="327" y="-514.8" font-family="Times,serif" font-size="14.00">计算大小并分配内存</text>
</g>
<!-- handle_lazy_syms&#45;&gt;prepare_got -->
<g id="edge5" class="edge">
<title>handle_lazy_syms&#45;&gt;prepare_got</title>
<path fill="none" stroke="black" d="M321.73,-581.96C322.5,-573.88 323.44,-564.18 324.3,-555.18"/>
<polygon fill="black" stroke="black" points="327.79,-555.38 325.27,-545.09 320.83,-554.71 327.79,-555.38"/>
</g>
<!-- process_text -->
<g id="node8" class="node">
<title>process_text</title>
<path fill="none" stroke="black" d="M407,-470C407,-470 255,-470 255,-470 249,-470 243,-464 243,-458 243,-458 243,-429 243,-429 243,-423 249,-417 255,-417 255,-417 407,-417 407,-417 413,-417 419,-423 419,-429 419,-429 419,-458 419,-458 419,-464 413,-470 407,-470"/>
<text text-anchor="middle" x="331" y="-454.8" font-family="Times,serif" font-size="14.00">处理文本段</text>
<text text-anchor="middle" x="331" y="-439.8" font-family="Times,serif" font-size="14.00">迭代函数表，写入代码</text>
<text text-anchor="middle" x="331" y="-424.8" font-family="Times,serif" font-size="14.00">更新GOT条目和符号偏移</text>
</g>
<!-- prepare_got&#45;&gt;process_text -->
<g id="edge6" class="edge">
<title>prepare_got&#45;&gt;process_text</title>
<path fill="none" stroke="black" d="M327.91,-506.73C328.3,-498.85 328.77,-489.34 329.23,-480.15"/>
<polygon fill="black" stroke="black" points="332.73,-480.18 329.73,-470.02 325.74,-479.83 332.73,-480.18"/>
</g>
<!-- process_text&#45;&gt;process_text -->
<g id="edge12" class="edge">
<title>process_text&#45;&gt;process_text</title>
<path fill="none" stroke="black" d="M419.13,-450.64C429.93,-449.36 437,-446.98 437,-443.5 437,-441.27 434.1,-439.49 429.17,-438.17"/>
<polygon fill="black" stroke="black" points="429.6,-434.69 419.13,-436.36 428.36,-441.58 429.6,-434.69"/>
<text text-anchor="middle" x="473" y="-439.8" font-family="Times,serif" font-size="14.00">迭代函数表</text>
</g>
<!-- process_data -->
<g id="node9" class="node">
<title>process_data</title>
<path fill="none" stroke="black" d="M406,-380C406,-380 254,-380 254,-380 248,-380 242,-374 242,-368 242,-368 242,-339 242,-339 242,-333 248,-327 254,-327 254,-327 406,-327 406,-327 412,-327 418,-333 418,-339 418,-339 418,-368 418,-368 418,-374 412,-380 406,-380"/>
<text text-anchor="middle" x="330" y="-364.8" font-family="Times,serif" font-size="14.00">处理数据段</text>
<text text-anchor="middle" x="330" y="-349.8" font-family="Times,serif" font-size="14.00">迭代数据表，写入数据</text>
<text text-anchor="middle" x="330" y="-334.8" font-family="Times,serif" font-size="14.00">更新GOT条目和符号偏移</text>
</g>
<!-- process_text&#45;&gt;process_data -->
<g id="edge7" class="edge">
<title>process_text&#45;&gt;process_data</title>
<path fill="none" stroke="black" d="M330.71,-416.57C330.61,-408.34 330.51,-399.08 330.41,-390.28"/>
<polygon fill="black" stroke="black" points="333.91,-390.2 330.29,-380.24 326.91,-390.28 333.91,-390.2"/>
</g>
<!-- process_data&#45;&gt;process_data -->
<g id="edge13" class="edge">
<title>process_data&#45;&gt;process_data</title>
<path fill="none" stroke="black" d="M418.13,-360.64C428.93,-359.36 436,-356.98 436,-353.5 436,-351.27 433.1,-349.49 428.17,-348.17"/>
<polygon fill="black" stroke="black" points="428.6,-344.69 418.13,-346.36 427.36,-351.58 428.6,-344.69"/>
<text text-anchor="middle" x="472" y="-349.8" font-family="Times,serif" font-size="14.00">迭代数据表</text>
</g>
<!-- generate_syms -->
<g id="node10" class="node">
<title>generate_syms</title>
<path fill="none" stroke="black" d="M373.5,-290C373.5,-290 236.5,-290 236.5,-290 230.5,-290 224.5,-284 224.5,-278 224.5,-278 224.5,-264 224.5,-264 224.5,-258 230.5,-252 236.5,-252 236.5,-252 373.5,-252 373.5,-252 379.5,-252 385.5,-258 385.5,-264 385.5,-264 385.5,-278 385.5,-278 385.5,-284 379.5,-290 373.5,-290"/>
<text text-anchor="middle" x="305" y="-274.8" font-family="Times,serif" font-size="14.00">生成符号表</text>
<text text-anchor="middle" x="305" y="-259.8" font-family="Times,serif" font-size="14.00">sym_buf写入符号信息</text>
</g>
<!-- process_data&#45;&gt;generate_syms -->
<g id="edge8" class="edge">
<title>process_data&#45;&gt;generate_syms</title>
<path fill="none" stroke="black" d="M321.95,-326.59C319.33,-318.13 316.4,-308.7 313.72,-300.09"/>
<polygon fill="black" stroke="black" points="317.04,-298.98 310.74,-290.47 310.36,-301.06 317.04,-298.98"/>
</g>
<!-- handle_relocs -->
<g id="node11" class="node">
<title>handle_relocs</title>
<path fill="none" stroke="black" d="M326.5,-215C326.5,-215 185.5,-215 185.5,-215 179.5,-215 173.5,-209 173.5,-203 173.5,-203 173.5,-189 173.5,-189 173.5,-183 179.5,-177 185.5,-177 185.5,-177 326.5,-177 326.5,-177 332.5,-177 338.5,-183 338.5,-189 338.5,-189 338.5,-203 338.5,-203 338.5,-209 332.5,-215 326.5,-215"/>
<text text-anchor="middle" x="256" y="-199.8" font-family="Times,serif" font-size="14.00">处理重定位</text>
<text text-anchor="middle" x="256" y="-184.8" font-family="Times,serif" font-size="14.00">修正PC相对和绝对地址</text>
</g>
<!-- generate_syms&#45;&gt;handle_relocs -->
<g id="edge9" class="edge">
<title>generate_syms&#45;&gt;handle_relocs</title>
<path fill="none" stroke="black" d="M292.89,-251.96C287.12,-243.36 280.1,-232.9 273.74,-223.43"/>
<polygon fill="black" stroke="black" points="276.62,-221.44 268.14,-215.09 270.81,-225.34 276.62,-221.44"/>
</g>
<!-- handle_relocs&#45;&gt;handle_relocs -->
<g id="edge14" class="edge">
<title>handle_relocs&#45;&gt;handle_relocs</title>
<path fill="none" stroke="black" d="M338.8,-201.92C349.46,-200.89 356.5,-198.92 356.5,-196 356.5,-194.13 353.61,-192.65 348.73,-191.56"/>
<polygon fill="black" stroke="black" points="349.2,-188.09 338.8,-190.08 348.18,-195.01 349.2,-188.09"/>
<text text-anchor="middle" x="406.5" y="-192.3" font-family="Times,serif" font-size="14.00">迭代重定位条目</text>
</g>
<!-- write_file -->
<g id="node12" class="node">
<title>write_file</title>
<path fill="none" stroke="black" d="M321,-140C321,-140 161,-140 161,-140 155,-140 149,-134 149,-128 149,-128 149,-114 149,-114 149,-108 155,-102 161,-102 161,-102 321,-102 321,-102 327,-102 333,-108 333,-114 333,-114 333,-128 333,-128 333,-134 327,-140 321,-140"/>
<text text-anchor="middle" x="241" y="-124.8" font-family="Times,serif" font-size="14.00">写入文件</text>
<text text-anchor="middle" x="241" y="-109.8" font-family="Times,serif" font-size="14.00">pwritevAll所有iovec数据</text>
</g>
<!-- handle_relocs&#45;&gt;write_file -->
<g id="edge10" class="edge">
<title>handle_relocs&#45;&gt;write_file</title>
<path fill="none" stroke="black" d="M252.29,-176.96C250.62,-168.8 248.6,-158.97 246.73,-149.89"/>
<polygon fill="black" stroke="black" points="250.16,-149.18 244.72,-140.09 243.3,-150.59 250.16,-149.18"/>
</g>
<!-- write_file&#45;&gt;end -->
<g id="edge11" class="edge">
<title>write_file&#45;&gt;end</title>
<path fill="none" stroke="black" d="M230.14,-101.76C227.17,-96.2 224.17,-89.98 222,-84 217.62,-71.96 214.41,-58.14 212.17,-46.34"/>
<polygon fill="black" stroke="black" points="215.56,-45.44 210.39,-36.19 208.67,-46.65 215.56,-45.44"/>
</g>
<!-- write_file&#45;&gt;end -->
<g id="edge16" class="edge">
<title>write_file&#45;&gt;end</title>
<path fill="none" stroke="black" d="M235.1,-101.94C229.99,-86.29 222.52,-63.43 216.71,-45.67"/>
<polygon fill="black" stroke="black" points="219.95,-44.31 213.52,-35.89 213.3,-46.49 219.95,-44.31"/>
<text text-anchor="middle" x="282" y="-72.8" font-family="Times,serif" font-size="14.00">错误处理</text>
<text text-anchor="middle" x="282" y="-57.8" font-family="Times,serif" font-size="14.00">返回FlushError</text>
</g>
</g>
</svg>
