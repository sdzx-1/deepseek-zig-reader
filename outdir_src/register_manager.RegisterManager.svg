<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: RegisterManager Pages: 1 -->
<svg width="555pt" height="750pt"
 viewBox="0.00 0.00 555.30 750.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 746)">
<title>RegisterManager</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-746 551.3,-746 551.3,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<path fill="none" stroke="black" d="M445.3,-742C445.3,-742 296.3,-742 296.3,-742 290.3,-742 284.3,-736 284.3,-730 284.3,-730 284.3,-718 284.3,-718 284.3,-712 290.3,-706 296.3,-706 296.3,-706 445.3,-706 445.3,-706 451.3,-706 457.3,-712 457.3,-718 457.3,-718 457.3,-730 457.3,-730 457.3,-736 451.3,-742 445.3,-742"/>
<text text-anchor="middle" x="370.8" y="-720.3" font-family="Times,serif" font-size="14.00">开始 RegisterManager</text>
</g>
<!-- init -->
<g id="node2" class="node">
<title>init</title>
<path fill="none" stroke="black" d="M500.8,-669C500.8,-669 240.8,-669 240.8,-669 234.8,-669 228.8,-663 228.8,-657 228.8,-657 228.8,-628 228.8,-628 228.8,-622 234.8,-616 240.8,-616 240.8,-616 500.8,-616 500.8,-616 506.8,-616 512.8,-622 512.8,-628 512.8,-628 512.8,-657 512.8,-657 512.8,-663 506.8,-669 500.8,-669"/>
<text text-anchor="middle" x="370.8" y="-653.8" font-family="Times,serif" font-size="14.00">初始化寄存器状态</text>
<text text-anchor="middle" x="370.8" y="-638.8" font-family="Times,serif" font-size="14.00">(registers, free_registers,</text>
<text text-anchor="middle" x="370.8" y="-623.8" font-family="Times,serif" font-size="14.00">allocated_registers, locked_registers)</text>
</g>
<!-- start&#45;&gt;init -->
<g id="edge1" class="edge">
<title>start&#45;&gt;init</title>
<path fill="none" stroke="black" d="M370.8,-705.75C370.8,-697.99 370.8,-688.51 370.8,-679.32"/>
<polygon fill="black" stroke="black" points="374.3,-679.18 370.8,-669.18 367.3,-679.18 374.3,-679.18"/>
</g>
<!-- lock_reg -->
<g id="node3" class="node">
<title>lock_reg</title>
<path fill="none" stroke="black" d="M319.3,-579C319.3,-579 170.3,-579 170.3,-579 164.3,-579 158.3,-573 158.3,-567 158.3,-567 158.3,-553 158.3,-553 158.3,-547 164.3,-541 170.3,-541 170.3,-541 319.3,-541 319.3,-541 325.3,-541 331.3,-547 331.3,-553 331.3,-553 331.3,-567 331.3,-567 331.3,-573 325.3,-579 319.3,-579"/>
<text text-anchor="middle" x="244.8" y="-563.8" font-family="Times,serif" font-size="14.00">锁定寄存器</text>
<text text-anchor="middle" x="244.8" y="-548.8" font-family="Times,serif" font-size="14.00">lockReg/lockRegIndex</text>
</g>
<!-- init&#45;&gt;lock_reg -->
<g id="edge2" class="edge">
<title>init&#45;&gt;lock_reg</title>
<path fill="none" stroke="black" d="M330.58,-615.81C314.93,-605.81 297.11,-594.42 281.78,-584.63"/>
<polygon fill="black" stroke="black" points="283.39,-581.5 273.08,-579.07 279.62,-587.4 283.39,-581.5"/>
</g>
<!-- unlock_reg -->
<g id="node4" class="node">
<title>unlock_reg</title>
<path fill="none" stroke="black" d="M368.3,-490C368.3,-490 301.3,-490 301.3,-490 295.3,-490 289.3,-484 289.3,-478 289.3,-478 289.3,-464 289.3,-464 289.3,-458 295.3,-452 301.3,-452 301.3,-452 368.3,-452 368.3,-452 374.3,-452 380.3,-458 380.3,-464 380.3,-464 380.3,-478 380.3,-478 380.3,-484 374.3,-490 368.3,-490"/>
<text text-anchor="middle" x="334.8" y="-474.8" font-family="Times,serif" font-size="14.00">解锁寄存器</text>
<text text-anchor="middle" x="334.8" y="-459.8" font-family="Times,serif" font-size="14.00">unlockReg</text>
</g>
<!-- init&#45;&gt;unlock_reg -->
<g id="edge3" class="edge">
<title>init&#45;&gt;unlock_reg</title>
<path fill="none" stroke="black" d="M371.42,-615.94C371.34,-588.53 369.02,-544.09 356.8,-508 355.79,-505.04 354.52,-502.07 353.08,-499.18"/>
<polygon fill="black" stroke="black" points="356.04,-497.3 348.11,-490.28 349.93,-500.71 356.04,-497.3"/>
</g>
<!-- try_alloc_regs -->
<g id="node5" class="node">
<title>try_alloc_regs</title>
<path fill="none" stroke="black" d="M417.8,-415C417.8,-415 325.8,-415 325.8,-415 319.8,-415 313.8,-409 313.8,-403 313.8,-403 313.8,-389 313.8,-389 313.8,-383 319.8,-377 325.8,-377 325.8,-377 417.8,-377 417.8,-377 423.8,-377 429.8,-383 429.8,-389 429.8,-389 429.8,-403 429.8,-403 429.8,-409 423.8,-415 417.8,-415"/>
<text text-anchor="middle" x="371.8" y="-399.8" font-family="Times,serif" font-size="14.00">尝试分配寄存器</text>
<text text-anchor="middle" x="371.8" y="-384.8" font-family="Times,serif" font-size="14.00">tryAllocRegs</text>
</g>
<!-- init&#45;&gt;try_alloc_regs -->
<g id="edge4" class="edge">
<title>init&#45;&gt;try_alloc_regs</title>
<path fill="none" stroke="black" d="M381.16,-615.62C383.04,-609.9 384.74,-603.82 385.8,-598 397.41,-534.15 398.49,-516.17 388.8,-452 387.42,-442.91 384.84,-433.25 382.1,-424.6"/>
<polygon fill="black" stroke="black" points="385.38,-423.37 378.86,-415.01 378.74,-425.61 385.38,-423.37"/>
</g>
<!-- lock_reg&#45;&gt;unlock_reg -->
<g id="edge5" class="edge">
<title>lock_reg&#45;&gt;unlock_reg</title>
<path fill="none" stroke="black" d="M234.28,-540.61C229.86,-530.22 227.11,-517.47 233.8,-508 244.33,-493.06 261.65,-484.28 279,-479.14"/>
<polygon fill="black" stroke="black" points="280.36,-482.4 289.16,-476.51 278.61,-475.63 280.36,-482.4"/>
<text text-anchor="middle" x="295.3" y="-511.8" font-family="Times,serif" font-size="14.00">通过RegisterLock</text>
</g>
<!-- unlock_reg&#45;&gt;try_alloc_regs -->
<g id="edge6" class="edge">
<title>unlock_reg&#45;&gt;try_alloc_regs</title>
<path fill="none" stroke="black" d="M343.94,-451.96C348.21,-443.53 353.38,-433.33 358.1,-424.01"/>
<polygon fill="black" stroke="black" points="361.23,-425.59 362.63,-415.09 354.98,-422.43 361.23,-425.59"/>
</g>
<!-- alloc_regs -->
<g id="node6" class="node">
<title>alloc_regs</title>
<path fill="none" stroke="black" d="M247.8,-326C247.8,-326 183.8,-326 183.8,-326 177.8,-326 171.8,-320 171.8,-314 171.8,-314 171.8,-300 171.8,-300 171.8,-294 177.8,-288 183.8,-288 183.8,-288 247.8,-288 247.8,-288 253.8,-288 259.8,-294 259.8,-300 259.8,-300 259.8,-314 259.8,-314 259.8,-320 253.8,-326 247.8,-326"/>
<text text-anchor="middle" x="215.8" y="-310.8" font-family="Times,serif" font-size="14.00">分配寄存器</text>
<text text-anchor="middle" x="215.8" y="-295.8" font-family="Times,serif" font-size="14.00">allocRegs</text>
</g>
<!-- try_alloc_regs&#45;&gt;alloc_regs -->
<g id="edge7" class="edge">
<title>try_alloc_regs&#45;&gt;alloc_regs</title>
<path fill="none" stroke="black" d="M334.12,-376.89C322.97,-371.34 310.81,-365.08 299.8,-359 284.21,-350.39 267.38,-340.33 252.9,-331.43"/>
<polygon fill="black" stroke="black" points="254.57,-328.34 244.22,-326.06 250.88,-334.3 254.57,-328.34"/>
<text text-anchor="middle" x="328.8" y="-347.8" font-family="Times,serif" font-size="14.00">分配失败</text>
</g>
<!-- end -->
<g id="node10" class="node">
<title>end</title>
<path fill="none" stroke="black" d="M366.8,-36C366.8,-36 336.8,-36 336.8,-36 330.8,-36 324.8,-30 324.8,-24 324.8,-24 324.8,-12 324.8,-12 324.8,-6 330.8,0 336.8,0 336.8,0 366.8,0 366.8,0 372.8,0 378.8,-6 378.8,-12 378.8,-12 378.8,-24 378.8,-24 378.8,-30 372.8,-36 366.8,-36"/>
<text text-anchor="middle" x="351.8" y="-14.3" font-family="Times,serif" font-size="14.00">结束</text>
</g>
<!-- try_alloc_regs&#45;&gt;end -->
<g id="edge8" class="edge">
<title>try_alloc_regs&#45;&gt;end</title>
<path fill="none" stroke="black" d="M371.8,-376.67C371.8,-359.06 371.8,-331.71 371.8,-308 371.8,-308 371.8,-308 371.8,-105 371.8,-84.82 366.5,-62.64 361.37,-45.87"/>
<polygon fill="black" stroke="black" points="364.64,-44.62 358.23,-36.19 357.98,-46.78 364.64,-44.62"/>
<text text-anchor="middle" x="400.8" y="-214.3" font-family="Times,serif" font-size="14.00">分配成功</text>
</g>
<!-- mark_allocated -->
<g id="node11" class="node">
<title>mark_allocated</title>
<path fill="none" stroke="black" d="M535.3,-326C535.3,-326 412.3,-326 412.3,-326 406.3,-326 400.3,-320 400.3,-314 400.3,-314 400.3,-300 400.3,-300 400.3,-294 406.3,-288 412.3,-288 412.3,-288 535.3,-288 535.3,-288 541.3,-288 547.3,-294 547.3,-300 547.3,-300 547.3,-314 547.3,-314 547.3,-320 541.3,-326 535.3,-326"/>
<text text-anchor="middle" x="473.8" y="-310.8" font-family="Times,serif" font-size="14.00">标记寄存器已分配</text>
<text text-anchor="middle" x="473.8" y="-295.8" font-family="Times,serif" font-size="14.00">markRegAllocated</text>
</g>
<!-- try_alloc_regs&#45;&gt;mark_allocated -->
<g id="edge14" class="edge">
<title>try_alloc_regs&#45;&gt;mark_allocated</title>
<path fill="none" stroke="black" d="M392.93,-376.97C407.97,-364.14 428.37,-346.74 444.92,-332.63"/>
<polygon fill="black" stroke="black" points="447.35,-335.16 452.69,-326 442.81,-329.83 447.35,-335.16"/>
<text text-anchor="middle" x="458.8" y="-347.8" font-family="Times,serif" font-size="14.00">分配成功</text>
</g>
<!-- spill_check -->
<g id="node7" class="node">
<title>spill_check</title>
<path fill="none" stroke="black" d="M223.3,-237C223.3,-237 116.3,-237 116.3,-237 110.3,-237 104.3,-231 104.3,-225 104.3,-225 104.3,-211 104.3,-211 104.3,-205 110.3,-199 116.3,-199 116.3,-199 223.3,-199 223.3,-199 229.3,-199 235.3,-205 235.3,-211 235.3,-211 235.3,-225 235.3,-225 235.3,-231 229.3,-237 223.3,-237"/>
<text text-anchor="middle" x="169.8" y="-221.8" font-family="Times,serif" font-size="14.00">检查是否需要溢出</text>
<text text-anchor="middle" x="169.8" y="-206.8" font-family="Times,serif" font-size="14.00">spillInstruction</text>
</g>
<!-- alloc_regs&#45;&gt;spill_check -->
<g id="edge9" class="edge">
<title>alloc_regs&#45;&gt;spill_check</title>
<path fill="none" stroke="black" d="M178.82,-287.91C172.38,-283.02 166.54,-277.08 162.8,-270 159.13,-263.08 158.79,-254.92 159.94,-247.19"/>
<polygon fill="black" stroke="black" points="163.36,-247.92 162.14,-237.4 156.53,-246.39 163.36,-247.92"/>
<text text-anchor="middle" x="205.8" y="-258.8" font-family="Times,serif" font-size="14.00">需要溢出处理</text>
</g>
<!-- error_handling -->
<g id="node9" class="node">
<title>error_handling</title>
<path fill="none" stroke="black" d="M344.8,-181C344.8,-181 240.8,-181 240.8,-181 234.8,-181 228.8,-175 228.8,-169 228.8,-169 228.8,-155 228.8,-155 228.8,-149 234.8,-143 240.8,-143 240.8,-143 344.8,-143 344.8,-143 350.8,-143 356.8,-149 356.8,-155 356.8,-155 356.8,-169 356.8,-169 356.8,-175 350.8,-181 344.8,-181"/>
<text text-anchor="middle" x="292.8" y="-165.8" font-family="Times,serif" font-size="14.00">错误处理</text>
<text text-anchor="middle" x="292.8" y="-150.8" font-family="Times,serif" font-size="14.00">OutOfRegisters</text>
</g>
<!-- alloc_regs&#45;&gt;error_handling -->
<g id="edge12" class="edge">
<title>alloc_regs&#45;&gt;error_handling</title>
<path fill="none" stroke="black" d="M234.61,-287.97C239.64,-282.52 244.79,-276.3 248.8,-270 264.68,-245.01 276.86,-213.32 284.33,-190.93"/>
<polygon fill="black" stroke="black" points="287.68,-191.95 287.44,-181.36 281.02,-189.79 287.68,-191.95"/>
<text text-anchor="middle" x="299.8" y="-258.8" font-family="Times,serif" font-size="14.00">无可用寄存器</text>
</g>
<!-- free_reg -->
<g id="node8" class="node">
<title>free_reg</title>
<path fill="none" stroke="black" d="M226.3,-125C226.3,-125 77.3,-125 77.3,-125 71.3,-125 65.3,-119 65.3,-113 65.3,-113 65.3,-99 65.3,-99 65.3,-93 71.3,-87 77.3,-87 77.3,-87 226.3,-87 226.3,-87 232.3,-87 238.3,-93 238.3,-99 238.3,-99 238.3,-113 238.3,-113 238.3,-119 232.3,-125 226.3,-125"/>
<text text-anchor="middle" x="151.8" y="-109.8" font-family="Times,serif" font-size="14.00">释放寄存器</text>
<text text-anchor="middle" x="151.8" y="-94.8" font-family="Times,serif" font-size="14.00">freeReg/freeRegIndex</text>
</g>
<!-- spill_check&#45;&gt;free_reg -->
<g id="edge10" class="edge">
<title>spill_check&#45;&gt;free_reg</title>
<path fill="none" stroke="black" d="M156.06,-198.85C152.69,-193.4 149.54,-187.2 147.8,-181 143.66,-166.29 144.22,-149.31 146.01,-135.33"/>
<polygon fill="black" stroke="black" points="149.49,-135.72 147.56,-125.3 142.57,-134.65 149.49,-135.72"/>
<text text-anchor="middle" x="183.8" y="-158.3" font-family="Times,serif" font-size="14.00">释放寄存器</text>
</g>
<!-- free_reg&#45;&gt;alloc_regs -->
<g id="edge11" class="edge">
<title>free_reg&#45;&gt;alloc_regs</title>
<path fill="none" stroke="black" d="M103.87,-125.08C50.32,-148.09 -24.75,-190.46 8.8,-237 43.33,-284.91 112.58,-300.06 161.45,-304.58"/>
<polygon fill="black" stroke="black" points="161.3,-308.08 171.55,-305.39 161.86,-301.1 161.3,-308.08"/>
<text text-anchor="middle" x="51.8" y="-214.3" font-family="Times,serif" font-size="14.00">重新尝试分配</text>
</g>
<!-- free_reg&#45;&gt;end -->
<g id="edge17" class="edge">
<title>free_reg&#45;&gt;end</title>
<path fill="none" stroke="black" d="M179.84,-86.85C196.97,-76.3 219.59,-63.29 240.8,-54 264.76,-43.5 292.88,-34.67 314.82,-28.5"/>
<polygon fill="black" stroke="black" points="316.03,-31.8 324.74,-25.78 314.17,-25.05 316.03,-31.8"/>
<text text-anchor="middle" x="269.8" y="-57.8" font-family="Times,serif" font-size="14.00">释放完成</text>
</g>
<!-- error_handling&#45;&gt;end -->
<g id="edge13" class="edge">
<title>error_handling&#45;&gt;end</title>
<path fill="none" stroke="black" d="M300.39,-142.73C310.63,-118.07 328.96,-73.97 340.73,-45.63"/>
<polygon fill="black" stroke="black" points="344,-46.89 344.6,-36.31 337.53,-44.21 344,-46.89"/>
</g>
<!-- mark_used -->
<g id="node12" class="node">
<title>mark_used</title>
<path fill="none" stroke="black" d="M516.3,-181C516.3,-181 409.3,-181 409.3,-181 403.3,-181 397.3,-175 397.3,-169 397.3,-169 397.3,-155 397.3,-155 397.3,-149 403.3,-143 409.3,-143 409.3,-143 516.3,-143 516.3,-143 522.3,-143 528.3,-149 528.3,-155 528.3,-155 528.3,-169 528.3,-169 528.3,-175 522.3,-181 516.3,-181"/>
<text text-anchor="middle" x="462.8" y="-165.8" font-family="Times,serif" font-size="14.00">标记寄存器已使用</text>
<text text-anchor="middle" x="462.8" y="-150.8" font-family="Times,serif" font-size="14.00">markRegUsed</text>
</g>
<!-- mark_allocated&#45;&gt;mark_used -->
<g id="edge15" class="edge">
<title>mark_allocated&#45;&gt;mark_used</title>
<path fill="none" stroke="black" d="M472.4,-287.89C470.54,-263.63 467.21,-220.33 465,-191.63"/>
<polygon fill="black" stroke="black" points="468.47,-191.12 464.21,-181.42 461.49,-191.65 468.47,-191.12"/>
<text text-anchor="middle" x="499.8" y="-258.8" font-family="Times,serif" font-size="14.00">跟踪指令</text>
</g>
<!-- mark_used&#45;&gt;end -->
<g id="edge16" class="edge">
<title>mark_used&#45;&gt;end</title>
<path fill="none" stroke="black" d="M451.02,-142.98C436.54,-121.22 410.78,-83.82 385.8,-54 382.9,-50.55 379.74,-47.02 376.55,-43.59"/>
<polygon fill="black" stroke="black" points="379.06,-41.14 369.62,-36.33 374,-45.98 379.06,-41.14"/>
</g>
</g>
</svg>
