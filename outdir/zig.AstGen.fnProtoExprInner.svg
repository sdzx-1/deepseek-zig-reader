<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: FnProtoExprInnerFlow Pages: 1 -->
<svg width="981pt" height="975pt"
 viewBox="0.00 0.00 980.50 975.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 971)">
<title>FnProtoExprInnerFlow</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-971 976.5,-971 976.5,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<polygon fill="none" stroke="black" points="484.5,-967 347.5,-967 347.5,-931 484.5,-931 484.5,-967"/>
<text text-anchor="middle" x="416" y="-946.5" font-family="Courier,monospace" font-size="10.00">开始 fnProtoExprInner</text>
</g>
<!-- init_vars -->
<g id="node2" class="node">
<title>init_vars</title>
<polygon fill="none" stroke="black" points="478.5,-894 353.5,-894 353.5,-853 478.5,-853 478.5,-894"/>
<text text-anchor="middle" x="416" y="-882" font-family="Courier,monospace" font-size="10.00">初始化变量</text>
<text text-anchor="middle" x="416" y="-871" font-family="Courier,monospace" font-size="10.00">astgen = gz.astgen</text>
<text text-anchor="middle" x="416" y="-860" font-family="Courier,monospace" font-size="10.00">tree = astgen.tree</text>
</g>
<!-- start&#45;&gt;init_vars -->
<g id="edge1" class="edge">
<title>start&#45;&gt;init_vars</title>
<path fill="none" stroke="black" d="M416,-930.95C416,-923.03 416,-913.37 416,-904.29"/>
<polygon fill="black" stroke="black" points="419.5,-904.05 416,-894.05 412.5,-904.05 419.5,-904.05"/>
</g>
<!-- create_block -->
<g id="node3" class="node">
<title>create_block</title>
<polygon fill="none" stroke="black" points="547.5,-816 284.5,-816 284.5,-780 547.5,-780 547.5,-816"/>
<text text-anchor="middle" x="416" y="-801" font-family="Courier,monospace" font-size="10.00">创建 block_scope 和 block_inst</text>
<text text-anchor="middle" x="416" y="-790" font-family="Courier,monospace" font-size="10.00">block_inst = makeBlockInst(.block_inline)</text>
</g>
<!-- init_vars&#45;&gt;create_block -->
<g id="edge2" class="edge">
<title>init_vars&#45;&gt;create_block</title>
<path fill="none" stroke="black" d="M416,-852.8C416,-844.7 416,-835.18 416,-826.41"/>
<polygon fill="black" stroke="black" points="419.5,-826.25 416,-816.25 412.5,-826.25 419.5,-826.25"/>
</g>
<!-- param_loop_start -->
<g id="node4" class="node">
<title>param_loop_start</title>
<polygon fill="none" stroke="black" points="505.5,-743 326.5,-743 326.5,-702 505.5,-702 505.5,-743"/>
<text text-anchor="middle" x="416" y="-731" font-family="Courier,monospace" font-size="10.00">参数处理循环开始</text>
<text text-anchor="middle" x="416" y="-720" font-family="Courier,monospace" font-size="10.00">初始化 param_type_i=0</text>
<text text-anchor="middle" x="416" y="-709" font-family="Courier,monospace" font-size="10.00">it = fn_proto.iterate(tree)</text>
</g>
<!-- create_block&#45;&gt;param_loop_start -->
<g id="edge3" class="edge">
<title>create_block&#45;&gt;param_loop_start</title>
<path fill="none" stroke="black" d="M416,-779.95C416,-772.03 416,-762.37 416,-753.29"/>
<polygon fill="black" stroke="black" points="419.5,-753.05 416,-743.05 412.5,-753.05 419.5,-753.05"/>
</g>
<!-- param_next -->
<g id="node5" class="node">
<title>param_next</title>
<polygon fill="none" stroke="black" points="416,-665 256.32,-647 416,-629 575.68,-647 416,-665"/>
<text text-anchor="middle" x="416" y="-644.5" font-family="Courier,monospace" font-size="10.00">获取下一个参数 param = it.next()</text>
</g>
<!-- param_loop_start&#45;&gt;param_next -->
<g id="edge4" class="edge">
<title>param_loop_start&#45;&gt;param_next</title>
<path fill="none" stroke="black" d="M416,-701.8C416,-693.7 416,-684.18 416,-675.41"/>
<polygon fill="black" stroke="black" points="419.5,-675.25 416,-665.25 412.5,-675.25 419.5,-675.25"/>
</g>
<!-- check_comptime_noalias -->
<g id="node6" class="node">
<title>check_comptime_noalias</title>
<polygon fill="none" stroke="black" points="194,-582 0,-552 194,-522 388,-552 194,-582"/>
<text text-anchor="middle" x="194" y="-555" font-family="Courier,monospace" font-size="10.00">检查 comptime/noalias</text>
<text text-anchor="middle" x="194" y="-544" font-family="Courier,monospace" font-size="10.00">根据 token 类型设置 noalias_bits</text>
</g>
<!-- param_next&#45;&gt;check_comptime_noalias -->
<g id="edge5" class="edge">
<title>param_next&#45;&gt;check_comptime_noalias</title>
<path fill="none" stroke="black" d="M383.72,-632.48C349.84,-618.29 295.81,-595.65 254.06,-578.16"/>
<polygon fill="black" stroke="black" points="255.39,-574.92 244.81,-574.29 252.69,-581.38 255.39,-574.92"/>
<text text-anchor="middle" x="347" y="-603" font-family="Courier,monospace" font-size="10.00">有参数</text>
</g>
<!-- handle_callconv -->
<g id="node12" class="node">
<title>handle_callconv</title>
<polygon fill="none" stroke="black" points="608,-582 444,-552 608,-522 772,-552 608,-582"/>
<text text-anchor="middle" x="608" y="-555" font-family="Courier,monospace" font-size="10.00">处理调用约定</text>
<text text-anchor="middle" x="608" y="-544" font-family="Courier,monospace" font-size="10.00">判断 callconv_expr 是否存在</text>
</g>
<!-- param_next&#45;&gt;handle_callconv -->
<g id="edge12" class="edge">
<title>param_next&#45;&gt;handle_callconv</title>
<path fill="none" stroke="black" d="M444.74,-632.08C473.84,-617.98 519.51,-595.86 555.15,-578.6"/>
<polygon fill="black" stroke="black" points="556.97,-581.61 564.44,-574.1 553.92,-575.31 556.97,-581.61"/>
<text text-anchor="middle" x="531.5" y="-603" font-family="Courier,monospace" font-size="10.00">无更多参数</text>
</g>
<!-- check_anytype_varargs -->
<g id="node7" class="node">
<title>check_anytype_varargs</title>
<polygon fill="none" stroke="black" points="194,-464 42,-434 194,-404 346,-434 194,-464"/>
<text text-anchor="middle" x="194" y="-437" font-family="Courier,monospace" font-size="10.00">检查 anytype/varargs</text>
<text text-anchor="middle" x="194" y="-426" font-family="Courier,monospace" font-size="10.00">判断是否为 anytype 或 ...</text>
</g>
<!-- check_comptime_noalias&#45;&gt;check_anytype_varargs -->
<g id="edge6" class="edge">
<title>check_comptime_noalias&#45;&gt;check_anytype_varargs</title>
<path fill="none" stroke="black" d="M194,-521.73C194,-507.44 194,-490.04 194,-474.59"/>
<polygon fill="black" stroke="black" points="197.5,-474.26 194,-464.26 190.5,-474.26 197.5,-474.26"/>
</g>
<!-- handle_anytype_param -->
<g id="node9" class="node">
<title>handle_anytype_param</title>
<polygon fill="none" stroke="black" points="183,-354.5 3,-354.5 3,-318.5 183,-318.5 183,-354.5"/>
<text text-anchor="middle" x="93" y="-339.5" font-family="Courier,monospace" font-size="10.00">生成 .param_anytype_comptime</text>
<text text-anchor="middle" x="93" y="-328.5" font-family="Courier,monospace" font-size="10.00">或 .param_anytype 指令</text>
</g>
<!-- check_anytype_varargs&#45;&gt;handle_anytype_param -->
<g id="edge7" class="edge">
<title>check_anytype_varargs&#45;&gt;handle_anytype_param</title>
<path fill="none" stroke="black" d="M162.78,-409.88C153.54,-402.58 143.6,-394.25 135,-386 127.56,-378.86 120.02,-370.55 113.41,-362.84"/>
<polygon fill="black" stroke="black" points="115.77,-360.21 106.66,-354.8 110.41,-364.71 115.77,-360.21"/>
<text text-anchor="middle" x="183.5" y="-378" font-family="Courier,monospace" font-size="10.00">anytype/ellipsis</text>
</g>
<!-- handle_normal_param -->
<g id="node10" class="node">
<title>handle_normal_param</title>
<polygon fill="none" stroke="black" points="388.5,-357 201.5,-357 201.5,-316 388.5,-316 388.5,-357"/>
<text text-anchor="middle" x="295" y="-345" font-family="Courier,monospace" font-size="10.00">处理普通参数</text>
<text text-anchor="middle" x="295" y="-334" font-family="Courier,monospace" font-size="10.00">生成类型表达式</text>
<text text-anchor="middle" x="295" y="-323" font-family="Courier,monospace" font-size="10.00">添加 param_comptime/param 指令</text>
</g>
<!-- check_anytype_varargs&#45;&gt;handle_normal_param -->
<g id="edge8" class="edge">
<title>check_anytype_varargs&#45;&gt;handle_normal_param</title>
<path fill="none" stroke="black" d="M219.49,-408.9C233.92,-395.26 252,-378.16 266.84,-364.12"/>
<polygon fill="black" stroke="black" points="269.42,-366.51 274.28,-357.09 264.61,-361.42 269.42,-366.51"/>
<text text-anchor="middle" x="274" y="-378" font-family="Courier,monospace" font-size="10.00">普通参数</text>
</g>
<!-- handle_param_name -->
<g id="node8" class="node">
<title>handle_param_name</title>
<polygon fill="none" stroke="black" points="645.5,-967 502.5,-967 502.5,-931 645.5,-931 645.5,-967"/>
<text text-anchor="middle" x="574" y="-952" font-family="Courier,monospace" font-size="10.00">处理参数名称</text>
<text text-anchor="middle" x="574" y="-941" font-family="Courier,monospace" font-size="10.00">判断是否为下划线或有效名称</text>
</g>
<!-- param_loop_end -->
<g id="node11" class="node">
<title>param_loop_end</title>
<polygon fill="none" stroke="black" points="295,-279 176,-249 295,-219 414,-249 295,-279"/>
<text text-anchor="middle" x="295" y="-252" font-family="Courier,monospace" font-size="10.00">param_type_i += 1</text>
<text text-anchor="middle" x="295" y="-241" font-family="Courier,monospace" font-size="10.00">继续循环?</text>
</g>
<!-- handle_anytype_param&#45;&gt;param_loop_end -->
<g id="edge9" class="edge">
<title>handle_anytype_param&#45;&gt;param_loop_end</title>
<path fill="none" stroke="black" d="M133.39,-318.4C164.75,-305.13 208.49,-286.62 242.55,-272.2"/>
<polygon fill="black" stroke="black" points="244.04,-275.37 251.88,-268.25 241.31,-268.92 244.04,-275.37"/>
</g>
<!-- handle_normal_param&#45;&gt;param_loop_end -->
<g id="edge10" class="edge">
<title>handle_normal_param&#45;&gt;param_loop_end</title>
<path fill="none" stroke="black" d="M295,-315.67C295,-307.78 295,-298.42 295,-289.27"/>
<polygon fill="black" stroke="black" points="298.5,-289.13 295,-279.13 291.5,-289.13 298.5,-289.13"/>
</g>
<!-- param_loop_end&#45;&gt;param_next -->
<g id="edge11" class="edge">
<title>param_loop_end&#45;&gt;param_next</title>
<path fill="none" stroke="black" d="M349.13,-265.41C381.35,-278.25 416,-300.26 416,-335.5 416,-553 416,-553 416,-553 416,-575.13 416,-600.23 416,-618.77"/>
<polygon fill="black" stroke="black" points="412.5,-618.86 416,-628.86 419.5,-618.86 412.5,-618.86"/>
<text text-anchor="middle" x="436" y="-431.5" font-family="Courier,monospace" font-size="10.00">继续循环</text>
</g>
<!-- implicit_ccc -->
<g id="node13" class="node">
<title>implicit_ccc</title>
<polygon fill="none" stroke="black" points="972.5,-452 649.5,-452 649.5,-416 972.5,-416 972.5,-452"/>
<text text-anchor="middle" x="811" y="-437" font-family="Courier,monospace" font-size="10.00">添加隐式调用约定</text>
<text text-anchor="middle" x="811" y="-426" font-family="Courier,monospace" font-size="10.00">.block_scope.addBuiltinValue(.calling_convention_c)</text>
</g>
<!-- handle_callconv&#45;&gt;implicit_ccc -->
<g id="edge13" class="edge">
<title>handle_callconv&#45;&gt;implicit_ccc</title>
<path fill="none" stroke="black" d="M652.48,-529.91C668.29,-522.1 686.11,-512.97 702,-504 727.71,-489.48 755.85,-471.62 777.09,-457.7"/>
<polygon fill="black" stroke="black" points="779.03,-460.62 785.46,-452.2 775.18,-454.77 779.03,-460.62"/>
<text text-anchor="middle" x="797" y="-496" font-family="Courier,monospace" font-size="10.00">无 callconv_expr</text>
<text text-anchor="middle" x="797" y="-485" font-family="Courier,monospace" font-size="10.00">且 implicit_ccc=true</text>
</g>
<!-- handle_callconv_expr -->
<g id="node19" class="node">
<title>handle_callconv_expr</title>
<polygon fill="none" stroke="black" points="631.5,-452 518.5,-452 518.5,-416 631.5,-416 631.5,-452"/>
<text text-anchor="middle" x="575" y="-437" font-family="Courier,monospace" font-size="10.00">生成 comptimeExpr</text>
<text text-anchor="middle" x="575" y="-426" font-family="Courier,monospace" font-size="10.00">处理调用约定表达式</text>
</g>
<!-- handle_callconv&#45;&gt;handle_callconv_expr -->
<g id="edge14" class="edge">
<title>handle_callconv&#45;&gt;handle_callconv_expr</title>
<path fill="none" stroke="black" d="M600.1,-523.22C594.81,-504.64 587.89,-480.33 582.66,-461.93"/>
<polygon fill="black" stroke="black" points="585.98,-460.79 579.87,-452.13 579.24,-462.71 585.98,-460.79"/>
<text text-anchor="middle" x="646.5" y="-490.5" font-family="Courier,monospace" font-size="10.00">存在 callconv_expr</text>
</g>
<!-- handle_callconv&#45;&gt;handle_callconv_expr -->
<g id="edge15" class="edge">
<title>handle_callconv&#45;&gt;handle_callconv_expr</title>
<path fill="none" stroke="black" d="M596.08,-523.97C593.51,-517.51 590.98,-510.57 589,-504 584.93,-490.47 581.68,-475.08 579.34,-462.28"/>
<polygon fill="black" stroke="black" points="582.75,-461.48 577.59,-452.23 575.86,-462.68 582.75,-461.48"/>
</g>
<!-- handle_ret_type -->
<g id="node14" class="node">
<title>handle_ret_type</title>
<polygon fill="none" stroke="black" points="770.5,-354.5 615.5,-354.5 615.5,-318.5 770.5,-318.5 770.5,-354.5"/>
<text text-anchor="middle" x="693" y="-339.5" font-family="Courier,monospace" font-size="10.00">处理返回类型</text>
<text text-anchor="middle" x="693" y="-328.5" font-family="Courier,monospace" font-size="10.00">comptimeExpr 生成 ret_ty</text>
</g>
<!-- implicit_ccc&#45;&gt;handle_ret_type -->
<g id="edge17" class="edge">
<title>implicit_ccc&#45;&gt;handle_ret_type</title>
<path fill="none" stroke="black" d="M789.9,-415.93C771.06,-400.68 743.27,-378.18 722.28,-361.19"/>
<polygon fill="black" stroke="black" points="724.29,-358.32 714.31,-354.75 719.88,-363.76 724.29,-358.32"/>
</g>
<!-- add_func -->
<g id="node15" class="node">
<title>add_func</title>
<polygon fill="none" stroke="black" points="734.5,-267 651.5,-267 651.5,-231 734.5,-231 734.5,-267"/>
<text text-anchor="middle" x="693" y="-252" font-family="Courier,monospace" font-size="10.00">调用 addFunc</text>
<text text-anchor="middle" x="693" y="-241" font-family="Courier,monospace" font-size="10.00">创建函数实例</text>
</g>
<!-- handle_ret_type&#45;&gt;add_func -->
<g id="edge18" class="edge">
<title>handle_ret_type&#45;&gt;add_func</title>
<path fill="none" stroke="black" d="M693,-318.2C693,-306.49 693,-290.79 693,-277.4"/>
<polygon fill="black" stroke="black" points="696.5,-277.28 693,-267.28 689.5,-277.28 696.5,-277.28"/>
</g>
<!-- add_break -->
<g id="node16" class="node">
<title>add_break</title>
<polygon fill="none" stroke="black" points="764.5,-182 621.5,-182 621.5,-146 764.5,-146 764.5,-182"/>
<text text-anchor="middle" x="693" y="-167" font-family="Courier,monospace" font-size="10.00">添加 break_inline 指令</text>
<text text-anchor="middle" x="693" y="-156" font-family="Courier,monospace" font-size="10.00">设置 block_scope 的块体</text>
</g>
<!-- add_func&#45;&gt;add_break -->
<g id="edge19" class="edge">
<title>add_func&#45;&gt;add_break</title>
<path fill="none" stroke="black" d="M693,-230.8C693,-219.67 693,-204.94 693,-192.24"/>
<polygon fill="black" stroke="black" points="696.5,-192.18 693,-182.18 689.5,-192.18 696.5,-192.18"/>
</g>
<!-- append_instructions -->
<g id="node17" class="node">
<title>append_instructions</title>
<polygon fill="none" stroke="black" points="804,-109 582,-109 582,-73 804,-73 804,-109"/>
<text text-anchor="middle" x="693" y="-88.5" font-family="Courier,monospace" font-size="10.00">将 block_inst 添加到 gz.instructions</text>
</g>
<!-- add_break&#45;&gt;append_instructions -->
<g id="edge20" class="edge">
<title>add_break&#45;&gt;append_instructions</title>
<path fill="none" stroke="black" d="M693,-145.81C693,-137.79 693,-128.05 693,-119.07"/>
<polygon fill="black" stroke="black" points="696.5,-119.03 693,-109.03 689.5,-119.03 696.5,-119.03"/>
</g>
<!-- return_result -->
<g id="node18" class="node">
<title>return_result</title>
<polygon fill="none" stroke="black" points="815.5,-36 570.5,-36 570.5,0 815.5,0 815.5,-36"/>
<text text-anchor="middle" x="693" y="-15.5" font-family="Courier,monospace" font-size="10.00">返回 rvalue(gz, ri, block_inst.toRef())</text>
</g>
<!-- append_instructions&#45;&gt;return_result -->
<g id="edge21" class="edge">
<title>append_instructions&#45;&gt;return_result</title>
<path fill="none" stroke="black" d="M693,-72.81C693,-64.79 693,-55.05 693,-46.07"/>
<polygon fill="black" stroke="black" points="696.5,-46.03 693,-36.03 689.5,-46.03 696.5,-46.03"/>
</g>
<!-- handle_callconv_expr&#45;&gt;handle_ret_type -->
<g id="edge16" class="edge">
<title>handle_callconv_expr&#45;&gt;handle_ret_type</title>
<path fill="none" stroke="black" d="M596.1,-415.93C614.94,-400.68 642.73,-378.18 663.72,-361.19"/>
<polygon fill="black" stroke="black" points="666.12,-363.76 671.69,-354.75 661.71,-358.32 666.12,-363.76"/>
</g>
</g>
</svg>
