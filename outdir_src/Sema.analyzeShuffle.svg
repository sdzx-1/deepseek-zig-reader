<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: analyzeShuffle Pages: 1 -->
<svg width="1249pt" height="1199pt"
 viewBox="0.00 0.00 1248.64 1199.22" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1195.22)">
<title>analyzeShuffle</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1195.22 1244.64,-1195.22 1244.64,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<polygon fill="none" stroke="black" points="265.14,-1191.22 83.14,-1191.22 83.14,-1155.22 265.14,-1155.22 265.14,-1191.22"/>
<text text-anchor="middle" x="174.14" y="-1169.52" font-family="Courier New" font-size="14.00">Start analyzeShuffle</text>
</g>
<!-- init -->
<g id="node2" class="node">
<title>init</title>
<polygon fill="none" stroke="black" points="310.14,-1118.22 38.14,-1118.22 38.14,-1080.22 310.14,-1080.22 310.14,-1118.22"/>
<text text-anchor="middle" x="174.14" y="-1103.02" font-family="Courier New" font-size="14.00">Initialize variables:</text>
<text text-anchor="middle" x="174.14" y="-1088.02" font-family="Courier New" font-size="14.00">pt, zcu, a_src, b_src, mask_src</text>
</g>
<!-- start&#45;&gt;init -->
<g id="edge1" class="edge">
<title>start&#45;&gt;init</title>
<path fill="none" stroke="black" d="M174.14,-1155.16C174.14,-1147.21 174.14,-1137.53 174.14,-1128.53"/>
<polygon fill="black" stroke="black" points="177.64,-1128.42 174.14,-1118.42 170.64,-1128.42 177.64,-1128.42"/>
</g>
<!-- create_res_ty -->
<g id="node3" class="node">
<title>create_res_ty</title>
<polygon fill="none" stroke="black" points="322.64,-1043.22 25.64,-1043.22 25.64,-1007.22 322.64,-1007.22 322.64,-1043.22"/>
<text text-anchor="middle" x="174.14" y="-1021.52" font-family="Courier New" font-size="14.00">Create res_ty (result vector type)</text>
</g>
<!-- init&#45;&gt;create_res_ty -->
<g id="edge2" class="edge">
<title>init&#45;&gt;create_res_ty</title>
<path fill="none" stroke="black" d="M174.14,-1080.05C174.14,-1072.11 174.14,-1062.63 174.14,-1053.85"/>
<polygon fill="black" stroke="black" points="177.64,-1053.64 174.14,-1043.64 170.64,-1053.64 177.64,-1053.64"/>
</g>
<!-- check_a_type -->
<g id="node4" class="node">
<title>check_a_type</title>
<polygon fill="none" stroke="black" points="252.64,-970.22 95.64,-970.22 95.64,-932.22 252.64,-932.22 252.64,-970.22"/>
<text text-anchor="middle" x="174.14" y="-955.02" font-family="Courier New" font-size="14.00">Check type of a</text>
<text text-anchor="middle" x="174.14" y="-940.02" font-family="Courier New" font-size="14.00">(get maybe_a_len)</text>
</g>
<!-- create_res_ty&#45;&gt;check_a_type -->
<g id="edge3" class="edge">
<title>create_res_ty&#45;&gt;check_a_type</title>
<path fill="none" stroke="black" d="M174.14,-1007.16C174.14,-999.21 174.14,-989.53 174.14,-980.53"/>
<polygon fill="black" stroke="black" points="177.64,-980.42 174.14,-970.42 170.64,-980.42 177.64,-980.42"/>
</g>
<!-- check_b_type -->
<g id="node5" class="node">
<title>check_b_type</title>
<polygon fill="none" stroke="black" points="252.64,-895.22 95.64,-895.22 95.64,-857.22 252.64,-857.22 252.64,-895.22"/>
<text text-anchor="middle" x="174.14" y="-880.02" font-family="Courier New" font-size="14.00">Check type of b</text>
<text text-anchor="middle" x="174.14" y="-865.02" font-family="Courier New" font-size="14.00">(get maybe_b_len)</text>
</g>
<!-- check_a_type&#45;&gt;check_b_type -->
<g id="edge4" class="edge">
<title>check_a_type&#45;&gt;check_b_type</title>
<path fill="none" stroke="black" d="M174.14,-932.18C174.14,-924.1 174.14,-914.4 174.14,-905.4"/>
<polygon fill="black" stroke="black" points="177.64,-905.31 174.14,-895.31 170.64,-905.31 177.64,-905.31"/>
</g>
<!-- check_both_null -->
<g id="node6" class="node">
<title>check_both_null</title>
<polygon fill="none" stroke="black" points="339.14,-820.22 9.14,-820.22 9.14,-784.22 339.14,-784.22 339.14,-820.22"/>
<text text-anchor="middle" x="174.14" y="-798.52" font-family="Courier New" font-size="14.00">maybe_a_len and maybe_b_len both null?</text>
</g>
<!-- check_b_type&#45;&gt;check_both_null -->
<g id="edge5" class="edge">
<title>check_b_type&#45;&gt;check_both_null</title>
<path fill="none" stroke="black" d="M174.14,-857.05C174.14,-849.11 174.14,-839.63 174.14,-830.85"/>
<polygon fill="black" stroke="black" points="177.64,-830.64 174.14,-820.64 170.64,-830.64 177.64,-830.64"/>
</g>
<!-- return_undef -->
<g id="node7" class="node">
<title>return_undef</title>
<ellipse fill="none" stroke="black" cx="150.14" cy="-715.22" rx="150.27" ry="18"/>
<text text-anchor="middle" x="150.14" y="-711.52" font-family="Courier New" font-size="14.00">Return pt.undefRef(res_ty)</text>
</g>
<!-- check_both_null&#45;&gt;return_undef -->
<g id="edge6" class="edge">
<title>check_both_null&#45;&gt;return_undef</title>
<path fill="none" stroke="black" d="M169.28,-784.02C165.96,-772.27 161.5,-756.46 157.72,-743.06"/>
<polygon fill="black" stroke="black" points="161.07,-742.07 154.99,-733.4 154.34,-743.97 161.07,-742.07"/>
<text text-anchor="middle" x="176.64" y="-755.02" font-family="Times,serif" font-size="14.00">Yes</text>
</g>
<!-- determine_lengths -->
<g id="node8" class="node">
<title>determine_lengths</title>
<polygon fill="none" stroke="black" points="541.64,-733.22 318.64,-733.22 318.64,-697.22 541.64,-697.22 541.64,-733.22"/>
<text text-anchor="middle" x="430.14" y="-711.52" font-family="Courier New" font-size="14.00">Determine a_len and b_len</text>
</g>
<!-- check_both_null&#45;&gt;determine_lengths -->
<g id="edge7" class="edge">
<title>check_both_null&#45;&gt;determine_lengths</title>
<path fill="none" stroke="black" d="M225.63,-784.12C267.04,-770.38 325.3,-751.03 369.06,-736.5"/>
<polygon fill="black" stroke="black" points="370.33,-739.76 378.72,-733.29 368.13,-733.12 370.33,-739.76"/>
<text text-anchor="middle" x="328.64" y="-755.02" font-family="Times,serif" font-size="14.00">No</text>
</g>
<!-- create_a_b_ty -->
<g id="node9" class="node">
<title>create_a_b_ty</title>
<polygon fill="none" stroke="black" points="521.14,-660.22 339.14,-660.22 339.14,-624.22 521.14,-624.22 521.14,-660.22"/>
<text text-anchor="middle" x="430.14" y="-638.52" font-family="Courier New" font-size="14.00">Create a_ty and b_ty</text>
</g>
<!-- determine_lengths&#45;&gt;create_a_b_ty -->
<g id="edge8" class="edge">
<title>determine_lengths&#45;&gt;create_a_b_ty</title>
<path fill="none" stroke="black" d="M430.14,-697.03C430.14,-689.01 430.14,-679.27 430.14,-670.29"/>
<polygon fill="black" stroke="black" points="433.64,-670.25 430.14,-660.25 426.64,-670.25 433.64,-670.25"/>
</g>
<!-- coerce_a_b -->
<g id="node10" class="node">
<title>coerce_a_b</title>
<polygon fill="none" stroke="black" points="549.64,-587.22 310.64,-587.22 310.64,-549.22 549.64,-549.22 549.64,-587.22"/>
<text text-anchor="middle" x="430.14" y="-572.02" font-family="Courier New" font-size="14.00">Coerce a and b to a_ty/b_ty</text>
<text text-anchor="middle" x="430.14" y="-557.02" font-family="Courier New" font-size="14.00">or set to undef</text>
</g>
<!-- create_a_b_ty&#45;&gt;coerce_a_b -->
<g id="edge9" class="edge">
<title>create_a_b_ty&#45;&gt;coerce_a_b</title>
<path fill="none" stroke="black" d="M430.14,-624.16C430.14,-616.21 430.14,-606.53 430.14,-597.53"/>
<polygon fill="black" stroke="black" points="433.64,-597.42 430.14,-587.42 426.64,-597.42 433.64,-597.42"/>
</g>
<!-- loop_mask_start -->
<g id="node11" class="node">
<title>loop_mask_start</title>
<polygon fill="none" stroke="black" points="591.14,-512.22 269.14,-512.22 269.14,-476.22 591.14,-476.22 591.14,-512.22"/>
<text text-anchor="middle" x="430.14" y="-490.52" font-family="Courier New" font-size="14.00">Loop over mask elements (0..mask_len)</text>
</g>
<!-- coerce_a_b&#45;&gt;loop_mask_start -->
<g id="edge10" class="edge">
<title>coerce_a_b&#45;&gt;loop_mask_start</title>
<path fill="none" stroke="black" d="M430.14,-549.05C430.14,-541.11 430.14,-531.63 430.14,-522.85"/>
<polygon fill="black" stroke="black" points="433.64,-522.64 430.14,-512.64 426.64,-522.64 433.64,-522.64"/>
</g>
<!-- check_undef -->
<g id="node12" class="node">
<title>check_undef</title>
<polygon fill="none" stroke="black" points="428.14,-425.22 164.14,-425.22 164.14,-389.22 428.14,-389.22 428.14,-425.22"/>
<text text-anchor="middle" x="296.14" y="-403.52" font-family="Courier New" font-size="14.00">Current mask element is undef?</text>
</g>
<!-- loop_mask_start&#45;&gt;check_undef -->
<g id="edge11" class="edge">
<title>loop_mask_start&#45;&gt;check_undef</title>
<path fill="none" stroke="black" d="M345.44,-476.15C335.13,-471.54 325.35,-465.67 317.14,-458.22 310.42,-452.13 305.79,-443.54 302.62,-435.2"/>
<polygon fill="black" stroke="black" points="305.95,-434.12 299.53,-425.69 299.29,-436.28 305.95,-434.12"/>
<text text-anchor="middle" x="352.64" y="-447.02" font-family="Times,serif" font-size="14.00">For each i</text>
</g>
<!-- static_analysis -->
<g id="node16" class="node">
<title>static_analysis</title>
<polygon fill="none" stroke="black" points="707.14,-425.22 509.14,-425.22 509.14,-389.22 707.14,-389.22 707.14,-425.22"/>
<text text-anchor="middle" x="608.14" y="-403.52" font-family="Courier New" font-size="14.00">Resolve a and b values</text>
</g>
<!-- loop_mask_start&#45;&gt;static_analysis -->
<g id="edge17" class="edge">
<title>loop_mask_start&#45;&gt;static_analysis</title>
<path fill="none" stroke="black" d="M466.16,-476.02C494.12,-462.67 533.04,-444.08 563.06,-429.74"/>
<polygon fill="black" stroke="black" points="564.96,-432.72 572.47,-425.25 561.94,-426.4 564.96,-432.72"/>
<text text-anchor="middle" x="563.14" y="-447.02" font-family="Times,serif" font-size="14.00">Loop end</text>
</g>
<!-- check_undef&#45;&gt;loop_mask_start -->
<g id="edge12" class="edge">
<title>check_undef&#45;&gt;loop_mask_start</title>
<path fill="none" stroke="black" d="M354.37,-425.23C366.12,-430.04 377.97,-435.99 388.14,-443.22 397.52,-449.89 406.07,-459.13 412.97,-467.86"/>
<polygon fill="black" stroke="black" points="410.25,-470.07 419.05,-475.97 415.85,-465.87 410.25,-470.07"/>
<text text-anchor="middle" x="416.64" y="-447.02" font-family="Times,serif" font-size="14.00">Yes</text>
</g>
<!-- process_element -->
<g id="node13" class="node">
<title>process_element</title>
<polygon fill="none" stroke="black" points="428.64,-338.22 139.64,-338.22 139.64,-300.22 428.64,-300.22 428.64,-338.22"/>
<text text-anchor="middle" x="284.14" y="-323.02" font-family="Courier New" font-size="14.00">Resolve element value</text>
<text text-anchor="middle" x="284.14" y="-308.02" font-family="Courier New" font-size="14.00">determine chosen vector and index</text>
</g>
<!-- check_undef&#45;&gt;process_element -->
<g id="edge13" class="edge">
<title>check_undef&#45;&gt;process_element</title>
<path fill="none" stroke="black" d="M293.71,-388.82C292.1,-377.28 289.95,-361.87 288.09,-348.58"/>
<polygon fill="black" stroke="black" points="291.53,-347.91 286.69,-338.49 284.6,-348.88 291.53,-347.91"/>
<text text-anchor="middle" x="302.64" y="-360.02" font-family="Times,serif" font-size="14.00">No</text>
</g>
<!-- check_bounds -->
<g id="node14" class="node">
<title>check_bounds</title>
<polygon fill="none" stroke="black" points="387.14,-240.35 181.14,-240.35 181.14,-204.35 387.14,-204.35 387.14,-240.35"/>
<text text-anchor="middle" x="284.14" y="-218.65" font-family="Courier New" font-size="14.00">Index &gt;= vector length?</text>
</g>
<!-- process_element&#45;&gt;check_bounds -->
<g id="edge14" class="edge">
<title>process_element&#45;&gt;check_bounds</title>
<path fill="none" stroke="black" d="M284.14,-299.93C284.14,-286.02 284.14,-266.64 284.14,-250.87"/>
<polygon fill="black" stroke="black" points="287.64,-250.63 284.14,-240.63 280.64,-250.63 287.64,-250.63"/>
</g>
<!-- check_bounds&#45;&gt;loop_mask_start -->
<g id="edge16" class="edge">
<title>check_bounds&#45;&gt;loop_mask_start</title>
<path fill="none" stroke="black" d="M353.93,-240.4C385.07,-251.86 418.8,-270.49 437.14,-300.22 468.96,-351.83 452.33,-426.83 439.82,-466.43"/>
<polygon fill="black" stroke="black" points="436.42,-465.56 436.61,-476.15 443.07,-467.76 436.42,-465.56"/>
<text text-anchor="middle" x="466.64" y="-360.02" font-family="Times,serif" font-size="14.00">No</text>
</g>
<!-- generate_error -->
<g id="node15" class="node">
<title>generate_error</title>
<ellipse fill="none" stroke="black" cx="284.14" cy="-117.61" rx="140.01" ry="26.74"/>
<text text-anchor="middle" x="284.14" y="-121.41" font-family="Courier New" font-size="14.00">Generate error message</text>
<text text-anchor="middle" x="284.14" y="-106.41" font-family="Courier New" font-size="14.00">return error</text>
</g>
<!-- check_bounds&#45;&gt;generate_error -->
<g id="edge15" class="edge">
<title>check_bounds&#45;&gt;generate_error</title>
<path fill="none" stroke="black" d="M284.14,-203.92C284.14,-190.46 284.14,-171.36 284.14,-154.65"/>
<polygon fill="black" stroke="black" points="287.64,-154.62 284.14,-144.62 280.64,-154.62 287.64,-154.62"/>
<text text-anchor="middle" x="296.64" y="-166.28" font-family="Times,serif" font-size="14.00">Yes</text>
</g>
<!-- check_static -->
<g id="node17" class="node">
<title>check_static</title>
<polygon fill="none" stroke="black" points="773.64,-337.22 492.64,-337.22 492.64,-301.22 773.64,-301.22 773.64,-337.22"/>
<text text-anchor="middle" x="633.14" y="-315.52" font-family="Courier New" font-size="14.00">Both a and b are comptime&#45;known?</text>
</g>
<!-- static_analysis&#45;&gt;check_static -->
<g id="edge18" class="edge">
<title>static_analysis&#45;&gt;check_static</title>
<path fill="none" stroke="black" d="M613.2,-388.82C616.67,-376.85 621.36,-360.72 625.32,-347.11"/>
<polygon fill="black" stroke="black" points="628.74,-347.88 628.17,-337.3 622.02,-345.93 628.74,-347.88"/>
</g>
<!-- create_aggregate -->
<g id="node18" class="node">
<title>create_aggregate</title>
<ellipse fill="none" stroke="black" cx="633.14" cy="-222.35" rx="227.88" ry="26.74"/>
<text text-anchor="middle" x="633.14" y="-226.15" font-family="Courier New" font-size="14.00">Create aggregate with resolved values</text>
<text text-anchor="middle" x="633.14" y="-211.15" font-family="Courier New" font-size="14.00">return it</text>
</g>
<!-- check_static&#45;&gt;create_aggregate -->
<g id="edge19" class="edge">
<title>check_static&#45;&gt;create_aggregate</title>
<path fill="none" stroke="black" d="M633.14,-300.82C633.14,-289.2 633.14,-273.49 633.14,-259.26"/>
<polygon fill="black" stroke="black" points="636.64,-259.23 633.14,-249.23 629.64,-259.23 636.64,-259.23"/>
<text text-anchor="middle" x="645.64" y="-271.02" font-family="Times,serif" font-size="14.00">Yes</text>
</g>
<!-- check_lengths -->
<g id="node19" class="node">
<title>check_lengths</title>
<polygon fill="none" stroke="black" points="1019.14,-240.35 879.14,-240.35 879.14,-204.35 1019.14,-204.35 1019.14,-240.35"/>
<text text-anchor="middle" x="949.14" y="-218.65" font-family="Courier New" font-size="14.00">a_len == b_len?</text>
</g>
<!-- check_static&#45;&gt;check_lengths -->
<g id="edge20" class="edge">
<title>check_static&#45;&gt;check_lengths</title>
<path fill="none" stroke="black" d="M693.7,-301.19C741.68,-287.55 810.36,-267.7 870.14,-249.22 876.02,-247.4 882.13,-245.47 888.24,-243.52"/>
<polygon fill="black" stroke="black" points="889.35,-246.83 897.8,-240.44 887.2,-240.17 889.35,-246.83"/>
<text text-anchor="middle" x="816.64" y="-271.02" font-family="Times,serif" font-size="14.00">No</text>
</g>
<!-- expand_vector -->
<g id="node20" class="node">
<title>expand_vector</title>
<polygon fill="none" stroke="black" points="1240.64,-136.61 935.64,-136.61 935.64,-98.61 1240.64,-98.61 1240.64,-136.61"/>
<text text-anchor="middle" x="1088.14" y="-121.41" font-family="Courier New" font-size="14.00">Expand shorter vector via recursion</text>
<text text-anchor="middle" x="1088.14" y="-106.41" font-family="Courier New" font-size="14.00">update a or b</text>
</g>
<!-- check_lengths&#45;&gt;expand_vector -->
<g id="edge21" class="edge">
<title>check_lengths&#45;&gt;expand_vector</title>
<path fill="none" stroke="black" d="M972.4,-204.15C995.04,-187.42 1029.65,-161.84 1055.13,-143.01"/>
<polygon fill="black" stroke="black" points="1057.43,-145.66 1063.39,-136.9 1053.27,-140.03 1057.43,-145.66"/>
<text text-anchor="middle" x="1037.64" y="-166.28" font-family="Times,serif" font-size="14.00">No</text>
</g>
<!-- generate_shuffle -->
<g id="node21" class="node">
<title>generate_shuffle</title>
<ellipse fill="none" stroke="black" cx="904.14" cy="-26.87" rx="181.04" ry="26.74"/>
<text text-anchor="middle" x="904.14" y="-30.67" font-family="Courier New" font-size="14.00">Generate .shuffle instruction</text>
<text text-anchor="middle" x="904.14" y="-15.67" font-family="Courier New" font-size="14.00">return result</text>
</g>
<!-- check_lengths&#45;&gt;generate_shuffle -->
<g id="edge22" class="edge">
<title>check_lengths&#45;&gt;generate_shuffle</title>
<path fill="none" stroke="black" d="M934.37,-204.1C922.8,-189.36 907.59,-167.02 901.14,-144.48 893.64,-118.31 894.84,-87.48 897.67,-64.09"/>
<polygon fill="black" stroke="black" points="901.18,-64.29 899.07,-53.91 894.24,-63.34 901.18,-64.29"/>
<text text-anchor="middle" x="913.64" y="-113.91" font-family="Times,serif" font-size="14.00">Yes</text>
</g>
<!-- expand_vector&#45;&gt;generate_shuffle -->
<g id="edge23" class="edge">
<title>expand_vector&#45;&gt;generate_shuffle</title>
<path fill="none" stroke="black" d="M1050.46,-98.44C1025.79,-86.54 993.01,-70.73 964.72,-57.09"/>
<polygon fill="black" stroke="black" points="966.24,-53.94 955.72,-52.75 963.2,-60.24 966.24,-53.94"/>
</g>
</g>
</svg>
