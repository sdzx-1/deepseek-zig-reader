<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="1810pt" height="372pt"
 viewBox="0.00 0.00 1810.00 372.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 368)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-368 1806,-368 1806,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="none" stroke="black" cx="905.5" cy="-346" rx="52.28" ry="18"/>
<text text-anchor="middle" x="905.5" y="-343.5" font-family="Courier,monospace" font-size="10.00">Start expr()</text>
</g>
<!-- get_tree -->
<g id="node2" class="node">
<title>get_tree</title>
<polygon fill="none" stroke="black" points="983,-291 828,-291 828,-255 983,-255 983,-291"/>
<text text-anchor="middle" x="905.5" y="-270.5" font-family="Courier,monospace" font-size="10.00">const tree = astrl.tree</text>
</g>
<!-- start&#45;&gt;get_tree -->
<g id="edge1" class="edge">
<title>start&#45;&gt;get_tree</title>
<path fill="none" stroke="black" d="M905.5,-327.81C905.5,-319.79 905.5,-310.05 905.5,-301.07"/>
<polygon fill="black" stroke="black" points="909,-301.03 905.5,-291.03 902,-301.03 909,-301.03"/>
</g>
<!-- switch_node_tag -->
<g id="node3" class="node">
<title>switch_node_tag</title>
<polygon fill="none" stroke="black" points="905.5,-218 756.47,-200 905.5,-182 1054.53,-200 905.5,-218"/>
<text text-anchor="middle" x="905.5" y="-197.5" font-family="Courier,monospace" font-size="10.00">switch (tree.nodeTag(node))</text>
</g>
<!-- get_tree&#45;&gt;switch_node_tag -->
<g id="edge2" class="edge">
<title>get_tree&#45;&gt;switch_node_tag</title>
<path fill="none" stroke="black" d="M905.5,-254.81C905.5,-246.79 905.5,-237.05 905.5,-228.07"/>
<polygon fill="black" stroke="black" points="909,-228.03 905.5,-218.03 902,-228.03 909,-228.03"/>
</g>
<!-- unreachable -->
<g id="node4" class="node">
<title>unreachable</title>
<polygon fill="none" stroke="black" points="239,-127 0,-127 0,-91 239,-91 239,-127"/>
<text text-anchor="middle" x="119.5" y="-106.5" font-family="Courier,monospace" font-size="10.00">Unreachable (root, switch_case, etc.)</text>
</g>
<!-- switch_node_tag&#45;&gt;unreachable -->
<g id="edge3" class="edge">
<title>switch_node_tag&#45;&gt;unreachable</title>
<path fill="none" stroke="black" d="M785.93,-196.44C676.15,-192.86 509.22,-184.31 365.5,-164 307.38,-155.79 242.56,-141.34 194.06,-129.45"/>
<polygon fill="black" stroke="black" points="194.82,-126.03 184.27,-127.03 193.14,-132.83 194.82,-126.03"/>
<text text-anchor="middle" x="432" y="-156" font-family="Courier,monospace" font-size="10.00">.root, .switch_case...</text>
</g>
<!-- handle_errdefer -->
<g id="node5" class="node">
<title>handle_errdefer</title>
<polygon fill="none" stroke="black" points="400,-129.5 257,-129.5 257,-88.5 400,-88.5 400,-129.5"/>
<text text-anchor="middle" x="328.5" y="-117.5" font-family="Courier,monospace" font-size="10.00">Handle .errdefer</text>
<text text-anchor="middle" x="328.5" y="-106.5" font-family="Courier,monospace" font-size="10.00">Recurse on child node</text>
<text text-anchor="middle" x="328.5" y="-95.5" font-family="Courier,monospace" font-size="10.00">Return false</text>
</g>
<!-- switch_node_tag&#45;&gt;handle_errdefer -->
<g id="edge4" class="edge">
<title>switch_node_tag&#45;&gt;handle_errdefer</title>
<path fill="none" stroke="black" d="M808.91,-193.6C707.79,-186.32 545.03,-169.98 408.5,-135 405.16,-134.14 401.75,-133.23 398.31,-132.28"/>
<polygon fill="black" stroke="black" points="399.17,-128.89 388.59,-129.51 397.25,-135.62 399.17,-128.89"/>
<text text-anchor="middle" x="571" y="-156" font-family="Courier,monospace" font-size="10.00">.errdefer</text>
</g>
<!-- handle_defer -->
<g id="node6" class="node">
<title>handle_defer</title>
<polygon fill="none" stroke="black" points="561,-129.5 418,-129.5 418,-88.5 561,-88.5 561,-129.5"/>
<text text-anchor="middle" x="489.5" y="-117.5" font-family="Courier,monospace" font-size="10.00">Handle .defer</text>
<text text-anchor="middle" x="489.5" y="-106.5" font-family="Courier,monospace" font-size="10.00">Recurse on child node</text>
<text text-anchor="middle" x="489.5" y="-95.5" font-family="Courier,monospace" font-size="10.00">Return false</text>
</g>
<!-- switch_node_tag&#45;&gt;handle_defer -->
<g id="edge5" class="edge">
<title>switch_node_tag&#45;&gt;handle_defer</title>
<path fill="none" stroke="black" d="M825.05,-191.66C774.99,-186.16 709.51,-177.27 652.5,-164 618.05,-155.98 580.51,-143.79 550.16,-133.03"/>
<polygon fill="black" stroke="black" points="551.16,-129.67 540.57,-129.59 548.8,-136.26 551.16,-129.67"/>
<text text-anchor="middle" x="671" y="-156" font-family="Courier,monospace" font-size="10.00">.defer</text>
</g>
<!-- handle_var_decl -->
<g id="node7" class="node">
<title>handle_var_decl</title>
<polygon fill="none" stroke="black" points="752,-135 579,-135 579,-83 752,-83 752,-135"/>
<text text-anchor="middle" x="665.5" y="-123" font-family="Courier,monospace" font-size="10.00">Handle var decls</text>
<text text-anchor="middle" x="665.5" y="-112" font-family="Courier,monospace" font-size="10.00">Check init_ri</text>
<text text-anchor="middle" x="665.5" y="-101" font-family="Courier,monospace" font-size="10.00">Recurse on type/init nodes</text>
<text text-anchor="middle" x="665.5" y="-90" font-family="Courier,monospace" font-size="10.00">Return false</text>
</g>
<!-- switch_node_tag&#45;&gt;handle_var_decl -->
<g id="edge6" class="edge">
<title>switch_node_tag&#45;&gt;handle_var_decl</title>
<path fill="none" stroke="black" d="M829.17,-191.21C782.44,-185.36 727.83,-176.25 707.5,-164 699.06,-158.91 691.68,-151.45 685.55,-143.69"/>
<polygon fill="black" stroke="black" points="688.13,-141.27 679.41,-135.24 682.46,-145.39 688.13,-141.27"/>
<text text-anchor="middle" x="771" y="-156" font-family="Courier,monospace" font-size="10.00">.global_var_decl etc.</text>
</g>
<!-- handle_assign -->
<g id="node8" class="node">
<title>handle_assign</title>
<polygon fill="none" stroke="black" points="895,-129.5 770,-129.5 770,-88.5 895,-88.5 895,-129.5"/>
<text text-anchor="middle" x="832.5" y="-117.5" font-family="Courier,monospace" font-size="10.00">Handle assignments</text>
<text text-anchor="middle" x="832.5" y="-106.5" font-family="Courier,monospace" font-size="10.00">Recurse on lhs/rhs</text>
<text text-anchor="middle" x="832.5" y="-95.5" font-family="Courier,monospace" font-size="10.00">Return false</text>
</g>
<!-- switch_node_tag&#45;&gt;handle_assign -->
<g id="edge7" class="edge">
<title>switch_node_tag&#45;&gt;handle_assign</title>
<path fill="none" stroke="black" d="M871.62,-185.97C861.55,-180.57 851.37,-173.34 844.5,-164 839.32,-156.96 836.31,-148.1 834.57,-139.61"/>
<polygon fill="black" stroke="black" points="838.01,-138.93 833.04,-129.57 831.09,-139.99 838.01,-138.93"/>
<text text-anchor="middle" x="899" y="-156" font-family="Courier,monospace" font-size="10.00">.assign, .shl etc.</text>
</g>
<!-- handle_control_flow -->
<g id="node9" class="node">
<title>handle_control_flow</title>
<polygon fill="none" stroke="black" points="1062,-135 913,-135 913,-83 1062,-83 1062,-135"/>
<text text-anchor="middle" x="987.5" y="-123" font-family="Courier,monospace" font-size="10.00">Handle if/while/for</text>
<text text-anchor="middle" x="987.5" y="-112" font-family="Courier,monospace" font-size="10.00">Process conditions</text>
<text text-anchor="middle" x="987.5" y="-101" font-family="Courier,monospace" font-size="10.00">Create new blocks</text>
<text text-anchor="middle" x="987.5" y="-90" font-family="Courier,monospace" font-size="10.00">Check consumes_res_ptr</text>
</g>
<!-- switch_node_tag&#45;&gt;handle_control_flow -->
<g id="edge8" class="edge">
<title>switch_node_tag&#45;&gt;handle_control_flow</title>
<path fill="none" stroke="black" d="M928.92,-184.59C937.24,-178.81 946.32,-171.69 953.5,-164 959.14,-157.97 964.37,-150.87 968.96,-143.84"/>
<polygon fill="black" stroke="black" points="972.12,-145.4 974.42,-135.05 966.17,-141.7 972.12,-145.4"/>
<text text-anchor="middle" x="1013" y="-156" font-family="Courier,monospace" font-size="10.00">.if, .while, .for</text>
</g>
<!-- handle_call -->
<g id="node10" class="node">
<title>handle_call</title>
<polygon fill="none" stroke="black" points="1259,-129.5 1080,-129.5 1080,-88.5 1259,-88.5 1259,-129.5"/>
<text text-anchor="middle" x="1169.5" y="-117.5" font-family="Courier,monospace" font-size="10.00">Handle function calls</text>
<text text-anchor="middle" x="1169.5" y="-106.5" font-family="Courier,monospace" font-size="10.00">Process params</text>
<text text-anchor="middle" x="1169.5" y="-95.5" font-family="Courier,monospace" font-size="10.00">Check async/result location</text>
</g>
<!-- switch_node_tag&#45;&gt;handle_call -->
<g id="edge9" class="edge">
<title>switch_node_tag&#45;&gt;handle_call</title>
<path fill="none" stroke="black" d="M968.97,-189.63C999.61,-184.03 1036.57,-175.7 1068.5,-164 1089.33,-156.37 1111.18,-145.13 1129.21,-134.89"/>
<polygon fill="black" stroke="black" points="1131.37,-137.68 1138.27,-129.64 1127.86,-131.62 1131.37,-137.68"/>
<text text-anchor="middle" x="1154" y="-156" font-family="Courier,monospace" font-size="10.00">.call, .builtin_call</text>
</g>
<!-- handle_return -->
<g id="node11" class="node">
<title>handle_return</title>
<polygon fill="none" stroke="black" points="1444,-129.5 1277,-129.5 1277,-88.5 1444,-88.5 1444,-129.5"/>
<text text-anchor="middle" x="1360.5" y="-117.5" font-family="Courier,monospace" font-size="10.00">Handle return</text>
<text text-anchor="middle" x="1360.5" y="-106.5" font-family="Courier,monospace" font-size="10.00">Check ret_val_consumes_rl</text>
<text text-anchor="middle" x="1360.5" y="-95.5" font-family="Courier,monospace" font-size="10.00">Update nodes_need_rl</text>
</g>
<!-- switch_node_tag&#45;&gt;handle_return -->
<g id="edge10" class="edge">
<title>switch_node_tag&#45;&gt;handle_return</title>
<path fill="none" stroke="black" d="M1006.7,-194.16C1068.55,-189.61 1148.88,-180.84 1218.5,-164 1248.98,-156.63 1281.78,-144.45 1308.17,-133.53"/>
<polygon fill="black" stroke="black" points="1309.72,-136.67 1317.58,-129.57 1307.01,-130.22 1309.72,-136.67"/>
<text text-anchor="middle" x="1275" y="-156" font-family="Courier,monospace" font-size="10.00">.return</text>
</g>
<!-- handle_containers -->
<g id="node12" class="node">
<title>handle_containers</title>
<polygon fill="none" stroke="black" points="1629,-129.5 1462,-129.5 1462,-88.5 1629,-88.5 1629,-129.5"/>
<text text-anchor="middle" x="1545.5" y="-117.5" font-family="Courier,monospace" font-size="10.00">Handle containers/structs</text>
<text text-anchor="middle" x="1545.5" y="-106.5" font-family="Courier,monospace" font-size="10.00">Recurse on fields</text>
<text text-anchor="middle" x="1545.5" y="-95.5" font-family="Courier,monospace" font-size="10.00">Check result location</text>
</g>
<!-- switch_node_tag&#45;&gt;handle_containers -->
<g id="edge11" class="edge">
<title>switch_node_tag&#45;&gt;handle_containers</title>
<path fill="none" stroke="black" d="M999.57,-193.29C1079.79,-187.8 1198.04,-178.21 1300.5,-164 1369.05,-154.49 1386.05,-150.53 1453.5,-135 1457.58,-134.06 1461.76,-133.06 1465.97,-132.02"/>
<polygon fill="black" stroke="black" points="1466.98,-135.38 1475.82,-129.55 1465.27,-128.59 1466.98,-135.38"/>
<text text-anchor="middle" x="1457" y="-156" font-family="Courier,monospace" font-size="10.00">.container_decl, .struct_init</text>
</g>
<!-- handle_leaves -->
<g id="node13" class="node">
<title>handle_leaves</title>
<polygon fill="none" stroke="black" points="1802,-129.5 1647,-129.5 1647,-88.5 1802,-88.5 1802,-129.5"/>
<text text-anchor="middle" x="1724.5" y="-117.5" font-family="Courier,monospace" font-size="10.00">Handle leaf nodes</text>
<text text-anchor="middle" x="1724.5" y="-106.5" font-family="Courier,monospace" font-size="10.00">(identifiers, literals)</text>
<text text-anchor="middle" x="1724.5" y="-95.5" font-family="Courier,monospace" font-size="10.00">Return false</text>
</g>
<!-- switch_node_tag&#45;&gt;handle_leaves -->
<g id="edge12" class="edge">
<title>switch_node_tag&#45;&gt;handle_leaves</title>
<path fill="none" stroke="black" d="M1021.91,-196.06C1179.09,-191.5 1450.74,-181.39 1548.5,-164 1587.31,-157.1 1629.57,-144.31 1662.95,-132.92"/>
<polygon fill="black" stroke="black" points="1664.26,-136.17 1672.57,-129.59 1661.97,-129.55 1664.26,-136.17"/>
<text text-anchor="middle" x="1692" y="-156" font-family="Courier,monospace" font-size="10.00">.identifier, .number_literal etc.</text>
</g>
<!-- end -->
<g id="node14" class="node">
<title>end</title>
<ellipse fill="none" stroke="black" cx="897.5" cy="-18" rx="48.72" ry="18"/>
<text text-anchor="middle" x="897.5" y="-15.5" font-family="Courier,monospace" font-size="10.00">Return bool</text>
</g>
<!-- unreachable&#45;&gt;end -->
<g id="edge22" class="edge">
<title>unreachable&#45;&gt;end</title>
<path fill="none" stroke="black" d="M201.62,-90.99C216.84,-88.11 232.62,-85.31 247.5,-83 464.54,-49.27 725.27,-29.94 839.32,-22.53"/>
<polygon fill="black" stroke="black" points="839.81,-26.01 849.56,-21.87 839.36,-19.02 839.81,-26.01"/>
</g>
<!-- handle_errdefer&#45;&gt;end -->
<g id="edge13" class="edge">
<title>handle_errdefer&#45;&gt;end</title>
<path fill="none" stroke="black" d="M387.17,-88.4C394.31,-86.39 401.54,-84.53 408.5,-83 562.29,-49.17 747.49,-30.92 839.6,-23.32"/>
<polygon fill="black" stroke="black" points="840.14,-26.79 849.82,-22.49 839.57,-19.81 840.14,-26.79"/>
</g>
<!-- handle_defer&#45;&gt;end -->
<g id="edge14" class="edge">
<title>handle_defer&#45;&gt;end</title>
<path fill="none" stroke="black" d="M549.58,-88.45C556.27,-86.5 563.01,-84.64 569.5,-83 665.07,-58.82 778.27,-38.55 843.59,-27.64"/>
<polygon fill="black" stroke="black" points="844.36,-31.06 853.65,-25.97 843.22,-24.16 844.36,-31.06"/>
</g>
<!-- handle_var_decl&#45;&gt;end -->
<g id="edge15" class="edge">
<title>handle_var_decl&#45;&gt;end</title>
<path fill="none" stroke="black" d="M730.74,-82.97C770.68,-67.65 820.61,-48.49 855.38,-35.16"/>
<polygon fill="black" stroke="black" points="856.68,-38.41 864.77,-31.56 854.18,-31.87 856.68,-38.41"/>
</g>
<!-- handle_assign&#45;&gt;end -->
<g id="edge16" class="edge">
<title>handle_assign&#45;&gt;end</title>
<path fill="none" stroke="black" d="M846.93,-88.25C856.47,-75.19 869.05,-57.95 879.28,-43.95"/>
<polygon fill="black" stroke="black" points="882.23,-45.85 885.3,-35.71 876.57,-41.72 882.23,-45.85"/>
</g>
<!-- handle_control_flow&#45;&gt;end -->
<g id="edge17" class="edge">
<title>handle_control_flow&#45;&gt;end</title>
<path fill="none" stroke="black" d="M961.95,-82.73C949.13,-70.05 933.69,-54.79 921.14,-42.38"/>
<polygon fill="black" stroke="black" points="923.32,-39.61 913.75,-35.07 918.4,-44.59 923.32,-39.61"/>
<text text-anchor="middle" x="1027" y="-57" font-family="Courier,monospace" font-size="10.00">Check block.consumes_res_ptr</text>
</g>
<!-- handle_call&#45;&gt;end -->
<g id="edge18" class="edge">
<title>handle_call&#45;&gt;end</title>
<path fill="none" stroke="black" d="M1155.18,-88.4C1145.37,-76.5 1131.32,-62.08 1115.5,-54 1065.83,-28.63 1002.21,-20.79 956.53,-18.75"/>
<polygon fill="black" stroke="black" points="956.61,-15.25 946.49,-18.38 956.35,-22.25 956.61,-15.25"/>
<text text-anchor="middle" x="1212" y="-57" font-family="Courier,monospace" font-size="10.00">Check async/result location</text>
</g>
<!-- handle_return&#45;&gt;end -->
<g id="edge19" class="edge">
<title>handle_return&#45;&gt;end</title>
<path fill="none" stroke="black" d="M1343.6,-88.26C1331.97,-76.14 1315.43,-61.54 1297.5,-54 1237.51,-28.78 1052.28,-21.73 956.38,-19.76"/>
<polygon fill="black" stroke="black" points="956.33,-16.26 946.27,-19.57 956.2,-23.26 956.33,-16.26"/>
<text text-anchor="middle" x="1405" y="-57" font-family="Courier,monospace" font-size="10.00">Update nodes_need_rl if needed</text>
</g>
<!-- handle_containers&#45;&gt;end -->
<g id="edge20" class="edge">
<title>handle_containers&#45;&gt;end</title>
<path fill="none" stroke="black" d="M1534.54,-88.45C1526.54,-76.23 1514.5,-61.46 1499.5,-54 1451.78,-30.26 1099.01,-22.14 956.73,-19.81"/>
<polygon fill="black" stroke="black" points="956.51,-16.31 946.45,-19.65 956.4,-23.31 956.51,-16.31"/>
<text text-anchor="middle" x="1568" y="-57" font-family="Courier,monospace" font-size="10.00">Check ri.have_type</text>
</g>
<!-- handle_leaves&#45;&gt;end -->
<g id="edge21" class="edge">
<title>handle_leaves&#45;&gt;end</title>
<path fill="none" stroke="black" d="M1696.84,-88.27C1677.99,-75.98 1651.92,-61.19 1626.5,-54 1501.26,-18.56 1107.53,-17.46 956.91,-18.41"/>
<polygon fill="black" stroke="black" points="956.47,-14.91 946.49,-18.48 956.52,-21.91 956.47,-14.91"/>
</g>
</g>
</svg>
