<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="516pt" height="1218pt"
 viewBox="0.00 0.00 515.50 1218.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1214)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1214 511.5,-1214 511.5,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<path fill="none" stroke="black" d="M467,-1210C467,-1210 321,-1210 321,-1210 315,-1210 309,-1204 309,-1198 309,-1198 309,-1186 309,-1186 309,-1180 315,-1174 321,-1174 321,-1174 467,-1174 467,-1174 473,-1174 479,-1180 479,-1186 479,-1186 479,-1198 479,-1198 479,-1204 473,-1210 467,-1210"/>
<text text-anchor="middle" x="394" y="-1188.3" font-family="Arial" font-size="14.00">开始: zirForLen 函数入口</text>
</g>
<!-- init_vars -->
<g id="node2" class="node">
<title>init_vars</title>
<path fill="none" stroke="black" d="M495.5,-1137C495.5,-1137 292.5,-1137 292.5,-1137 286.5,-1137 280.5,-1131 280.5,-1125 280.5,-1125 280.5,-1111 280.5,-1111 280.5,-1105 286.5,-1099 292.5,-1099 292.5,-1099 495.5,-1099 495.5,-1099 501.5,-1099 507.5,-1105 507.5,-1111 507.5,-1111 507.5,-1125 507.5,-1125 507.5,-1131 501.5,-1137 495.5,-1137"/>
<text text-anchor="middle" x="394" y="-1121.8" font-family="Arial" font-size="14.00">初始化变量</text>
<text text-anchor="middle" x="394" y="-1106.8" font-family="Arial" font-size="14.00">(len, len_val, len_idx, any_runtime)</text>
</g>
<!-- start&#45;&gt;init_vars -->
<g id="edge1" class="edge">
<title>start&#45;&gt;init_vars</title>
<path fill="none" stroke="black" d="M394,-1173.94C394,-1165.99 394,-1156.31 394,-1147.31"/>
<polygon fill="black" stroke="black" points="397.5,-1147.2 394,-1137.2 390.5,-1147.2 397.5,-1147.2"/>
</g>
<!-- process_args -->
<g id="node3" class="node">
<title>process_args</title>
<path fill="none" stroke="black" d="M460.5,-1062C460.5,-1062 327.5,-1062 327.5,-1062 321.5,-1062 315.5,-1056 315.5,-1050 315.5,-1050 315.5,-1038 315.5,-1038 315.5,-1032 321.5,-1026 327.5,-1026 327.5,-1026 460.5,-1026 460.5,-1026 466.5,-1026 472.5,-1032 472.5,-1038 472.5,-1038 472.5,-1050 472.5,-1050 472.5,-1056 466.5,-1062 460.5,-1062"/>
<text text-anchor="middle" x="394" y="-1040.3" font-family="Arial" font-size="14.00">遍历参数对 (arg_pairs)</text>
</g>
<!-- init_vars&#45;&gt;process_args -->
<g id="edge2" class="edge">
<title>init_vars&#45;&gt;process_args</title>
<path fill="none" stroke="black" d="M394,-1098.83C394,-1090.89 394,-1081.41 394,-1072.63"/>
<polygon fill="black" stroke="black" points="397.5,-1072.42 394,-1062.42 390.5,-1072.42 397.5,-1072.42"/>
</g>
<!-- check_arg_pair -->
<g id="node4" class="node">
<title>check_arg_pair</title>
<path fill="none" stroke="black" d="M402,-989C402,-989 292,-989 292,-989 286,-989 280,-983 280,-977 280,-977 280,-965 280,-965 280,-959 286,-953 292,-953 292,-953 402,-953 402,-953 408,-953 414,-959 414,-965 414,-965 414,-977 414,-977 414,-983 408,-989 402,-989"/>
<text text-anchor="middle" x="347" y="-967.3" font-family="Arial" font-size="14.00">参数对[0]是 .none?</text>
</g>
<!-- process_args&#45;&gt;check_arg_pair -->
<g id="edge3" class="edge">
<title>process_args&#45;&gt;check_arg_pair</title>
<path fill="none" stroke="black" d="M382.62,-1025.81C377.02,-1017.35 370.16,-1006.98 363.95,-997.61"/>
<polygon fill="black" stroke="black" points="366.71,-995.44 358.27,-989.03 360.87,-999.3 366.71,-995.44"/>
</g>
<!-- handle_indexable -->
<g id="node5" class="node">
<title>handle_indexable</title>
<path fill="none" stroke="black" d="M330.5,-902C330.5,-902 209.5,-902 209.5,-902 203.5,-902 197.5,-896 197.5,-890 197.5,-890 197.5,-876 197.5,-876 197.5,-870 203.5,-864 209.5,-864 209.5,-864 330.5,-864 330.5,-864 336.5,-864 342.5,-870 342.5,-876 342.5,-876 342.5,-890 342.5,-890 342.5,-896 336.5,-902 330.5,-902"/>
<text text-anchor="middle" x="270" y="-886.8" font-family="Arial" font-size="14.00">处理索引对象</text>
<text text-anchor="middle" x="270" y="-871.8" font-family="Arial" font-size="14.00">检查类型是否可索引</text>
</g>
<!-- check_arg_pair&#45;&gt;handle_indexable -->
<g id="edge4" class="edge">
<title>check_arg_pair&#45;&gt;handle_indexable</title>
<path fill="none" stroke="black" d="M331.42,-952.6C320.47,-940.37 305.64,-923.8 293.29,-910.01"/>
<polygon fill="black" stroke="black" points="295.63,-907.38 286.36,-902.27 290.42,-912.05 295.63,-907.38"/>
<text text-anchor="middle" x="323.5" y="-923.8" font-family="Arial" font-size="14.00">否</text>
</g>
<!-- loop_end -->
<g id="node13" class="node">
<title>loop_end</title>
<path fill="none" stroke="black" d="M313.5,-395C313.5,-395 256.5,-395 256.5,-395 250.5,-395 244.5,-389 244.5,-383 244.5,-383 244.5,-371 244.5,-371 244.5,-365 250.5,-359 256.5,-359 256.5,-359 313.5,-359 313.5,-359 319.5,-359 325.5,-365 325.5,-371 325.5,-371 325.5,-383 325.5,-383 325.5,-389 319.5,-395 313.5,-395"/>
<text text-anchor="middle" x="285" y="-373.3" font-family="Arial" font-size="14.00">循环结束?</text>
</g>
<!-- check_arg_pair&#45;&gt;loop_end -->
<g id="edge5" class="edge">
<title>check_arg_pair&#45;&gt;loop_end</title>
<path fill="none" stroke="black" d="M363.86,-952.84C378.04,-936.54 396,-910.64 396,-884 396,-884 396,-884 396,-450 396,-418.84 364.83,-400.48 335.52,-390.11"/>
<polygon fill="black" stroke="black" points="336.29,-386.68 325.7,-386.9 334.11,-393.34 336.29,-386.68"/>
<text text-anchor="middle" x="403.5" y="-663.3" font-family="Arial" font-size="14.00">是</text>
</g>
<!-- type_indexable -->
<g id="node6" class="node">
<title>type_indexable</title>
<path fill="none" stroke="black" d="M296.5,-827C296.5,-827 225.5,-827 225.5,-827 219.5,-827 213.5,-821 213.5,-815 213.5,-815 213.5,-803 213.5,-803 213.5,-797 219.5,-791 225.5,-791 225.5,-791 296.5,-791 296.5,-791 302.5,-791 308.5,-797 308.5,-803 308.5,-803 308.5,-815 308.5,-815 308.5,-821 302.5,-827 296.5,-827"/>
<text text-anchor="middle" x="261" y="-805.3" font-family="Arial" font-size="14.00">类型可索引?</text>
</g>
<!-- handle_indexable&#45;&gt;type_indexable -->
<g id="edge6" class="edge">
<title>handle_indexable&#45;&gt;type_indexable</title>
<path fill="none" stroke="black" d="M267.73,-863.83C266.74,-855.89 265.55,-846.41 264.45,-837.63"/>
<polygon fill="black" stroke="black" points="267.89,-836.91 263.18,-827.42 260.94,-837.77 267.89,-836.91"/>
</g>
<!-- error_non_indexable -->
<g id="node7" class="node">
<title>error_non_indexable</title>
<path fill="none" stroke="black" d="M126,-686C126,-686 42,-686 42,-686 36,-686 30,-680 30,-674 30,-674 30,-660 30,-660 30,-654 36,-648 42,-648 42,-648 126,-648 126,-648 132,-648 138,-654 138,-660 138,-660 138,-674 138,-674 138,-680 132,-686 126,-686"/>
<text text-anchor="middle" x="84" y="-670.8" font-family="Arial" font-size="14.00">生成错误</text>
<text text-anchor="middle" x="84" y="-655.8" font-family="Arial" font-size="14.00">&#39;类型不可索引&#39;</text>
</g>
<!-- type_indexable&#45;&gt;error_non_indexable -->
<g id="edge7" class="edge">
<title>type_indexable&#45;&gt;error_non_indexable</title>
<path fill="none" stroke="black" d="M235.5,-790.77C216.08,-777.4 188.88,-758.16 166,-740 147.17,-725.06 126.86,-707.24 111.17,-693.07"/>
<polygon fill="black" stroke="black" points="113.17,-690.16 103.41,-686.02 108.46,-695.34 113.17,-690.16"/>
<text text-anchor="middle" x="217.5" y="-761.8" font-family="Arial" font-size="14.00">否</text>
</g>
<!-- get_length -->
<g id="node8" class="node">
<title>get_length</title>
<path fill="none" stroke="black" d="M334.5,-740C334.5,-740 187.5,-740 187.5,-740 181.5,-740 175.5,-734 175.5,-728 175.5,-728 175.5,-716 175.5,-716 175.5,-710 181.5,-704 187.5,-704 187.5,-704 334.5,-704 334.5,-704 340.5,-704 346.5,-710 346.5,-716 346.5,-716 346.5,-728 346.5,-728 346.5,-734 340.5,-740 334.5,-740"/>
<text text-anchor="middle" x="261" y="-718.3" font-family="Arial" font-size="14.00">获取长度 (len/range计算)</text>
</g>
<!-- type_indexable&#45;&gt;get_length -->
<g id="edge8" class="edge">
<title>type_indexable&#45;&gt;get_length</title>
<path fill="none" stroke="black" d="M261,-790.8C261,-779.16 261,-763.55 261,-750.24"/>
<polygon fill="black" stroke="black" points="264.5,-750.18 261,-740.18 257.5,-750.18 264.5,-750.18"/>
<text text-anchor="middle" x="268.5" y="-761.8" font-family="Arial" font-size="14.00">是</text>
</g>
<!-- error_exit -->
<g id="node18" class="node">
<title>error_exit</title>
<path fill="none" stroke="black" d="M171,-109C171,-109 93,-109 93,-109 87,-109 81,-103 81,-97 81,-97 81,-85 81,-85 81,-79 87,-73 93,-73 93,-73 171,-73 171,-73 177,-73 183,-79 183,-85 183,-85 183,-97 183,-97 183,-103 177,-109 171,-109"/>
<text text-anchor="middle" x="132" y="-87.3" font-family="Arial" font-size="14.00">错误处理出口</text>
</g>
<!-- error_non_indexable&#45;&gt;error_exit -->
<g id="edge19" class="edge">
<title>error_non_indexable&#45;&gt;error_exit</title>
<path fill="none" stroke="black" d="M50.8,-647.71C27.32,-632.09 0,-607.2 0,-576 0,-576 0,-576 0,-201 0,-159.67 38.96,-131.07 74.54,-113.58"/>
<polygon fill="black" stroke="black" points="76.41,-116.57 83.97,-109.15 73.43,-110.23 76.41,-116.57"/>
</g>
<!-- coerce_length -->
<g id="node9" class="node">
<title>coerce_length</title>
<path fill="none" stroke="black" d="M324.5,-630C324.5,-630 197.5,-630 197.5,-630 191.5,-630 185.5,-624 185.5,-618 185.5,-618 185.5,-606 185.5,-606 185.5,-600 191.5,-594 197.5,-594 197.5,-594 324.5,-594 324.5,-594 330.5,-594 336.5,-600 336.5,-606 336.5,-606 336.5,-618 336.5,-618 336.5,-624 330.5,-630 324.5,-630"/>
<text text-anchor="middle" x="261" y="-608.3" font-family="Arial" font-size="14.00">强制转换长度为 usize</text>
</g>
<!-- get_length&#45;&gt;coerce_length -->
<g id="edge9" class="edge">
<title>get_length&#45;&gt;coerce_length</title>
<path fill="none" stroke="black" d="M261,-703.65C261,-686.56 261,-660.22 261,-640.32"/>
<polygon fill="black" stroke="black" points="264.5,-640.31 261,-630.31 257.5,-640.31 264.5,-640.31"/>
</g>
<!-- check_compile_time -->
<g id="node10" class="node">
<title>check_compile_time</title>
<path fill="none" stroke="black" d="M332.5,-557C332.5,-557 189.5,-557 189.5,-557 183.5,-557 177.5,-551 177.5,-545 177.5,-545 177.5,-533 177.5,-533 177.5,-527 183.5,-521 189.5,-521 189.5,-521 332.5,-521 332.5,-521 338.5,-521 344.5,-527 344.5,-533 344.5,-533 344.5,-545 344.5,-545 344.5,-551 338.5,-557 332.5,-557"/>
<text text-anchor="middle" x="261" y="-535.3" font-family="Arial" font-size="14.00">能否在编译时确定长度?</text>
</g>
<!-- coerce_length&#45;&gt;check_compile_time -->
<g id="edge10" class="edge">
<title>coerce_length&#45;&gt;check_compile_time</title>
<path fill="none" stroke="black" d="M261,-593.81C261,-585.79 261,-576.05 261,-567.07"/>
<polygon fill="black" stroke="black" points="264.5,-567.03 261,-557.03 257.5,-567.03 264.5,-567.03"/>
</g>
<!-- update_len -->
<g id="node11" class="node">
<title>update_len</title>
<path fill="none" stroke="black" d="M171.5,-470C171.5,-470 40.5,-470 40.5,-470 34.5,-470 28.5,-464 28.5,-458 28.5,-458 28.5,-444 28.5,-444 28.5,-438 34.5,-432 40.5,-432 40.5,-432 171.5,-432 171.5,-432 177.5,-432 183.5,-438 183.5,-444 183.5,-444 183.5,-458 183.5,-458 183.5,-464 177.5,-470 171.5,-470"/>
<text text-anchor="middle" x="106" y="-454.8" font-family="Arial" font-size="14.00">更新主长度 (len)</text>
<text text-anchor="middle" x="106" y="-439.8" font-family="Arial" font-size="14.00">记录 len_val 和 len_idx</text>
</g>
<!-- check_compile_time&#45;&gt;update_len -->
<g id="edge11" class="edge">
<title>check_compile_time&#45;&gt;update_len</title>
<path fill="none" stroke="black" d="M230.01,-520.8C206.3,-507.65 173.38,-489.38 147.41,-474.98"/>
<polygon fill="black" stroke="black" points="148.99,-471.85 138.54,-470.06 145.59,-477.97 148.99,-471.85"/>
<text text-anchor="middle" x="205.5" y="-491.8" font-family="Arial" font-size="14.00">是</text>
</g>
<!-- store_runtime_len -->
<g id="node12" class="node">
<title>store_runtime_len</title>
<path fill="none" stroke="black" d="M356.5,-470C356.5,-470 213.5,-470 213.5,-470 207.5,-470 201.5,-464 201.5,-458 201.5,-458 201.5,-444 201.5,-444 201.5,-438 207.5,-432 213.5,-432 213.5,-432 356.5,-432 356.5,-432 362.5,-432 368.5,-438 368.5,-444 368.5,-444 368.5,-458 368.5,-458 368.5,-464 362.5,-470 356.5,-470"/>
<text text-anchor="middle" x="285" y="-454.8" font-family="Arial" font-size="14.00">存储到 runtime_arg_lens</text>
<text text-anchor="middle" x="285" y="-439.8" font-family="Arial" font-size="14.00">标记 any_runtime = true</text>
</g>
<!-- check_compile_time&#45;&gt;store_runtime_len -->
<g id="edge12" class="edge">
<title>check_compile_time&#45;&gt;store_runtime_len</title>
<path fill="none" stroke="black" d="M265.86,-520.6C269.11,-508.94 273.46,-493.34 277.2,-479.96"/>
<polygon fill="black" stroke="black" points="280.59,-480.84 279.9,-470.27 273.84,-478.96 280.59,-480.84"/>
<text text-anchor="middle" x="282.5" y="-491.8" font-family="Arial" font-size="14.00">否</text>
</g>
<!-- update_len&#45;&gt;loop_end -->
<g id="edge13" class="edge">
<title>update_len&#45;&gt;loop_end</title>
<path fill="none" stroke="black" d="M151.17,-431.83C176.72,-421.55 208.72,-408.68 235.02,-398.1"/>
<polygon fill="black" stroke="black" points="236.46,-401.3 244.43,-394.32 233.85,-394.8 236.46,-401.3"/>
</g>
<!-- store_runtime_len&#45;&gt;loop_end -->
<g id="edge14" class="edge">
<title>store_runtime_len&#45;&gt;loop_end</title>
<path fill="none" stroke="black" d="M285,-431.83C285,-423.89 285,-414.41 285,-405.63"/>
<polygon fill="black" stroke="black" points="288.5,-405.42 285,-395.42 281.5,-405.42 288.5,-405.42"/>
</g>
<!-- loop_end&#45;&gt;process_args -->
<g id="edge15" class="edge">
<title>loop_end&#45;&gt;process_args</title>
<path fill="none" stroke="black" d="M325.84,-379.62C372.36,-383.91 442,-398.87 442,-450 442,-972 442,-972 442,-972 442,-989.5 431.87,-1005.9 420.92,-1018.52"/>
<polygon fill="black" stroke="black" points="418.33,-1016.17 414.08,-1025.87 423.45,-1020.94 418.33,-1016.17"/>
<text text-anchor="middle" x="471" y="-718.3" font-family="Arial" font-size="14.00">继续循环</text>
</g>
<!-- check_unbounded -->
<g id="node14" class="node">
<title>check_unbounded</title>
<path fill="none" stroke="black" d="M298.5,-308C298.5,-308 141.5,-308 141.5,-308 135.5,-308 129.5,-302 129.5,-296 129.5,-296 129.5,-284 129.5,-284 129.5,-278 135.5,-272 141.5,-272 141.5,-272 298.5,-272 298.5,-272 304.5,-272 310.5,-278 310.5,-284 310.5,-284 310.5,-296 310.5,-296 310.5,-302 304.5,-308 298.5,-308"/>
<text text-anchor="middle" x="220" y="-286.3" font-family="Arial" font-size="14.00">所有参数都无法确定长度?</text>
</g>
<!-- loop_end&#45;&gt;check_unbounded -->
<g id="edge16" class="edge">
<title>loop_end&#45;&gt;check_unbounded</title>
<path fill="none" stroke="black" d="M271.85,-358.8C262.51,-346.59 249.82,-329.99 239.33,-316.28"/>
<polygon fill="black" stroke="black" points="241.99,-313.99 233.13,-308.18 236.43,-318.25 241.99,-313.99"/>
<text text-anchor="middle" x="286" y="-329.8" font-family="Arial" font-size="14.00">结束循环</text>
</g>
<!-- error_unbounded -->
<g id="node15" class="node">
<title>error_unbounded</title>
<path fill="none" stroke="black" d="M170,-221C170,-221 114,-221 114,-221 108,-221 102,-215 102,-209 102,-209 102,-195 102,-195 102,-189 108,-183 114,-183 114,-183 170,-183 170,-183 176,-183 182,-189 182,-195 182,-195 182,-209 182,-209 182,-215 176,-221 170,-221"/>
<text text-anchor="middle" x="142" y="-205.8" font-family="Arial" font-size="14.00">生成错误</text>
<text text-anchor="middle" x="142" y="-190.8" font-family="Arial" font-size="14.00">&#39;无界循环&#39;</text>
</g>
<!-- check_unbounded&#45;&gt;error_unbounded -->
<g id="edge17" class="edge">
<title>check_unbounded&#45;&gt;error_unbounded</title>
<path fill="none" stroke="black" d="M200.69,-271.67C194.85,-266.18 188.52,-259.98 183,-254 175.91,-246.32 168.62,-237.56 162.19,-229.51"/>
<polygon fill="black" stroke="black" points="164.77,-227.13 155.84,-221.44 159.27,-231.46 164.77,-227.13"/>
<text text-anchor="middle" x="190.5" y="-242.8" font-family="Arial" font-size="14.00">是</text>
</g>
<!-- runtime_checks -->
<g id="node16" class="node">
<title>runtime_checks</title>
<path fill="none" stroke="black" d="M280.5,-165C280.5,-165 159.5,-165 159.5,-165 153.5,-165 147.5,-159 147.5,-153 147.5,-153 147.5,-139 147.5,-139 147.5,-133 153.5,-127 159.5,-127 159.5,-127 280.5,-127 280.5,-127 286.5,-127 292.5,-133 292.5,-139 292.5,-139 292.5,-153 292.5,-153 292.5,-159 286.5,-165 280.5,-165"/>
<text text-anchor="middle" x="220" y="-149.8" font-family="Arial" font-size="14.00">添加运行时安全检查</text>
<text text-anchor="middle" x="220" y="-134.8" font-family="Arial" font-size="14.00">(长度一致性检查)</text>
</g>
<!-- check_unbounded&#45;&gt;runtime_checks -->
<g id="edge18" class="edge">
<title>check_unbounded&#45;&gt;runtime_checks</title>
<path fill="none" stroke="black" d="M220,-271.87C220,-247.93 220,-204.17 220,-175.33"/>
<polygon fill="black" stroke="black" points="223.5,-175.08 220,-165.08 216.5,-175.08 223.5,-175.08"/>
<text text-anchor="middle" x="227.5" y="-242.8" font-family="Arial" font-size="14.00">否</text>
</g>
<!-- error_unbounded&#45;&gt;error_exit -->
<g id="edge20" class="edge">
<title>error_unbounded&#45;&gt;error_exit</title>
<path fill="none" stroke="black" d="M140.3,-182.51C138.71,-165.19 136.32,-139.08 134.51,-119.35"/>
<polygon fill="black" stroke="black" points="137.97,-118.78 133.57,-109.14 131,-119.42 137.97,-118.78"/>
</g>
<!-- return_len -->
<g id="node17" class="node">
<title>return_len</title>
<ellipse fill="none" stroke="black" cx="175" cy="-18" rx="79.89" ry="18"/>
<text text-anchor="middle" x="175" y="-14.3" font-family="Arial" font-size="14.00">返回最终长度 len</text>
</g>
<!-- runtime_checks&#45;&gt;return_len -->
<g id="edge21" class="edge">
<title>runtime_checks&#45;&gt;return_len</title>
<path fill="none" stroke="black" d="M213.55,-126.95C205.98,-105.75 193.35,-70.39 184.62,-45.95"/>
<polygon fill="black" stroke="black" points="187.81,-44.45 181.15,-36.21 181.21,-46.8 187.81,-44.45"/>
</g>
<!-- error_exit&#45;&gt;return_len -->
</g>
</svg>
