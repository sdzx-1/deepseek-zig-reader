graph TD
    A[开始] --> B[初始化资源和跟踪]
    B --> C{检查缓存模式}
    C --> |whole| D[释放锁并获取缓存清单]
    D --> E[添加非增量内容到清单]
    E --> F{缓存是否命中?}
    F --> |是| G[设置缓存命中标志]
    G --> H[设置二进制路径并返回]
    F --> |否| I[创建临时目录]
    I --> J[初始化输出文件路径]
    J --> K[处理C对象和Win32资源队列]
    C --> |incremental| K
    K --> L[处理Zcu模块导入和分析]
    L --> M[填充分析根节点]
    M --> N[执行所有工作任务]
    N --> O{是否有错误?}
    O --> |是| P[跳过输出清理]
    O --> |否| Q[生成其他输出文件]
    Q --> R{缓存模式}
    R --> |whole| S[重命名临时目录到缓存]
    S --> T[写入清单文件]
    T --> U[关闭并清理资源]
    R --> |incremental| V[直接输出到目标目录]
    U --> W[结束]
    V --> W
    P --> W
