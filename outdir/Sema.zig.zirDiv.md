flowchart TD
    A[开始] --> B[解析操作数和类型]
    B --> C[检查向量化操作数和无效指针算术]
    C --> D[解析左右操作数值和类型]
    D --> E[强制类型转换]
    E --> F{标量类型是整数或编译时数值?}
    F -->|是| G[检查编译时数值的余数歧义]
    G --> H{余数是否为零?}
    H -->|否| I[报错: 非零余数歧义]
    H -->|是| J[处理零值或未定义值]
    F -->|否| K[处理浮点类型]
    J --> L{左操作数是零?}
    L -->|是| M[返回零值]
    L -->|否| N{右操作数是零或未定义?}
    N -->|是| O[报错: 除以零或未定义]
    N -->|否| P{是否为整数除法?}
    P -->|是| Q[检查是否需要安全措施]
    Q --> R[添加整数溢出和除以零安全检查]
    R --> S[生成div_trunc指令]
    P -->|否| T[生成浮点除法指令]
    K --> U{右操作数是零?}
    U -->|是| V[返回NaN或Inf]
    U -->|否| W[处理未定义值]
    W --> T
    I --> X[结束]
    O --> X
    M --> X
    S --> X
    T --> X
