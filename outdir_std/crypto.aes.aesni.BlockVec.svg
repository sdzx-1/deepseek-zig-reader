<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: BlockVecFlow Pages: 1 -->
<svg width="1609pt" height="432pt"
 viewBox="0.00 0.00 1609.00 432.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 428)">
<title>BlockVecFlow</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-428 1605,-428 1605,4 -4,4"/>
<!-- BlockVec -->
<g id="node1" class="node">
<title>BlockVec</title>
<path fill="none" stroke="black" d="M620,-424C620,-424 420,-424 420,-424 414,-424 408,-418 408,-412 408,-412 408,-398 408,-398 408,-392 414,-386 420,-386 420,-386 620,-386 620,-386 626,-386 632,-392 632,-398 632,-398 632,-412 632,-412 632,-418 626,-424 620,-424"/>
<text text-anchor="middle" x="520" y="-408.8" font-family="Times,serif" font-size="14.00">BlockVec结构体</text>
<text text-anchor="middle" x="520" y="-393.8" font-family="Times,serif" font-size="14.00">(blocks_count: comptime_int)</text>
</g>
<!-- native_vector_size -->
<g id="node2" class="node">
<title>native_vector_size</title>
<path fill="none" stroke="black" d="M140,-335C140,-335 12,-335 12,-335 6,-335 0,-329 0,-323 0,-323 0,-294 0,-294 0,-288 6,-282 12,-282 12,-282 140,-282 140,-282 146,-282 152,-288 152,-294 152,-294 152,-323 152,-323 152,-329 146,-335 140,-335"/>
<text text-anchor="middle" x="76" y="-319.8" font-family="Times,serif" font-size="14.00">native_vector_size:</text>
<text text-anchor="middle" x="76" y="-304.8" font-family="Times,serif" font-size="14.00">根据CPU特性选择</text>
<text text-anchor="middle" x="76" y="-289.8" font-family="Times,serif" font-size="14.00">(4/2/1 blocks)</text>
</g>
<!-- BlockVec&#45;&gt;native_vector_size -->
<g id="edge1" class="edge">
<title>BlockVec&#45;&gt;native_vector_size</title>
<path fill="none" stroke="black" d="M410.58,-385.94C341.72,-373.88 250.9,-356.68 162.31,-335.24"/>
<polygon fill="black" stroke="black" points="162.9,-331.78 152.36,-332.81 161.24,-338.58 162.9,-331.78"/>
</g>
<!-- native_word_size -->
<g id="node3" class="node">
<title>native_word_size</title>
<path fill="none" stroke="black" d="M355.5,-335C355.5,-335 182.5,-335 182.5,-335 176.5,-335 170.5,-329 170.5,-323 170.5,-323 170.5,-294 170.5,-294 170.5,-288 176.5,-282 182.5,-282 182.5,-282 355.5,-282 355.5,-282 361.5,-282 367.5,-288 367.5,-294 367.5,-294 367.5,-323 367.5,-323 367.5,-329 361.5,-335 355.5,-335"/>
<text text-anchor="middle" x="269" y="-319.8" font-family="Times,serif" font-size="14.00">native_word_size:</text>
<text text-anchor="middle" x="269" y="-304.8" font-family="Times,serif" font-size="14.00">向量字节大小</text>
<text text-anchor="middle" x="269" y="-289.8" font-family="Times,serif" font-size="14.00">= native_vector_size * 16</text>
</g>
<!-- BlockVec&#45;&gt;native_word_size -->
<g id="edge2" class="edge">
<title>BlockVec&#45;&gt;native_word_size</title>
<path fill="none" stroke="black" d="M471.9,-385.89C436.38,-372.52 387.28,-354.03 346.28,-338.59"/>
<polygon fill="black" stroke="black" points="347.45,-335.29 336.85,-335.05 344.98,-341.85 347.45,-335.29"/>
</g>
<!-- native_words -->
<g id="node4" class="node">
<title>native_words</title>
<path fill="none" stroke="black" d="M642.5,-327.5C642.5,-327.5 397.5,-327.5 397.5,-327.5 391.5,-327.5 385.5,-321.5 385.5,-315.5 385.5,-315.5 385.5,-301.5 385.5,-301.5 385.5,-295.5 391.5,-289.5 397.5,-289.5 397.5,-289.5 642.5,-289.5 642.5,-289.5 648.5,-289.5 654.5,-295.5 654.5,-301.5 654.5,-301.5 654.5,-315.5 654.5,-315.5 654.5,-321.5 648.5,-327.5 642.5,-327.5"/>
<text text-anchor="middle" x="520" y="-312.3" font-family="Times,serif" font-size="14.00">native_words:</text>
<text text-anchor="middle" x="520" y="-297.3" font-family="Times,serif" font-size="14.00">= blocks_count / native_vector_size</text>
</g>
<!-- BlockVec&#45;&gt;native_words -->
<g id="edge3" class="edge">
<title>BlockVec&#45;&gt;native_words</title>
<path fill="none" stroke="black" d="M520,-385.78C520,-372.18 520,-353.35 520,-337.8"/>
<polygon fill="black" stroke="black" points="523.5,-337.66 520,-327.66 516.5,-337.66 523.5,-337.66"/>
</g>
<!-- Repr -->
<g id="node5" class="node">
<title>Repr</title>
<path fill="none" stroke="black" d="M929.5,-327.5C929.5,-327.5 684.5,-327.5 684.5,-327.5 678.5,-327.5 672.5,-321.5 672.5,-315.5 672.5,-315.5 672.5,-301.5 672.5,-301.5 672.5,-295.5 678.5,-289.5 684.5,-289.5 684.5,-289.5 929.5,-289.5 929.5,-289.5 935.5,-289.5 941.5,-295.5 941.5,-301.5 941.5,-301.5 941.5,-315.5 941.5,-315.5 941.5,-321.5 935.5,-327.5 929.5,-327.5"/>
<text text-anchor="middle" x="807" y="-312.3" font-family="Times,serif" font-size="14.00">内部表示类型</text>
<text text-anchor="middle" x="807" y="-297.3" font-family="Times,serif" font-size="14.00">@Vector(native_vector_size*2, u64)</text>
</g>
<!-- BlockVec&#45;&gt;Repr -->
<g id="edge4" class="edge">
<title>BlockVec&#45;&gt;Repr</title>
<path fill="none" stroke="black" d="M575,-385.89C622.86,-370.13 692.27,-347.28 742.69,-330.68"/>
<polygon fill="black" stroke="black" points="743.79,-334 752.19,-327.55 741.6,-327.35 743.79,-334"/>
</g>
<!-- block_length -->
<g id="node6" class="node">
<title>block_length</title>
<path fill="none" stroke="black" d="M1106,-327.5C1106,-327.5 972,-327.5 972,-327.5 966,-327.5 960,-321.5 960,-315.5 960,-315.5 960,-301.5 960,-301.5 960,-295.5 966,-289.5 972,-289.5 972,-289.5 1106,-289.5 1106,-289.5 1112,-289.5 1118,-295.5 1118,-301.5 1118,-301.5 1118,-315.5 1118,-315.5 1118,-321.5 1112,-327.5 1106,-327.5"/>
<text text-anchor="middle" x="1039" y="-312.3" font-family="Times,serif" font-size="14.00">block_length:</text>
<text text-anchor="middle" x="1039" y="-297.3" font-family="Times,serif" font-size="14.00">= blocks_count * 16</text>
</g>
<!-- BlockVec&#45;&gt;block_length -->
<g id="edge5" class="edge">
<title>BlockVec&#45;&gt;block_length</title>
<path fill="none" stroke="black" d="M632.06,-389.77C719.25,-377.8 842.99,-358.83 950,-335 956.54,-333.54 963.3,-331.89 970.05,-330.13"/>
<polygon fill="black" stroke="black" points="971.13,-333.47 979.89,-327.51 969.33,-326.7 971.13,-333.47"/>
</g>
<!-- fromBytes -->
<g id="node7" class="node">
<title>fromBytes</title>
<path fill="none" stroke="black" d="M1238.5,-424C1238.5,-424 1119.5,-424 1119.5,-424 1113.5,-424 1107.5,-418 1107.5,-412 1107.5,-412 1107.5,-398 1107.5,-398 1107.5,-392 1113.5,-386 1119.5,-386 1119.5,-386 1238.5,-386 1238.5,-386 1244.5,-386 1250.5,-392 1250.5,-398 1250.5,-398 1250.5,-412 1250.5,-412 1250.5,-418 1244.5,-424 1238.5,-424"/>
<text text-anchor="middle" x="1179" y="-408.8" font-family="Times,serif" font-size="14.00">fromBytes()</text>
<text text-anchor="middle" x="1179" y="-393.8" font-family="Times,serif" font-size="14.00">字节序列→内部表示</text>
</g>
<!-- toBytes -->
<g id="node8" class="node">
<title>toBytes</title>
<path fill="none" stroke="black" d="M1303.5,-127C1303.5,-127 1184.5,-127 1184.5,-127 1178.5,-127 1172.5,-121 1172.5,-115 1172.5,-115 1172.5,-101 1172.5,-101 1172.5,-95 1178.5,-89 1184.5,-89 1184.5,-89 1303.5,-89 1303.5,-89 1309.5,-89 1315.5,-95 1315.5,-101 1315.5,-101 1315.5,-115 1315.5,-115 1315.5,-121 1309.5,-127 1303.5,-127"/>
<text text-anchor="middle" x="1244" y="-111.8" font-family="Times,serif" font-size="14.00">toBytes()</text>
<text text-anchor="middle" x="1244" y="-96.8" font-family="Times,serif" font-size="14.00">内部表示→字节序列</text>
</g>
<!-- fromBytes&#45;&gt;toBytes -->
<g id="edge6" class="edge">
<title>fromBytes&#45;&gt;toBytes</title>
<path fill="none" stroke="black" d="M1172.41,-385.97C1159.05,-346.28 1132.64,-249.22 1165,-178 1173.26,-159.81 1188.95,-144.55 1204.18,-133.03"/>
<polygon fill="black" stroke="black" points="1206.46,-135.7 1212.54,-127.03 1202.38,-130.02 1206.46,-135.7"/>
<text text-anchor="middle" x="1164.5" y="-252.8" font-family="Times,serif" font-size="14.00">转换</text>
</g>
<!-- encrypt -->
<g id="node10" class="node">
<title>encrypt</title>
<path fill="none" stroke="black" d="M1448,-335C1448,-335 1354,-335 1354,-335 1348,-335 1342,-329 1342,-323 1342,-323 1342,-294 1342,-294 1342,-288 1348,-282 1354,-282 1354,-282 1448,-282 1448,-282 1454,-282 1460,-288 1460,-294 1460,-294 1460,-323 1460,-323 1460,-329 1454,-335 1448,-335"/>
<text text-anchor="middle" x="1401" y="-319.8" font-family="Times,serif" font-size="14.00">encrypt()</text>
<text text-anchor="middle" x="1401" y="-304.8" font-family="Times,serif" font-size="14.00">AES加密轮操作</text>
<text text-anchor="middle" x="1401" y="-289.8" font-family="Times,serif" font-size="14.00">(vaesenc指令)</text>
</g>
<!-- fromBytes&#45;&gt;encrypt -->
<g id="edge8" class="edge">
<title>fromBytes&#45;&gt;encrypt</title>
<path fill="none" stroke="black" d="M1210.38,-385.82C1219.43,-380.31 1229.23,-374.1 1238,-368 1246.83,-361.85 1247.46,-357.98 1257,-353 1260.72,-351.06 1296.94,-340.12 1332.13,-329.7"/>
<polygon fill="black" stroke="black" points="1333.4,-332.97 1342,-326.78 1331.41,-326.26 1333.4,-332.97"/>
<text text-anchor="middle" x="1286" y="-356.8" font-family="Times,serif" font-size="14.00">加密流程</text>
</g>
<!-- decrypt -->
<g id="node12" class="node">
<title>decrypt</title>
<path fill="none" stroke="black" d="M1291,-335C1291,-335 1197,-335 1197,-335 1191,-335 1185,-329 1185,-323 1185,-323 1185,-294 1185,-294 1185,-288 1191,-282 1197,-282 1197,-282 1291,-282 1291,-282 1297,-282 1303,-288 1303,-294 1303,-294 1303,-323 1303,-323 1303,-329 1297,-335 1291,-335"/>
<text text-anchor="middle" x="1244" y="-319.8" font-family="Times,serif" font-size="14.00">decrypt()</text>
<text text-anchor="middle" x="1244" y="-304.8" font-family="Times,serif" font-size="14.00">AES解密轮操作</text>
<text text-anchor="middle" x="1244" y="-289.8" font-family="Times,serif" font-size="14.00">(vaesdec指令)</text>
</g>
<!-- fromBytes&#45;&gt;decrypt -->
<g id="edge11" class="edge">
<title>fromBytes&#45;&gt;decrypt</title>
<path fill="none" stroke="black" d="M1175.45,-385.97C1174.35,-375.72 1174.6,-362.97 1180,-353 1182.09,-349.15 1184.68,-345.57 1187.62,-342.26"/>
<polygon fill="black" stroke="black" points="1190.33,-344.51 1195.03,-335.02 1185.43,-339.51 1190.33,-344.51"/>
<text text-anchor="middle" x="1209" y="-356.8" font-family="Times,serif" font-size="14.00">解密流程</text>
</g>
<!-- xorBytes -->
<g id="node9" class="node">
<title>xorBytes</title>
<path fill="none" stroke="black" d="M1290,-38C1290,-38 1198,-38 1198,-38 1192,-38 1186,-32 1186,-26 1186,-26 1186,-12 1186,-12 1186,-6 1192,0 1198,0 1198,0 1290,0 1290,0 1296,0 1302,-6 1302,-12 1302,-12 1302,-26 1302,-26 1302,-32 1296,-38 1290,-38"/>
<text text-anchor="middle" x="1244" y="-22.8" font-family="Times,serif" font-size="14.00">xorBytes()</text>
<text text-anchor="middle" x="1244" y="-7.8" font-family="Times,serif" font-size="14.00">与字节序列异或</text>
</g>
<!-- toBytes&#45;&gt;xorBytes -->
<g id="edge7" class="edge">
<title>toBytes&#45;&gt;xorBytes</title>
<path fill="none" stroke="black" d="M1244,-88.97C1244,-77.19 1244,-61.56 1244,-48.16"/>
<polygon fill="black" stroke="black" points="1247.5,-48 1244,-38 1240.5,-48 1247.5,-48"/>
<text text-anchor="middle" x="1273" y="-59.8" font-family="Times,serif" font-size="14.00">输入处理</text>
</g>
<!-- encryptLast -->
<g id="node11" class="node">
<title>encryptLast</title>
<path fill="none" stroke="black" d="M1458.5,-231C1458.5,-231 1343.5,-231 1343.5,-231 1337.5,-231 1331.5,-225 1331.5,-219 1331.5,-219 1331.5,-190 1331.5,-190 1331.5,-184 1337.5,-178 1343.5,-178 1343.5,-178 1458.5,-178 1458.5,-178 1464.5,-178 1470.5,-184 1470.5,-190 1470.5,-190 1470.5,-219 1470.5,-219 1470.5,-225 1464.5,-231 1458.5,-231"/>
<text text-anchor="middle" x="1401" y="-215.8" font-family="Times,serif" font-size="14.00">encryptLast()</text>
<text text-anchor="middle" x="1401" y="-200.8" font-family="Times,serif" font-size="14.00">最终AES加密</text>
<text text-anchor="middle" x="1401" y="-185.8" font-family="Times,serif" font-size="14.00">(vaesenclast指令)</text>
</g>
<!-- encrypt&#45;&gt;encryptLast -->
<g id="edge9" class="edge">
<title>encrypt&#45;&gt;encryptLast</title>
<path fill="none" stroke="black" d="M1401,-281.76C1401,-269.56 1401,-254.78 1401,-241.49"/>
<polygon fill="black" stroke="black" points="1404.5,-241.23 1401,-231.23 1397.5,-241.23 1404.5,-241.23"/>
<text text-anchor="middle" x="1430" y="-252.8" font-family="Times,serif" font-size="14.00">多轮加密</text>
</g>
<!-- encryptLast&#45;&gt;toBytes -->
<g id="edge10" class="edge">
<title>encryptLast&#45;&gt;toBytes</title>
<path fill="none" stroke="black" d="M1359.99,-177.93C1343.3,-167.6 1323.79,-155.64 1306,-145 1299.09,-140.87 1291.71,-136.52 1284.55,-132.34"/>
<polygon fill="black" stroke="black" points="1286.04,-129.16 1275.63,-127.16 1282.52,-135.21 1286.04,-129.16"/>
<text text-anchor="middle" x="1359" y="-148.8" font-family="Times,serif" font-size="14.00">输出密文</text>
</g>
<!-- decryptLast -->
<g id="node13" class="node">
<title>decryptLast</title>
<path fill="none" stroke="black" d="M1301.5,-231C1301.5,-231 1186.5,-231 1186.5,-231 1180.5,-231 1174.5,-225 1174.5,-219 1174.5,-219 1174.5,-190 1174.5,-190 1174.5,-184 1180.5,-178 1186.5,-178 1186.5,-178 1301.5,-178 1301.5,-178 1307.5,-178 1313.5,-184 1313.5,-190 1313.5,-190 1313.5,-219 1313.5,-219 1313.5,-225 1307.5,-231 1301.5,-231"/>
<text text-anchor="middle" x="1244" y="-215.8" font-family="Times,serif" font-size="14.00">decryptLast()</text>
<text text-anchor="middle" x="1244" y="-200.8" font-family="Times,serif" font-size="14.00">最终AES解密</text>
<text text-anchor="middle" x="1244" y="-185.8" font-family="Times,serif" font-size="14.00">(vaesdeclast指令)</text>
</g>
<!-- decrypt&#45;&gt;decryptLast -->
<g id="edge12" class="edge">
<title>decrypt&#45;&gt;decryptLast</title>
<path fill="none" stroke="black" d="M1244,-281.76C1244,-269.56 1244,-254.78 1244,-241.49"/>
<polygon fill="black" stroke="black" points="1247.5,-241.23 1244,-231.23 1240.5,-241.23 1247.5,-241.23"/>
<text text-anchor="middle" x="1273" y="-252.8" font-family="Times,serif" font-size="14.00">多轮解密</text>
</g>
<!-- decryptLast&#45;&gt;toBytes -->
<g id="edge13" class="edge">
<title>decryptLast&#45;&gt;toBytes</title>
<path fill="none" stroke="black" d="M1244,-177.68C1244,-165.13 1244,-150.01 1244,-137.17"/>
<polygon fill="black" stroke="black" points="1247.5,-137.01 1244,-127.01 1240.5,-137.01 1247.5,-137.01"/>
<text text-anchor="middle" x="1273" y="-148.8" font-family="Times,serif" font-size="14.00">输出明文</text>
</g>
<!-- xorBlocks -->
<g id="node14" class="node">
<title>xorBlocks</title>
<path fill="none" stroke="black" d="M1412.5,-424C1412.5,-424 1339.5,-424 1339.5,-424 1333.5,-424 1327.5,-418 1327.5,-412 1327.5,-412 1327.5,-398 1327.5,-398 1327.5,-392 1333.5,-386 1339.5,-386 1339.5,-386 1412.5,-386 1412.5,-386 1418.5,-386 1424.5,-392 1424.5,-398 1424.5,-398 1424.5,-412 1424.5,-412 1424.5,-418 1418.5,-424 1412.5,-424"/>
<text text-anchor="middle" x="1376" y="-408.8" font-family="Times,serif" font-size="14.00">xorBlocks()</text>
<text text-anchor="middle" x="1376" y="-393.8" font-family="Times,serif" font-size="14.00">块向量异或</text>
</g>
<!-- xorBlocks&#45;&gt;encrypt -->
<g id="edge14" class="edge">
<title>xorBlocks&#45;&gt;encrypt</title>
<path fill="none" stroke="black" d="M1390.9,-385.99C1394.58,-380.54 1398.03,-374.31 1400,-368 1402.25,-360.8 1403.27,-352.86 1403.6,-345.2"/>
<polygon fill="black" stroke="black" points="1407.1,-345.07 1403.66,-335.05 1400.1,-345.03 1407.1,-345.07"/>
<text text-anchor="middle" x="1432" y="-356.8" font-family="Times,serif" font-size="14.00">混合操作</text>
</g>
<!-- xorBlocks&#45;&gt;decrypt -->
<g id="edge15" class="edge">
<title>xorBlocks&#45;&gt;decrypt</title>
<path fill="none" stroke="black" d="M1357.82,-385.99C1347.01,-375.73 1332.76,-362.98 1319,-353 1313.14,-348.75 1306.83,-344.55 1300.45,-340.55"/>
<polygon fill="black" stroke="black" points="1302.09,-337.46 1291.74,-335.22 1298.44,-343.43 1302.09,-337.46"/>
<text text-anchor="middle" x="1367" y="-356.8" font-family="Times,serif" font-size="14.00">混合操作</text>
</g>
<!-- andBlocks -->
<g id="node15" class="node">
<title>andBlocks</title>
<path fill="none" stroke="black" d="M1568,-424C1568,-424 1490,-424 1490,-424 1484,-424 1478,-418 1478,-412 1478,-412 1478,-398 1478,-398 1478,-392 1484,-386 1490,-386 1490,-386 1568,-386 1568,-386 1574,-386 1580,-392 1580,-398 1580,-398 1580,-412 1580,-412 1580,-418 1574,-424 1568,-424"/>
<text text-anchor="middle" x="1529" y="-408.8" font-family="Times,serif" font-size="14.00">andBlocks()</text>
<text text-anchor="middle" x="1529" y="-393.8" font-family="Times,serif" font-size="14.00">块向量与操作</text>
</g>
<!-- orBlocks -->
<g id="node16" class="node">
<title>orBlocks</title>
<path fill="none" stroke="black" d="M1568,-327.5C1568,-327.5 1490,-327.5 1490,-327.5 1484,-327.5 1478,-321.5 1478,-315.5 1478,-315.5 1478,-301.5 1478,-301.5 1478,-295.5 1484,-289.5 1490,-289.5 1490,-289.5 1568,-289.5 1568,-289.5 1574,-289.5 1580,-295.5 1580,-301.5 1580,-301.5 1580,-315.5 1580,-315.5 1580,-321.5 1574,-327.5 1568,-327.5"/>
<text text-anchor="middle" x="1529" y="-312.3" font-family="Times,serif" font-size="14.00">orBlocks()</text>
<text text-anchor="middle" x="1529" y="-297.3" font-family="Times,serif" font-size="14.00">块向量或操作</text>
</g>
<!-- andBlocks&#45;&gt;orBlocks -->
<g id="edge16" class="edge">
<title>andBlocks&#45;&gt;orBlocks</title>
<path fill="none" stroke="black" d="M1529,-385.78C1529,-372.18 1529,-353.35 1529,-337.8"/>
<polygon fill="black" stroke="black" points="1532.5,-337.66 1529,-327.66 1525.5,-337.66 1532.5,-337.66"/>
<text text-anchor="middle" x="1565" y="-356.8" font-family="Times,serif" font-size="14.00">位操作组合</text>
</g>
</g>
</svg>
