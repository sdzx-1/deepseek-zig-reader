<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart_expr Pages: 1 -->
<svg width="1572pt" height="570pt"
 viewBox="0.00 0.00 1572.00 570.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 566)">
<title>flowchart_expr</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-566 1568,-566 1568,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_recursion</title>
<polygon fill="none" stroke="black" stroke-dasharray="5,2" points="8,-8 8,-249 178,-249 178,-8 8,-8"/>
<text text-anchor="middle" x="93" y="-233.8" font-family="Times,serif" font-size="14.00">递归调用处理子节点</text>
</g>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<path fill="none" stroke="black" d="M807,-562C807,-562 637,-562 637,-562 631,-562 625,-556 625,-550 625,-550 625,-538 625,-538 625,-532 631,-526 637,-526 637,-526 807,-526 807,-526 813,-526 819,-532 819,-538 819,-538 819,-550 819,-550 819,-556 813,-562 807,-562"/>
<text text-anchor="middle" x="722" y="-540.3" font-family="Arial" font-size="14.00">Start expr(gz, scope, ri, node)</text>
</g>
<!-- init -->
<g id="node2" class="node">
<title>init</title>
<path fill="none" stroke="black" d="M779.5,-489C779.5,-489 664.5,-489 664.5,-489 658.5,-489 652.5,-483 652.5,-477 652.5,-477 652.5,-448 652.5,-448 652.5,-442 658.5,-436 664.5,-436 664.5,-436 779.5,-436 779.5,-436 785.5,-436 791.5,-442 791.5,-448 791.5,-448 791.5,-477 791.5,-477 791.5,-483 785.5,-489 779.5,-489"/>
<text text-anchor="middle" x="722" y="-473.8" font-family="Arial" font-size="14.00">初始化:</text>
<text text-anchor="middle" x="722" y="-458.8" font-family="Arial" font-size="14.00">&#45; 获取astgen和tree</text>
<text text-anchor="middle" x="722" y="-443.8" font-family="Arial" font-size="14.00">&#45; 设置匿名名称策略</text>
</g>
<!-- start&#45;&gt;init -->
<g id="edge1" class="edge">
<title>start&#45;&gt;init</title>
<path fill="none" stroke="black" d="M722,-525.75C722,-517.99 722,-508.51 722,-499.32"/>
<polygon fill="black" stroke="black" points="725.5,-499.18 722,-489.18 718.5,-499.18 725.5,-499.18"/>
</g>
<!-- check_node_uses_anon -->
<g id="node3" class="node">
<title>check_node_uses_anon</title>
<path fill="none" stroke="black" d="M804.5,-399C804.5,-399 639.5,-399 639.5,-399 633.5,-399 627.5,-393 627.5,-387 627.5,-387 627.5,-375 627.5,-375 627.5,-369 633.5,-363 639.5,-363 639.5,-363 804.5,-363 804.5,-363 810.5,-363 816.5,-369 816.5,-375 816.5,-375 816.5,-387 816.5,-387 816.5,-393 810.5,-399 804.5,-399"/>
<text text-anchor="middle" x="722" y="-377.3" font-family="Arial" font-size="14.00">检查node是否需要匿名策略</text>
</g>
<!-- init&#45;&gt;check_node_uses_anon -->
<g id="edge2" class="edge">
<title>init&#45;&gt;check_node_uses_anon</title>
<path fill="none" stroke="black" d="M722,-435.91C722,-427.48 722,-418.08 722,-409.52"/>
<polygon fill="black" stroke="black" points="725.5,-409.26 722,-399.26 718.5,-409.26 725.5,-409.26"/>
</g>
<!-- switch_node_tag -->
<g id="node4" class="node">
<title>switch_node_tag</title>
<path fill="none" stroke="black" d="M797.5,-326C797.5,-326 646.5,-326 646.5,-326 640.5,-326 634.5,-320 634.5,-314 634.5,-314 634.5,-302 634.5,-302 634.5,-296 640.5,-290 646.5,-290 646.5,-290 797.5,-290 797.5,-290 803.5,-290 809.5,-296 809.5,-302 809.5,-302 809.5,-314 809.5,-314 809.5,-320 803.5,-326 797.5,-326"/>
<text text-anchor="middle" x="722" y="-304.3" font-family="Arial" font-size="14.00">根据node的标签进行分支</text>
</g>
<!-- check_node_uses_anon&#45;&gt;switch_node_tag -->
<g id="edge3" class="edge">
<title>check_node_uses_anon&#45;&gt;switch_node_tag</title>
<path fill="none" stroke="black" d="M722,-362.81C722,-354.79 722,-345.05 722,-336.07"/>
<polygon fill="black" stroke="black" points="725.5,-336.03 722,-326.03 718.5,-336.03 725.5,-336.03"/>
</g>
<!-- handle_assign -->
<g id="node5" class="node">
<title>handle_assign</title>
<path fill="none" stroke="black" d="M382,-129C382,-129 198,-129 198,-129 192,-129 186,-123 186,-117 186,-117 186,-103 186,-103 186,-97 192,-91 198,-91 198,-91 382,-91 382,-91 388,-91 394,-97 394,-103 394,-103 394,-117 394,-117 394,-123 388,-129 382,-129"/>
<text text-anchor="middle" x="290" y="-113.8" font-family="Arial" font-size="14.00">处理赋值操作</text>
<text text-anchor="middle" x="290" y="-98.8" font-family="Arial" font-size="14.00">(assign, assign_destructure, 等)</text>
</g>
<!-- switch_node_tag&#45;&gt;handle_assign -->
<g id="edge4" class="edge">
<title>switch_node_tag&#45;&gt;handle_assign</title>
<path fill="none" stroke="black" d="M634.3,-303.4C499.58,-296.88 254.67,-280.77 231,-249 212.68,-224.41 220.38,-208.77 231,-180 237.15,-163.35 249.31,-147.99 261,-136.02"/>
<polygon fill="black" stroke="black" points="263.45,-138.51 268.16,-129.01 258.56,-133.5 263.45,-138.51"/>
<text text-anchor="middle" x="255.5" y="-195.3" font-family="Arial" font-size="14.00">.assign*</text>
</g>
<!-- handle_bin_op -->
<g id="node6" class="node">
<title>handle_bin_op</title>
<path fill="none" stroke="black" d="M529.5,-129C529.5,-129 424.5,-129 424.5,-129 418.5,-129 412.5,-123 412.5,-117 412.5,-117 412.5,-103 412.5,-103 412.5,-97 418.5,-91 424.5,-91 424.5,-91 529.5,-91 529.5,-91 535.5,-91 541.5,-97 541.5,-103 541.5,-103 541.5,-117 541.5,-117 541.5,-123 535.5,-129 529.5,-129"/>
<text text-anchor="middle" x="477" y="-113.8" font-family="Arial" font-size="14.00">处理二元操作</text>
<text text-anchor="middle" x="477" y="-98.8" font-family="Arial" font-size="14.00">(add, sub, mul, 等)</text>
</g>
<!-- switch_node_tag&#45;&gt;handle_bin_op -->
<g id="edge5" class="edge">
<title>switch_node_tag&#45;&gt;handle_bin_op</title>
<path fill="none" stroke="black" d="M634.45,-301.1C516.78,-292.27 319.77,-273.95 298,-249 277.84,-225.89 280.65,-205.29 298,-180 310.66,-161.55 359.32,-143.47 402.72,-130.44"/>
<polygon fill="black" stroke="black" points="403.85,-133.76 412.46,-127.57 401.88,-127.04 403.85,-133.76"/>
<text text-anchor="middle" x="355.5" y="-195.3" font-family="Arial" font-size="14.00">.add, .sub, .mul, 等</text>
</g>
<!-- handle_un_op -->
<g id="node7" class="node">
<title>handle_un_op</title>
<path fill="none" stroke="black" d="M557.5,-218C557.5,-218 434.5,-218 434.5,-218 428.5,-218 422.5,-212 422.5,-206 422.5,-206 422.5,-192 422.5,-192 422.5,-186 428.5,-180 434.5,-180 434.5,-180 557.5,-180 557.5,-180 563.5,-180 569.5,-186 569.5,-192 569.5,-192 569.5,-206 569.5,-206 569.5,-212 563.5,-218 557.5,-218"/>
<text text-anchor="middle" x="496" y="-202.8" font-family="Arial" font-size="14.00">处理一元操作</text>
<text text-anchor="middle" x="496" y="-187.8" font-family="Arial" font-size="14.00">(bool_not, bit_not, 等)</text>
</g>
<!-- switch_node_tag&#45;&gt;handle_un_op -->
<g id="edge6" class="edge">
<title>switch_node_tag&#45;&gt;handle_un_op</title>
<path fill="none" stroke="black" d="M634.44,-298.77C608.86,-293.64 581.7,-285.35 559,-272 540.04,-260.84 523.83,-241.95 512.6,-226.32"/>
<polygon fill="black" stroke="black" points="515.45,-224.29 506.89,-218.04 509.69,-228.26 515.45,-224.29"/>
<text text-anchor="middle" x="613" y="-260.8" font-family="Arial" font-size="14.00">.bool_not, .bit_not</text>
</g>
<!-- handle_identifier -->
<g id="node8" class="node">
<title>handle_identifier</title>
<path fill="none" stroke="black" d="M664,-217C664,-217 600,-217 600,-217 594,-217 588,-211 588,-205 588,-205 588,-193 588,-193 588,-187 594,-181 600,-181 600,-181 664,-181 664,-181 670,-181 676,-187 676,-193 676,-193 676,-205 676,-205 676,-211 670,-217 664,-217"/>
<text text-anchor="middle" x="632" y="-195.3" font-family="Arial" font-size="14.00">处理标识符</text>
</g>
<!-- switch_node_tag&#45;&gt;handle_identifier -->
<g id="edge7" class="edge">
<title>switch_node_tag&#45;&gt;handle_identifier</title>
<path fill="none" stroke="black" d="M700.94,-289.65C694.88,-284.25 688.45,-278.11 683,-272 670.21,-257.65 657.7,-240.06 648.27,-225.86"/>
<polygon fill="black" stroke="black" points="650.95,-223.55 642.55,-217.09 645.08,-227.38 650.95,-223.55"/>
<text text-anchor="middle" x="710.5" y="-260.8" font-family="Arial" font-size="14.00">.identifier</text>
</g>
<!-- handle_call -->
<g id="node9" class="node">
<title>handle_call</title>
<path fill="none" stroke="black" d="M850,-218C850,-218 706,-218 706,-218 700,-218 694,-212 694,-206 694,-206 694,-192 694,-192 694,-186 700,-180 706,-180 706,-180 850,-180 850,-180 856,-180 862,-186 862,-192 862,-192 862,-206 862,-206 862,-212 856,-218 850,-218"/>
<text text-anchor="middle" x="778" y="-202.8" font-family="Arial" font-size="14.00">处理函数调用</text>
<text text-anchor="middle" x="778" y="-187.8" font-family="Arial" font-size="14.00">(call_one, builtin_call, 等)</text>
</g>
<!-- switch_node_tag&#45;&gt;handle_call -->
<g id="edge8" class="edge">
<title>switch_node_tag&#45;&gt;handle_call</title>
<path fill="none" stroke="black" d="M731,-289.81C739.82,-272.95 753.4,-247 763.71,-227.31"/>
<polygon fill="black" stroke="black" points="766.93,-228.71 768.46,-218.22 760.72,-225.46 766.93,-228.71"/>
<text text-anchor="middle" x="801.5" y="-260.8" font-family="Arial" font-size="14.00">.call*, .builtin_call*</text>
</g>
<!-- handle_control_flow -->
<g id="node10" class="node">
<title>handle_control_flow</title>
<path fill="none" stroke="black" d="M142,-218C142,-218 28,-218 28,-218 22,-218 16,-212 16,-206 16,-206 16,-192 16,-192 16,-186 22,-180 28,-180 28,-180 142,-180 142,-180 148,-180 154,-186 154,-192 154,-192 154,-206 154,-206 154,-212 148,-218 142,-218"/>
<text text-anchor="middle" x="85" y="-202.8" font-family="Arial" font-size="14.00">处理控制流</text>
<text text-anchor="middle" x="85" y="-187.8" font-family="Arial" font-size="14.00">(if, while, for, switch)</text>
</g>
<!-- switch_node_tag&#45;&gt;handle_control_flow -->
<g id="edge9" class="edge">
<title>switch_node_tag&#45;&gt;handle_control_flow</title>
<path fill="none" stroke="black" d="M634.33,-307.3C475.05,-307.09 150.79,-302.81 110,-272 96.44,-261.76 90.2,-243.69 87.34,-228.21"/>
<polygon fill="black" stroke="black" points="90.76,-227.42 85.85,-218.04 83.83,-228.44 90.76,-227.42"/>
<text text-anchor="middle" x="150" y="-260.8" font-family="Arial" font-size="14.00">.if, .while, .for</text>
</g>
<!-- handle_literals -->
<g id="node11" class="node">
<title>handle_literals</title>
<path fill="none" stroke="black" d="M1014,-218C1014,-218 892,-218 892,-218 886,-218 880,-212 880,-206 880,-206 880,-192 880,-192 880,-186 886,-180 892,-180 892,-180 1014,-180 1014,-180 1020,-180 1026,-186 1026,-192 1026,-192 1026,-206 1026,-206 1026,-212 1020,-218 1014,-218"/>
<text text-anchor="middle" x="953" y="-202.8" font-family="Arial" font-size="14.00">处理字面量</text>
<text text-anchor="middle" x="953" y="-187.8" font-family="Arial" font-size="14.00">(string, number, char)</text>
</g>
<!-- switch_node_tag&#45;&gt;handle_literals -->
<g id="edge10" class="edge">
<title>switch_node_tag&#45;&gt;handle_literals</title>
<path fill="none" stroke="black" d="M809.69,-290.53C826.83,-285.72 844.34,-279.64 860,-272 884.67,-259.97 909.07,-240.73 926.69,-225.16"/>
<polygon fill="black" stroke="black" points="929.2,-227.6 934.28,-218.3 924.51,-222.41 929.2,-227.6"/>
<text text-anchor="middle" x="973.5" y="-260.8" font-family="Arial" font-size="14.00">.string_literal, .number_literal</text>
</g>
<!-- handle_special_ops -->
<g id="node12" class="node">
<title>handle_special_ops</title>
<path fill="none" stroke="black" d="M1247.5,-218C1247.5,-218 1056.5,-218 1056.5,-218 1050.5,-218 1044.5,-212 1044.5,-206 1044.5,-206 1044.5,-192 1044.5,-192 1044.5,-186 1050.5,-180 1056.5,-180 1056.5,-180 1247.5,-180 1247.5,-180 1253.5,-180 1259.5,-186 1259.5,-192 1259.5,-192 1259.5,-206 1259.5,-206 1259.5,-212 1253.5,-218 1247.5,-218"/>
<text text-anchor="middle" x="1152" y="-202.8" font-family="Arial" font-size="14.00">处理特殊操作</text>
<text text-anchor="middle" x="1152" y="-187.8" font-family="Arial" font-size="14.00">(deref, address_of, catch, orelse)</text>
</g>
<!-- switch_node_tag&#45;&gt;handle_special_ops -->
<g id="edge11" class="edge">
<title>switch_node_tag&#45;&gt;handle_special_ops</title>
<path fill="none" stroke="black" d="M809.88,-303.83C895.96,-299.68 1020.48,-290.64 1065,-272 1089.56,-261.72 1112.54,-242.09 1128.71,-225.92"/>
<polygon fill="black" stroke="black" points="1131.63,-227.93 1136.07,-218.32 1126.6,-223.06 1131.63,-227.93"/>
<text text-anchor="middle" x="1169.5" y="-260.8" font-family="Arial" font-size="14.00">.deref, .address_of, .catch</text>
</g>
<!-- return_result -->
<g id="node13" class="node">
<title>return_result</title>
<path fill="none" stroke="black" d="M158,-54C158,-54 48,-54 48,-54 42,-54 36,-48 36,-42 36,-42 36,-28 36,-28 36,-22 42,-16 48,-16 48,-16 158,-16 158,-16 164,-16 170,-22 170,-28 170,-28 170,-42 170,-42 170,-48 164,-54 158,-54"/>
<text text-anchor="middle" x="103" y="-38.8" font-family="Arial" font-size="14.00">返回结果</text>
<text text-anchor="middle" x="103" y="-23.8" font-family="Arial" font-size="14.00">(rvalue或其他指令)</text>
</g>
<!-- switch_node_tag&#45;&gt;return_result -->
<g id="edge12" class="edge">
<title>switch_node_tag&#45;&gt;return_result</title>
<path fill="none" stroke="black" d="M809.64,-305.22C950.22,-301.77 1214.27,-292.62 1252,-272 1288.49,-252.06 1295.35,-212.16 1269,-180 1199.75,-95.49 429.5,-51.56 180.29,-39.49"/>
<polygon fill="black" stroke="black" points="180.39,-35.99 170.23,-39.01 180.05,-42.99 180.39,-35.99"/>
<text text-anchor="middle" x="1295.5" y="-150.8" font-family="Arial" font-size="14.00">其他分支直接返回</text>
</g>
<!-- note -->
<g id="node15" class="node">
<title>note</title>
<polygon fill="none" stroke="grey" points="1558,-218 1316,-218 1316,-180 1564,-180 1564,-212 1558,-218"/>
<polyline fill="none" stroke="grey" points="1558,-218 1558,-212 "/>
<polyline fill="none" stroke="grey" points="1564,-212 1558,-212 "/>
<text text-anchor="middle" x="1440" y="-202.8" font-family="Arial" font-size="14.00">注：部分节点类型（如unreachable）</text>
<text text-anchor="middle" x="1440" y="-187.8" font-family="Arial" font-size="14.00">已在其他模块处理</text>
</g>
<!-- switch_node_tag&#45;&gt;note -->
<!-- handle_assign&#45;&gt;return_result -->
<g id="edge13" class="edge">
<title>handle_assign&#45;&gt;return_result</title>
<path fill="none" stroke="black" d="M243.78,-90.96C218.04,-80.91 185.82,-68.33 158.7,-57.74"/>
<polygon fill="black" stroke="black" points="159.93,-54.47 149.34,-54.09 157.38,-60.99 159.93,-54.47"/>
</g>
<!-- handle_bin_op&#45;&gt;return_result -->
<g id="edge14" class="edge">
<title>handle_bin_op&#45;&gt;return_result</title>
<path fill="none" stroke="black" d="M412.48,-93.07C409.28,-92.36 406.1,-91.66 403,-91 327.57,-74.93 240.87,-59.34 180.13,-48.89"/>
<polygon fill="black" stroke="black" points="180.69,-45.43 170.24,-47.19 179.5,-52.33 180.69,-45.43"/>
</g>
<!-- handle_un_op&#45;&gt;return_result -->
<g id="edge15" class="edge">
<title>handle_un_op&#45;&gt;return_result</title>
<path fill="none" stroke="black" d="M517.29,-179.66C541.18,-156.89 573.71,-117.81 550,-91 525.94,-63.8 301.4,-47.11 180.02,-40"/>
<polygon fill="black" stroke="black" points="180.22,-36.51 170.03,-39.43 179.82,-43.5 180.22,-36.51"/>
</g>
<!-- handle_identifier&#45;&gt;return_result -->
<g id="edge16" class="edge">
<title>handle_identifier&#45;&gt;return_result</title>
<path fill="none" stroke="black" d="M626.12,-180.65C617.3,-157.11 598.46,-115.24 569,-91 549.35,-74.83 539.87,-77.37 515,-72 400.13,-47.19 263.73,-39.39 180.29,-36.99"/>
<polygon fill="black" stroke="black" points="180.22,-33.48 170.13,-36.72 180.03,-40.48 180.22,-33.48"/>
</g>
<!-- handle_call&#45;&gt;return_result -->
<g id="edge17" class="edge">
<title>handle_call&#45;&gt;return_result</title>
<path fill="none" stroke="black" d="M752.76,-179.98C719.1,-156.66 657,-116.04 599,-91 570.58,-78.73 562.45,-77.54 532,-72 410.29,-49.85 266.62,-41.29 180.27,-38.01"/>
<polygon fill="black" stroke="black" points="180.15,-34.5 170.03,-37.64 179.9,-41.5 180.15,-34.5"/>
</g>
<!-- handle_control_flow&#45;&gt;return_result -->
<g id="edge18" class="edge">
<title>handle_control_flow&#45;&gt;return_result</title>
<path fill="none" stroke="black" d="M64.42,-179.89C42.92,-158.67 14.34,-122.4 30,-91 36.27,-78.43 46.93,-67.98 58.2,-59.68"/>
<polygon fill="black" stroke="black" points="60.18,-62.56 66.45,-54.02 56.22,-56.79 60.18,-62.56"/>
</g>
<!-- expr_call -->
<g id="node14" class="node">
<title>expr_call</title>
<path fill="none" stroke="black" d="M147,-128C147,-128 51,-128 51,-128 45,-128 39,-122 39,-116 39,-116 39,-104 39,-104 39,-98 45,-92 51,-92 51,-92 147,-92 147,-92 153,-92 159,-98 159,-104 159,-104 159,-116 159,-116 159,-122 153,-128 147,-128"/>
<text text-anchor="middle" x="99" y="-106.3" font-family="Arial" font-size="14.00">递归调用expr(...)</text>
</g>
<!-- handle_control_flow&#45;&gt;expr_call -->
<g id="edge21" class="edge">
<title>handle_control_flow&#45;&gt;expr_call</title>
<path fill="none" stroke="black" d="M68.28,-179.72C61.51,-170.06 56.28,-157.97 61,-147 62.79,-142.85 65.31,-138.95 68.22,-135.37"/>
<polygon fill="black" stroke="black" points="70.8,-137.74 75.07,-128.04 65.68,-132.96 70.8,-137.74"/>
<text text-anchor="middle" x="125.5" y="-150.8" font-family="Arial" font-size="14.00">例如处理条件表达式</text>
</g>
<!-- handle_literals&#45;&gt;return_result -->
<g id="edge19" class="edge">
<title>handle_literals&#45;&gt;return_result</title>
<path fill="none" stroke="black" d="M908.76,-179.96C850.34,-156.7 743.88,-116.24 650,-91 486.82,-47.12 287.73,-37.63 180.44,-35.95"/>
<polygon fill="black" stroke="black" points="180.4,-32.44 170.35,-35.81 180.3,-39.44 180.4,-32.44"/>
</g>
<!-- handle_special_ops&#45;&gt;return_result -->
<g id="edge20" class="edge">
<title>handle_special_ops&#45;&gt;return_result</title>
<path fill="none" stroke="black" d="M1089.19,-179.92C1006.36,-156.61 855.78,-116.12 725,-91 531.3,-53.8 298.74,-41.7 180.4,-37.81"/>
<polygon fill="black" stroke="black" points="180.46,-34.31 170.35,-37.49 180.24,-41.3 180.46,-34.31"/>
</g>
<!-- expr_call&#45;&gt;return_result -->
<g id="edge22" class="edge">
<title>expr_call&#45;&gt;return_result</title>
<path fill="none" stroke="black" d="M99.95,-91.7C100.4,-83.49 100.95,-73.47 101.45,-64.2"/>
<polygon fill="black" stroke="black" points="104.95,-64.37 102,-54.19 97.96,-63.99 104.95,-64.37"/>
</g>
</g>
</svg>
