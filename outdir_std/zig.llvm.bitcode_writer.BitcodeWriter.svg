<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: BitcodeWriter Pages: 1 -->
<svg width="1031pt" height="708pt"
 viewBox="0.00 0.00 1030.88 708.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 704)">
<title>BitcodeWriter</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-704 1026.88,-704 1026.88,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<path fill="none" stroke="black" d="M476.88,-700C476.88,-700 342.88,-700 342.88,-700 336.88,-700 330.88,-694 330.88,-688 330.88,-688 330.88,-676 330.88,-676 330.88,-670 336.88,-664 342.88,-664 342.88,-664 476.88,-664 476.88,-664 482.88,-664 488.88,-670 488.88,-676 488.88,-676 488.88,-688 488.88,-688 488.88,-694 482.88,-700 476.88,-700"/>
<text text-anchor="middle" x="409.88" y="-678.3" font-family="Times,serif" font-size="14.00">Start BitcodeWriter</text>
</g>
<!-- init -->
<g id="node2" class="node">
<title>init</title>
<path fill="none" stroke="black" d="M489.38,-627C489.38,-627 330.38,-627 330.38,-627 324.38,-627 318.38,-621 318.38,-615 318.38,-615 318.38,-586 318.38,-586 318.38,-580 324.38,-574 330.38,-574 330.38,-574 489.38,-574 489.38,-574 495.38,-574 501.38,-580 501.38,-586 501.38,-586 501.38,-615 501.38,-615 501.38,-621 495.38,-627 489.38,-627"/>
<text text-anchor="middle" x="409.88" y="-611.8" font-family="Times,serif" font-size="14.00">Initialize BitcodeWriter</text>
<text text-anchor="middle" x="409.88" y="-596.8" font-family="Times,serif" font-size="14.00">&#45; Allocate buffer</text>
<text text-anchor="middle" x="409.88" y="-581.8" font-family="Times,serif" font-size="14.00">&#45; Set widths</text>
</g>
<!-- start&#45;&gt;init -->
<g id="edge1" class="edge">
<title>start&#45;&gt;init</title>
<path fill="none" stroke="black" d="M409.88,-663.75C409.88,-655.99 409.88,-646.51 409.88,-637.32"/>
<polygon fill="black" stroke="black" points="413.38,-637.18 409.88,-627.18 406.38,-637.18 413.38,-637.18"/>
</g>
<!-- write_bits -->
<g id="node3" class="node">
<title>write_bits</title>
<path fill="none" stroke="black" d="M242.88,-395C242.88,-395 116.88,-395 116.88,-395 110.88,-395 104.88,-389 104.88,-383 104.88,-383 104.88,-354 104.88,-354 104.88,-348 110.88,-342 116.88,-342 116.88,-342 242.88,-342 242.88,-342 248.88,-342 254.88,-348 254.88,-354 254.88,-354 254.88,-383 254.88,-383 254.88,-389 248.88,-395 242.88,-395"/>
<text text-anchor="middle" x="179.88" y="-379.8" font-family="Times,serif" font-size="14.00">writeBits:</text>
<text text-anchor="middle" x="179.88" y="-364.8" font-family="Times,serif" font-size="14.00">&#45; Handle bit_buffer</text>
<text text-anchor="middle" x="179.88" y="-349.8" font-family="Times,serif" font-size="14.00">&#45; Flush when full</text>
</g>
<!-- init&#45;&gt;write_bits -->
<g id="edge2" class="edge">
<title>init&#45;&gt;write_bits</title>
<path fill="none" stroke="black" d="M318.16,-598.33C213.37,-594.81 51.37,-582.01 12.88,-537 -30.54,-486.2 48.74,-432.3 112.26,-399.76"/>
<polygon fill="black" stroke="black" points="114.14,-402.74 121.5,-395.12 111,-396.48 114.14,-402.74"/>
</g>
<!-- write_vbr -->
<g id="node4" class="node">
<title>write_vbr</title>
<path fill="none" stroke="black" d="M199.38,-537C199.38,-537 34.38,-537 34.38,-537 28.38,-537 22.38,-531 22.38,-525 22.38,-525 22.38,-496 22.38,-496 22.38,-490 28.38,-484 34.38,-484 34.38,-484 199.38,-484 199.38,-484 205.38,-484 211.38,-490 211.38,-496 211.38,-496 211.38,-525 211.38,-525 211.38,-531 205.38,-537 199.38,-537"/>
<text text-anchor="middle" x="116.88" y="-521.8" font-family="Times,serif" font-size="14.00">writeVBR:</text>
<text text-anchor="middle" x="116.88" y="-506.8" font-family="Times,serif" font-size="14.00">&#45; Split value into chunks</text>
<text text-anchor="middle" x="116.88" y="-491.8" font-family="Times,serif" font-size="14.00">&#45; Add continue bits</text>
</g>
<!-- init&#45;&gt;write_vbr -->
<g id="edge3" class="edge">
<title>init&#45;&gt;write_vbr</title>
<path fill="none" stroke="black" d="M324.74,-573.93C289.3,-563.28 248.01,-550.88 211.62,-539.95"/>
<polygon fill="black" stroke="black" points="212.57,-536.58 201.98,-537.06 210.56,-543.29 212.57,-536.58"/>
</g>
<!-- write_char6 -->
<g id="node5" class="node">
<title>write_char6</title>
<path fill="none" stroke="black" d="M399.88,-529.5C399.88,-529.5 241.88,-529.5 241.88,-529.5 235.88,-529.5 229.88,-523.5 229.88,-517.5 229.88,-517.5 229.88,-503.5 229.88,-503.5 229.88,-497.5 235.88,-491.5 241.88,-491.5 241.88,-491.5 399.88,-491.5 399.88,-491.5 405.88,-491.5 411.88,-497.5 411.88,-503.5 411.88,-503.5 411.88,-517.5 411.88,-517.5 411.88,-523.5 405.88,-529.5 399.88,-529.5"/>
<text text-anchor="middle" x="320.88" y="-514.3" font-family="Times,serif" font-size="14.00">write6BitChar:</text>
<text text-anchor="middle" x="320.88" y="-499.3" font-family="Times,serif" font-size="14.00">&#45; Convert char to 6 bits</text>
</g>
<!-- init&#45;&gt;write_char6 -->
<g id="edge4" class="edge">
<title>init&#45;&gt;write_char6</title>
<path fill="none" stroke="black" d="M383.66,-573.57C371.97,-562.01 358.24,-548.43 346.61,-536.93"/>
<polygon fill="black" stroke="black" points="348.88,-534.26 339.31,-529.71 343.96,-539.23 348.88,-534.26"/>
</g>
<!-- write_blob -->
<g id="node6" class="node">
<title>write_blob</title>
<path fill="none" stroke="black" d="M449.38,-466C449.38,-466 270.38,-466 270.38,-466 264.38,-466 258.38,-460 258.38,-454 258.38,-454 258.38,-425 258.38,-425 258.38,-419 264.38,-413 270.38,-413 270.38,-413 449.38,-413 449.38,-413 455.38,-413 461.38,-419 461.38,-425 461.38,-425 461.38,-454 461.38,-454 461.38,-460 455.38,-466 449.38,-466"/>
<text text-anchor="middle" x="359.88" y="-450.8" font-family="Times,serif" font-size="14.00">writeBlob:</text>
<text text-anchor="middle" x="359.88" y="-435.8" font-family="Times,serif" font-size="14.00">&#45; Align to 32 bits</text>
<text text-anchor="middle" x="359.88" y="-420.8" font-family="Times,serif" font-size="14.00">&#45; Copy bytes with padding</text>
</g>
<!-- init&#45;&gt;write_blob -->
<g id="edge5" class="edge">
<title>init&#45;&gt;write_blob</title>
<path fill="none" stroke="black" d="M420.04,-573.65C427.95,-549.19 435.37,-512.11 420.88,-484 418.91,-480.16 416.42,-476.59 413.58,-473.28"/>
<polygon fill="black" stroke="black" points="415.93,-470.67 406.41,-466.01 410.95,-475.59 415.93,-470.67"/>
</g>
<!-- align_32 -->
<g id="node7" class="node">
<title>align_32</title>
<path fill="none" stroke="black" d="M403.88,-283.5C403.88,-283.5 253.88,-283.5 253.88,-283.5 247.88,-283.5 241.88,-277.5 241.88,-271.5 241.88,-271.5 241.88,-257.5 241.88,-257.5 241.88,-251.5 247.88,-245.5 253.88,-245.5 253.88,-245.5 403.88,-245.5 403.88,-245.5 409.88,-245.5 415.88,-251.5 415.88,-257.5 415.88,-257.5 415.88,-271.5 415.88,-271.5 415.88,-277.5 409.88,-283.5 403.88,-283.5"/>
<text text-anchor="middle" x="328.88" y="-268.3" font-family="Times,serif" font-size="14.00">alignTo32:</text>
<text text-anchor="middle" x="328.88" y="-253.3" font-family="Times,serif" font-size="14.00">&#45; Flush remaining bits</text>
</g>
<!-- init&#45;&gt;align_32 -->
<g id="edge6" class="edge">
<title>init&#45;&gt;align_32</title>
<path fill="none" stroke="black" d="M429.08,-573.6C432.68,-567.98 436.16,-561.94 438.88,-556 465.75,-497.34 487.25,-473.14 463.88,-413 443.66,-360.95 395.55,-316.07 362.58,-289.9"/>
<polygon fill="black" stroke="black" points="364.59,-287.04 354.55,-283.66 360.3,-292.56 364.59,-287.04"/>
</g>
<!-- enter_block -->
<g id="node8" class="node">
<title>enter_block</title>
<path fill="none" stroke="black" d="M722.38,-395C722.38,-395 585.38,-395 585.38,-395 579.38,-395 573.38,-389 573.38,-383 573.38,-383 573.38,-354 573.38,-354 573.38,-348 579.38,-342 585.38,-342 585.38,-342 722.38,-342 722.38,-342 728.38,-342 734.38,-348 734.38,-354 734.38,-354 734.38,-383 734.38,-383 734.38,-389 728.38,-395 722.38,-395"/>
<text text-anchor="middle" x="653.88" y="-379.8" font-family="Times,serif" font-size="14.00">enterTopBlock:</text>
<text text-anchor="middle" x="653.88" y="-364.8" font-family="Times,serif" font-size="14.00">&#45; Write block header</text>
<text text-anchor="middle" x="653.88" y="-349.8" font-family="Times,serif" font-size="14.00">&#45; Reserve size slot</text>
</g>
<!-- init&#45;&gt;enter_block -->
<g id="edge7" class="edge">
<title>init&#45;&gt;enter_block</title>
<path fill="none" stroke="black" d="M465.02,-573.87C474.36,-568.53 483.69,-562.52 491.88,-556 548.93,-510.65 601.62,-443.34 630.6,-403.2"/>
<polygon fill="black" stroke="black" points="633.45,-405.24 636.42,-395.07 627.75,-401.16 633.45,-405.24"/>
</g>
<!-- write_bits&#45;&gt;align_32 -->
<g id="edge8" class="edge">
<title>write_bits&#45;&gt;align_32</title>
<path fill="none" stroke="black" d="M217.48,-341.76C241.03,-325.64 271.15,-305.02 294.14,-289.29"/>
<polygon fill="black" stroke="black" points="296.29,-292.05 302.57,-283.52 292.34,-286.28 296.29,-292.05"/>
<text text-anchor="middle" x="300.38" y="-312.8" font-family="Times,serif" font-size="14.00">Buffer full</text>
</g>
<!-- write_vbr&#45;&gt;write_bits -->
<g id="edge9" class="edge">
<title>write_vbr&#45;&gt;write_bits</title>
<path fill="none" stroke="black" d="M115.54,-483.81C115.56,-463.45 118.09,-434.87 129.88,-413 131.88,-409.3 134.33,-405.76 137.05,-402.43"/>
<polygon fill="black" stroke="black" points="139.67,-404.75 143.84,-395.02 134.51,-400.03 139.67,-404.75"/>
<text text-anchor="middle" x="177.88" y="-435.8" font-family="Times,serif" font-size="14.00">Chunk writes</text>
</g>
<!-- write_char6&#45;&gt;write_bits -->
<g id="edge19" class="edge">
<title>write_char6&#45;&gt;write_bits</title>
<path fill="none" stroke="black" d="M285.96,-491.49C274.78,-484.58 262.96,-475.93 253.88,-466 235.91,-446.34 242,-434.21 225.88,-413 223.19,-409.46 220.2,-405.95 217.08,-402.55"/>
<polygon fill="black" stroke="black" points="219.55,-400.07 210.08,-395.32 214.52,-404.94 219.55,-400.07"/>
</g>
<!-- write_blob&#45;&gt;align_32 -->
<g id="edge18" class="edge">
<title>write_blob&#45;&gt;align_32</title>
<path fill="none" stroke="black" d="M357.03,-412.53C353.92,-386.27 348.37,-344.58 340.88,-309 339.83,-303.99 338.53,-298.71 337.19,-293.62"/>
<polygon fill="black" stroke="black" points="340.45,-292.28 334.41,-283.58 333.7,-294.15 340.45,-292.28"/>
</g>
<!-- end_block -->
<g id="node11" class="node">
<title>end_block</title>
<path fill="none" stroke="black" d="M594.88,-201C594.88,-201 466.88,-201 466.88,-201 460.88,-201 454.88,-195 454.88,-189 454.88,-189 454.88,-160 454.88,-160 454.88,-154 460.88,-148 466.88,-148 466.88,-148 594.88,-148 594.88,-148 600.88,-148 606.88,-154 606.88,-160 606.88,-160 606.88,-189 606.88,-189 606.88,-195 600.88,-201 594.88,-201"/>
<text text-anchor="middle" x="530.88" y="-185.8" font-family="Times,serif" font-size="14.00">BlockWriter.end():</text>
<text text-anchor="middle" x="530.88" y="-170.8" font-family="Times,serif" font-size="14.00">&#45; Write terminator</text>
<text text-anchor="middle" x="530.88" y="-155.8" font-family="Times,serif" font-size="14.00">&#45; Backfill block size</text>
</g>
<!-- align_32&#45;&gt;end_block -->
<g id="edge15" class="edge">
<title>align_32&#45;&gt;end_block</title>
<path fill="none" stroke="black" d="M364.68,-245.48C390.15,-233.86 425.19,-218.47 456.55,-205.09"/>
<polygon fill="black" stroke="black" points="458.32,-208.14 466.16,-201 455.58,-201.7 458.32,-208.14"/>
</g>
<!-- define_abbrev -->
<g id="node9" class="node">
<title>define_abbrev</title>
<path fill="none" stroke="black" d="M615.88,-283.5C615.88,-283.5 445.88,-283.5 445.88,-283.5 439.88,-283.5 433.88,-277.5 433.88,-271.5 433.88,-271.5 433.88,-257.5 433.88,-257.5 433.88,-251.5 439.88,-245.5 445.88,-245.5 445.88,-245.5 615.88,-245.5 615.88,-245.5 621.88,-245.5 627.88,-251.5 627.88,-257.5 627.88,-257.5 627.88,-271.5 627.88,-271.5 627.88,-277.5 621.88,-283.5 615.88,-283.5"/>
<text text-anchor="middle" x="530.88" y="-268.3" font-family="Times,serif" font-size="14.00">defineAbbrev:</text>
<text text-anchor="middle" x="530.88" y="-253.3" font-family="Times,serif" font-size="14.00">&#45; Encode operation types</text>
</g>
<!-- enter_block&#45;&gt;define_abbrev -->
<g id="edge10" class="edge">
<title>enter_block&#45;&gt;define_abbrev</title>
<path fill="none" stroke="black" d="M575.99,-341.9C567.5,-336.89 559.54,-330.98 552.88,-324 544.88,-315.61 539.73,-304.03 536.44,-293.39"/>
<polygon fill="black" stroke="black" points="539.78,-292.36 533.82,-283.61 533.02,-294.17 539.78,-292.36"/>
<text text-anchor="middle" x="617.88" y="-312.8" font-family="Times,serif" font-size="14.00">Predefine abbrevs</text>
</g>
<!-- write_abbrev -->
<g id="node10" class="node">
<title>write_abbrev</title>
<path fill="none" stroke="black" d="M802.38,-291C802.38,-291 657.38,-291 657.38,-291 651.38,-291 645.38,-285 645.38,-279 645.38,-279 645.38,-250 645.38,-250 645.38,-244 651.38,-238 657.38,-238 657.38,-238 802.38,-238 802.38,-238 808.38,-238 814.38,-244 814.38,-250 814.38,-250 814.38,-279 814.38,-279 814.38,-285 808.38,-291 802.38,-291"/>
<text text-anchor="middle" x="729.88" y="-275.8" font-family="Times,serif" font-size="14.00">writeAbbrevAdapted:</text>
<text text-anchor="middle" x="729.88" y="-260.8" font-family="Times,serif" font-size="14.00">&#45; Emit abbrev ID</text>
<text text-anchor="middle" x="729.88" y="-245.8" font-family="Times,serif" font-size="14.00">&#45; Serialize fields</text>
</g>
<!-- enter_block&#45;&gt;write_abbrev -->
<g id="edge11" class="edge">
<title>enter_block&#45;&gt;write_abbrev</title>
<path fill="none" stroke="black" d="M673.06,-341.76C682.6,-328.96 694.26,-313.31 704.53,-299.53"/>
<polygon fill="black" stroke="black" points="707.54,-301.34 710.71,-291.23 701.93,-297.16 707.54,-301.34"/>
<text text-anchor="middle" x="733.88" y="-312.8" font-family="Times,serif" font-size="14.00">Write data</text>
</g>
<!-- enter_block&#45;&gt;end_block -->
<g id="edge16" class="edge">
<title>enter_block&#45;&gt;end_block</title>
<path fill="none" stroke="black" d="M734.67,-353.84C769.55,-343.21 806.33,-324.37 823.88,-291 834.85,-270.15 838.7,-256.31 823.88,-238 798.25,-206.32 694.2,-190 617.35,-182.11"/>
<polygon fill="black" stroke="black" points="617.47,-178.61 607.17,-181.1 616.77,-185.57 617.47,-178.61"/>
<text text-anchor="middle" x="927.88" y="-260.8" font-family="Times,serif" font-size="14.00">Block operations complete</text>
</g>
<!-- define_abbrev&#45;&gt;end_block -->
<g id="edge13" class="edge">
<title>define_abbrev&#45;&gt;end_block</title>
<path fill="none" stroke="black" d="M530.88,-245.27C530.88,-235.38 530.88,-222.8 530.88,-211.07"/>
<polygon fill="black" stroke="black" points="534.38,-211.05 530.88,-201.05 527.38,-211.05 534.38,-211.05"/>
</g>
<!-- write_abbrev&#45;&gt;end_block -->
<g id="edge12" class="edge">
<title>write_abbrev&#45;&gt;end_block</title>
<path fill="none" stroke="black" d="M672.06,-237.93C648.96,-227.71 622.2,-215.88 598.24,-205.28"/>
<polygon fill="black" stroke="black" points="599.42,-201.98 588.86,-201.14 596.59,-208.38 599.42,-201.98"/>
</g>
<!-- end_block&#45;&gt;align_32 -->
<g id="edge14" class="edge">
<title>end_block&#45;&gt;align_32</title>
<path fill="none" stroke="black" d="M478.53,-201C449.85,-213.86 414.35,-229.29 385.09,-241.6"/>
<polygon fill="black" stroke="black" points="383.69,-238.39 375.82,-245.48 386.4,-244.84 383.69,-238.39"/>
</g>
<!-- deinit -->
<g id="node12" class="node">
<title>deinit</title>
<path fill="none" stroke="black" d="M571.88,-111C571.88,-111 489.88,-111 489.88,-111 483.88,-111 477.88,-105 477.88,-99 477.88,-99 477.88,-85 477.88,-85 477.88,-79 483.88,-73 489.88,-73 489.88,-73 571.88,-73 571.88,-73 577.88,-73 583.88,-79 583.88,-85 583.88,-85 583.88,-99 583.88,-99 583.88,-105 577.88,-111 571.88,-111"/>
<text text-anchor="middle" x="530.88" y="-95.8" font-family="Times,serif" font-size="14.00">deinit:</text>
<text text-anchor="middle" x="530.88" y="-80.8" font-family="Times,serif" font-size="14.00">&#45; Free buffer</text>
</g>
<!-- end_block&#45;&gt;deinit -->
<g id="edge17" class="edge">
<title>end_block&#45;&gt;deinit</title>
<path fill="none" stroke="black" d="M530.88,-147.59C530.88,-139.31 530.88,-130.11 530.88,-121.65"/>
<polygon fill="black" stroke="black" points="534.38,-121.47 530.88,-111.47 527.38,-121.47 534.38,-121.47"/>
</g>
<!-- end -->
<g id="node13" class="node">
<title>end</title>
<path fill="none" stroke="black" d="M545.88,-36C545.88,-36 515.88,-36 515.88,-36 509.88,-36 503.88,-30 503.88,-24 503.88,-24 503.88,-12 503.88,-12 503.88,-6 509.88,0 515.88,0 515.88,0 545.88,0 545.88,0 551.88,0 557.88,-6 557.88,-12 557.88,-12 557.88,-24 557.88,-24 557.88,-30 551.88,-36 545.88,-36"/>
<text text-anchor="middle" x="530.88" y="-14.3" font-family="Times,serif" font-size="14.00">End</text>
</g>
<!-- deinit&#45;&gt;end -->
<g id="edge20" class="edge">
<title>deinit&#45;&gt;end</title>
<path fill="none" stroke="black" d="M530.88,-72.83C530.88,-64.89 530.88,-55.41 530.88,-46.63"/>
<polygon fill="black" stroke="black" points="534.38,-46.42 530.88,-36.42 527.38,-46.42 534.38,-46.42"/>
</g>
</g>
</svg>
