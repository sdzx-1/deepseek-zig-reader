graph TD
    A[开始 updateContainerType] --> B[获取zcu和ip]
    B --> C[获取类型ty并记录日志]
    C --> D{检查是否是main_struct_inst?}
    D -->|是| E[创建/获取类型条目]
    E --> F[初始化WipNav]
    F --> G[处理结构体字段]
    G --> H[遍历所有字段]
    H --> I{字段是否是comptime?}
    I -->|是| J[生成comptime字段信息]
    I -->|否| K[生成runtime字段信息]
    J --> L[写入字段名称、类型、偏移等]
    K --> L
    L --> M{还有更多字段?}
    M -->|是| H
    M -->|否| N[结束字段处理]
    N --> O[更新调试信息条目]
    O --> P[结束分支]

    D -->|否| Q[检查ZIR指令类型]
    Q --> R{名称策略是否为parent?}
    R -->|是| S[直接返回]
    R -->|否| T[创建/获取类型条目]
    T --> U[初始化WipNav]
    U --> V{处理具体容器类型}
    V -->|结构体| W[生成结构体类型信息]
    V -->|枚举| X[生成枚举类型信息]
    V -->|联合| Y[生成联合类型信息]
    V -->|不透明类型| Z[生成不透明类型信息]
    W --> AA[处理字段布局/打包/对齐]
    X --> AB[处理枚举标签和常量]
    Y --> AC[处理联合标签和字段]
    Z --> AD[写入空结构标记]
    AA --> AE[更新调试信息]
    AB --> AE
    AC --> AE
    AD --> AE
    AE --> AF[结束分支]
    AF --> AG[结束函数]
