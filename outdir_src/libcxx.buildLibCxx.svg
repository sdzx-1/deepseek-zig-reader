<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: buildLibCxx_flowchart Pages: 1 -->
<svg width="1302pt" height="1325pt"
 viewBox="0.00 0.00 1302.36 1325.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1321.17)">
<title>buildLibCxx_flowchart</title>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<polygon fill="lightblue" stroke="black" points="206.5,-1317.17 49.5,-1317.17 49.5,-1281.17 206.5,-1281.17 206.5,-1317.17"/>
<text text-anchor="middle" x="128" y="-1295.47" font-family="Courier,monospace" font-size="14.00">Start buildLibCxx</text>
</g>
<!-- check_llvm -->
<g id="node2" class="node">
<title>check_llvm</title>
<polygon fill="lightblue" stroke="black" points="256,-1244.17 0,-1244.17 0,-1208.17 256,-1208.17 256,-1244.17"/>
<text text-anchor="middle" x="128" y="-1222.47" font-family="Courier,monospace" font-size="14.00">Check build_options.have_llvm</text>
</g>
<!-- start&#45;&gt;check_llvm -->
<g id="edge1" class="edge">
<title>start&#45;&gt;check_llvm</title>
<path fill="none" stroke="black" d="M128,-1280.99C128,-1272.96 128,-1263.22 128,-1254.24"/>
<polygon fill="black" stroke="black" points="131.5,-1254.2 128,-1244.2 124.5,-1254.2 131.5,-1254.2"/>
</g>
<!-- error_llvm -->
<g id="node3" class="node">
<title>error_llvm</title>
<ellipse fill="pink" stroke="black" cx="644" cy="-18" rx="278.65" ry="18"/>
<text text-anchor="middle" x="644" y="-14.3" font-family="Courier,monospace" font-size="14.00">Return error.ZigCompilerNotBuiltWithLLVMExtensions</text>
</g>
<!-- check_llvm&#45;&gt;error_llvm -->
<g id="edge2" class="edge">
<title>check_llvm&#45;&gt;error_llvm</title>
<path fill="none" stroke="black" d="M122.85,-1208.09C118.17,-1191.06 112,-1164.05 112,-1140.17 112,-1140.17 112,-1140.17 112,-109.48 112,-56.3 165.74,-63.8 218,-54 279.62,-42.45 346.96,-34.71 409.54,-29.53"/>
<polygon fill="black" stroke="black" points="409.85,-33.01 419.54,-28.72 409.29,-26.04 409.85,-33.01"/>
<text text-anchor="middle" x="122.5" y="-726.97" font-family="Times,serif" font-size="14.00">No</text>
</g>
<!-- init_trace -->
<g id="node4" class="node">
<title>init_trace</title>
<polygon fill="lightblue" stroke="black" points="344,-1157.17 146,-1157.17 146,-1121.17 344,-1121.17 344,-1157.17"/>
<text text-anchor="middle" x="245" y="-1135.47" font-family="Courier,monospace" font-size="14.00">Initialize Tracy trace</text>
</g>
<!-- check_llvm&#45;&gt;init_trace -->
<g id="edge3" class="edge">
<title>check_llvm&#45;&gt;init_trace</title>
<path fill="none" stroke="black" d="M151.68,-1207.97C169.36,-1195.13 193.72,-1177.43 213.11,-1163.34"/>
<polygon fill="black" stroke="black" points="215.33,-1166.06 221.36,-1157.35 211.21,-1160.4 215.33,-1166.06"/>
<text text-anchor="middle" x="205.5" y="-1178.97" font-family="Times,serif" font-size="14.00">Yes</text>
</g>
<!-- init_arena -->
<g id="node5" class="node">
<title>init_arena</title>
<polygon fill="lightblue" stroke="black" points="400.5,-1084.17 177.5,-1084.17 177.5,-1048.17 400.5,-1048.17 400.5,-1084.17"/>
<text text-anchor="middle" x="289" y="-1062.47" font-family="Courier,monospace" font-size="14.00">Initialize ArenaAllocator</text>
</g>
<!-- init_trace&#45;&gt;init_arena -->
<g id="edge4" class="edge">
<title>init_trace&#45;&gt;init_arena</title>
<path fill="none" stroke="black" d="M255.65,-1120.99C260.89,-1112.53 267.32,-1102.16 273.13,-1092.79"/>
<polygon fill="black" stroke="black" points="276.15,-1094.55 278.45,-1084.2 270.2,-1090.86 276.15,-1094.55"/>
</g>
<!-- gen_basename -->
<g id="node6" class="node">
<title>gen_basename</title>
<polygon fill="lightblue" stroke="black" points="490.5,-1011.17 275.5,-1011.17 275.5,-975.17 490.5,-975.17 490.5,-1011.17"/>
<text text-anchor="middle" x="383" y="-989.47" font-family="Courier,monospace" font-size="14.00">Generate output basename</text>
</g>
<!-- init_arena&#45;&gt;gen_basename -->
<g id="edge5" class="edge">
<title>init_arena&#45;&gt;gen_basename</title>
<path fill="none" stroke="black" d="M311.75,-1047.99C323.88,-1038.83 338.97,-1027.43 352.13,-1017.49"/>
<polygon fill="black" stroke="black" points="354.58,-1020.02 360.45,-1011.2 350.37,-1014.44 354.58,-1020.02"/>
</g>
<!-- setup_paths -->
<g id="node7" class="node">
<title>setup_paths</title>
<polygon fill="lightblue" stroke="black" points="795.5,-938.17 424.5,-938.17 424.5,-902.17 795.5,-902.17 795.5,-938.17"/>
<text text-anchor="middle" x="610" y="-916.47" font-family="Courier,monospace" font-size="14.00">Set up include paths (cxxabi, cxx, cxx_src)</text>
</g>
<!-- gen_basename&#45;&gt;setup_paths -->
<g id="edge6" class="edge">
<title>gen_basename&#45;&gt;setup_paths</title>
<path fill="none" stroke="black" d="M437.37,-975.17C469.84,-965.01 511.27,-952.05 545.41,-941.38"/>
<polygon fill="black" stroke="black" points="546.79,-944.61 555.28,-938.29 544.7,-937.93 546.79,-944.61"/>
</g>
<!-- set_abi_args -->
<g id="node8" class="node">
<title>set_abi_args</title>
<polygon fill="lightblue" stroke="black" points="943.5,-865.17 596.5,-865.17 596.5,-829.17 943.5,-829.17 943.5,-865.17"/>
<text text-anchor="middle" x="770" y="-843.47" font-family="Courier,monospace" font-size="14.00">Generate ABI version/namespace arguments</text>
</g>
<!-- setup_paths&#45;&gt;set_abi_args -->
<g id="edge7" class="edge">
<title>setup_paths&#45;&gt;set_abi_args</title>
<path fill="none" stroke="black" d="M648.32,-902.17C670.52,-892.32 698.66,-879.83 722.29,-869.35"/>
<polygon fill="black" stroke="black" points="723.71,-872.54 731.43,-865.29 720.87,-866.14 723.71,-872.54"/>
</g>
<!-- config_resolve -->
<g id="node9" class="node">
<title>config_resolve</title>
<polygon fill="lightblue" stroke="black" points="941.5,-792.17 710.5,-792.17 710.5,-756.17 941.5,-756.17 941.5,-792.17"/>
<text text-anchor="middle" x="826" y="-770.47" font-family="Courier,monospace" font-size="14.00">Resolve Compilation.Config</text>
</g>
<!-- set_abi_args&#45;&gt;config_resolve -->
<g id="edge8" class="edge">
<title>set_abi_args&#45;&gt;config_resolve</title>
<path fill="none" stroke="black" d="M783.56,-828.99C790.37,-820.35 798.75,-809.73 806.25,-800.21"/>
<polygon fill="black" stroke="black" points="809.12,-802.22 812.57,-792.2 803.63,-797.89 809.12,-802.22"/>
</g>
<!-- config_error -->
<g id="node10" class="node">
<title>config_error</title>
<ellipse fill="pink" stroke="black" cx="1119" cy="-624.3" rx="175.23" ry="26.74"/>
<text text-anchor="middle" x="1119" y="-628.1" font-family="Courier,monospace" font-size="14.00">Set misc failure</text>
<text text-anchor="middle" x="1119" y="-613.1" font-family="Courier,monospace" font-size="14.00">(error.SubCompilationFailed)</text>
</g>
<!-- config_resolve&#45;&gt;config_error -->
<g id="edge9" class="edge">
<title>config_resolve&#45;&gt;config_error</title>
<path fill="none" stroke="black" d="M859.9,-756.07C909.04,-731.26 1000.76,-684.98 1060.84,-654.65"/>
<polygon fill="black" stroke="black" points="1062.48,-657.75 1069.84,-650.12 1059.33,-651.5 1062.48,-657.75"/>
<text text-anchor="middle" x="943" y="-726.97" font-family="Times,serif" font-size="14.00">Error</text>
</g>
<!-- create_root_mod -->
<g id="node11" class="node">
<title>create_root_mod</title>
<polygon fill="lightblue" stroke="black" points="908.5,-705.17 743.5,-705.17 743.5,-669.17 908.5,-669.17 908.5,-705.17"/>
<text text-anchor="middle" x="826" y="-683.47" font-family="Courier,monospace" font-size="14.00">Create root Module</text>
</g>
<!-- config_resolve&#45;&gt;create_root_mod -->
<g id="edge10" class="edge">
<title>config_resolve&#45;&gt;create_root_mod</title>
<path fill="none" stroke="black" d="M826,-755.97C826,-744.34 826,-728.72 826,-715.41"/>
<polygon fill="black" stroke="black" points="829.5,-715.35 826,-705.35 822.5,-715.35 829.5,-715.35"/>
<text text-anchor="middle" x="837" y="-726.97" font-family="Times,serif" font-size="14.00">OK</text>
</g>
<!-- config_error&#45;&gt;error_llvm -->
<g id="edge24" class="edge">
<title>config_error&#45;&gt;error_llvm</title>
<path fill="none" stroke="red" stroke-dasharray="5,2" d="M1119,-597.3C1119,-571.87 1119,-532.05 1119,-497.56 1119,-497.56 1119,-497.56 1119,-109.48 1119,-59.87 1017.76,-36.78 908.76,-26.3"/>
<polygon fill="red" stroke="red" points="908.81,-22.79 898.53,-25.36 908.17,-29.76 908.81,-22.79"/>
</g>
<!-- mod_error -->
<g id="node12" class="node">
<title>mod_error</title>
<ellipse fill="pink" stroke="black" cx="921" cy="-496.56" rx="175.23" ry="26.74"/>
<text text-anchor="middle" x="921" y="-500.36" font-family="Courier,monospace" font-size="14.00">Set misc failure</text>
<text text-anchor="middle" x="921" y="-485.36" font-family="Courier,monospace" font-size="14.00">(error.SubCompilationFailed)</text>
</g>
<!-- create_root_mod&#45;&gt;mod_error -->
<g id="edge11" class="edge">
<title>create_root_mod&#45;&gt;mod_error</title>
<path fill="none" stroke="black" d="M834.81,-668.81C845.52,-647.69 864.13,-610.97 880,-579.43 887.74,-564.06 896.27,-547.04 903.53,-532.53"/>
<polygon fill="black" stroke="black" points="906.76,-533.9 908.1,-523.39 900.5,-530.77 906.76,-533.9"/>
<text text-anchor="middle" x="890" y="-620.6" font-family="Times,serif" font-size="14.00">Error</text>
</g>
<!-- handle_files -->
<g id="node13" class="node">
<title>handle_files</title>
<polygon fill="lightblue" stroke="black" points="870.5,-579.43 573.5,-579.43 573.5,-541.43 870.5,-541.43 870.5,-579.43"/>
<text text-anchor="middle" x="722" y="-564.23" font-family="Courier,monospace" font-size="14.00">Select libcxx_files</text>
<text text-anchor="middle" x="722" y="-549.23" font-family="Courier,monospace" font-size="14.00">(based on any_non_single_threaded)</text>
</g>
<!-- create_root_mod&#45;&gt;handle_files -->
<g id="edge12" class="edge">
<title>create_root_mod&#45;&gt;handle_files</title>
<path fill="none" stroke="black" d="M811.76,-669.09C794.16,-647.99 764.06,-611.88 743.61,-587.36"/>
<polygon fill="black" stroke="black" points="746.17,-584.96 737.08,-579.52 740.8,-589.44 746.17,-584.96"/>
<text text-anchor="middle" x="806" y="-620.6" font-family="Times,serif" font-size="14.00">OK</text>
</g>
<!-- mod_error&#45;&gt;error_llvm -->
<g id="edge25" class="edge">
<title>mod_error&#45;&gt;error_llvm</title>
<path fill="none" stroke="red" stroke-dasharray="5,2" d="M1006.62,-472.97C1044.66,-457.26 1081,-431.66 1081,-391.19 1081,-391.19 1081,-391.19 1081,-109.48 1081,-91.2 1076.99,-83.46 1062,-73 1030.25,-50.83 953.29,-37.76 873.94,-30.06"/>
<polygon fill="red" stroke="red" points="874.04,-26.55 863.75,-29.1 873.38,-33.52 874.04,-26.55"/>
</g>
<!-- loop_start -->
<g id="node14" class="node">
<title>loop_start</title>
<polygon fill="lightblue" stroke="black" points="722,-451.69 540.01,-433.69 722,-415.69 903.99,-433.69 722,-451.69"/>
<text text-anchor="middle" x="722" y="-429.99" font-family="Courier,monospace" font-size="14.00">Loop over libcxx_files</text>
</g>
<!-- handle_files&#45;&gt;loop_start -->
<g id="edge13" class="edge">
<title>handle_files&#45;&gt;loop_start</title>
<path fill="none" stroke="black" d="M722,-541.3C722,-520.55 722,-486.36 722,-462.3"/>
<polygon fill="black" stroke="black" points="725.5,-462.05 722,-452.05 718.5,-462.05 725.5,-462.05"/>
</g>
<!-- check_platform -->
<g id="node15" class="node">
<title>check_platform</title>
<polygon fill="lightblue" stroke="black" points="919,-364.69 605,-364.69 605,-326.69 919,-326.69 919,-364.69"/>
<text text-anchor="middle" x="762" y="-349.49" font-family="Courier,monospace" font-size="14.00">Check target.os.tag</text>
<text text-anchor="middle" x="762" y="-334.49" font-family="Courier,monospace" font-size="14.00">(exclude filesystem/win32/ibm files)</text>
</g>
<!-- loop_start&#45;&gt;check_platform -->
<g id="edge14" class="edge">
<title>loop_start&#45;&gt;check_platform</title>
<path fill="none" stroke="black" d="M744.81,-417.73C751.23,-412.25 757.44,-405.47 761,-397.69 764.19,-390.72 765.34,-382.62 765.46,-374.97"/>
<polygon fill="black" stroke="black" points="768.96,-374.8 765.08,-364.94 761.96,-375.07 768.96,-374.8"/>
<text text-anchor="middle" x="794.5" y="-386.49" font-family="Times,serif" font-size="14.00">Next file</text>
</g>
<!-- create_subcomp -->
<g id="node18" class="node">
<title>create_subcomp</title>
<polygon fill="lightblue" stroke="black" points="587,-363.69 389,-363.69 389,-327.69 587,-327.69 587,-363.69"/>
<text text-anchor="middle" x="488" y="-341.99" font-family="Courier,monospace" font-size="14.00">Create sub_compilation</text>
</g>
<!-- loop_start&#45;&gt;create_subcomp -->
<g id="edge19" class="edge">
<title>loop_start&#45;&gt;create_subcomp</title>
<path fill="none" stroke="black" d="M685.06,-419.27C667.21,-412.77 645.48,-404.85 626,-397.69 598.79,-387.7 568.58,-376.55 543.38,-367.22"/>
<polygon fill="black" stroke="black" points="544.57,-363.93 533.98,-363.74 542.14,-370.5 544.57,-363.93"/>
<text text-anchor="middle" x="659" y="-386.49" font-family="Times,serif" font-size="14.00">Loop end</text>
</g>
<!-- check_platform&#45;&gt;loop_start -->
<g id="edge16" class="edge">
<title>check_platform&#45;&gt;loop_start</title>
<path fill="none" stroke="black" d="M716.3,-364.87C709.38,-369.63 703.17,-375.5 699,-382.69 694.28,-390.83 696.59,-400.09 701.22,-408.42"/>
<polygon fill="black" stroke="black" points="698.47,-410.61 706.93,-417 704.3,-406.73 698.47,-410.61"/>
<text text-anchor="middle" x="728" y="-386.49" font-family="Times,serif" font-size="14.00">Skip file</text>
</g>
<!-- add_cflags -->
<g id="node16" class="node">
<title>add_cflags</title>
<polygon fill="lightblue" stroke="black" points="912,-275.69 648,-275.69 648,-237.69 912,-237.69 912,-275.69"/>
<text text-anchor="middle" x="780" y="-260.49" font-family="Courier,monospace" font-size="14.00">Add platform&#45;specific flags</text>
<text text-anchor="middle" x="780" y="-245.49" font-family="Courier,monospace" font-size="14.00">(&#45;D_LIBCPP_HAS_NO_THREADS etc)</text>
</g>
<!-- check_platform&#45;&gt;add_cflags -->
<g id="edge15" class="edge">
<title>check_platform&#45;&gt;add_cflags</title>
<path fill="none" stroke="black" d="M765.73,-326.67C768.17,-314.89 771.4,-299.25 774.17,-285.85"/>
<polygon fill="black" stroke="black" points="777.68,-286.2 776.28,-275.7 770.82,-284.78 777.68,-286.2"/>
<text text-anchor="middle" x="828" y="-297.49" font-family="Times,serif" font-size="14.00">Platform match</text>
</g>
<!-- append_csource -->
<g id="node17" class="node">
<title>append_csource</title>
<polygon fill="lightblue" stroke="black" points="1052.5,-128.48 837.5,-128.48 837.5,-92.48 1052.5,-92.48 1052.5,-128.48"/>
<text text-anchor="middle" x="945" y="-106.78" font-family="Courier,monospace" font-size="14.00">Append to c_source_files</text>
</g>
<!-- add_cflags&#45;&gt;append_csource -->
<g id="edge17" class="edge">
<title>add_cflags&#45;&gt;append_csource</title>
<path fill="none" stroke="black" d="M800.9,-237.43C830.48,-211.58 884.6,-164.27 917.44,-135.57"/>
<polygon fill="black" stroke="black" points="920.07,-137.91 925.3,-128.7 915.47,-132.64 920.07,-137.91"/>
</g>
<!-- append_csource&#45;&gt;loop_start -->
<g id="edge18" class="edge">
<title>append_csource&#45;&gt;loop_start</title>
<path fill="none" stroke="black" d="M949.74,-128.79C960.8,-173.26 983.37,-293.06 928,-364.69 903.53,-396.36 863.88,-413.45 825.87,-422.61"/>
<polygon fill="black" stroke="black" points="824.73,-419.28 815.74,-424.88 826.26,-426.11 824.73,-419.28"/>
<text text-anchor="middle" x="1008" y="-297.49" font-family="Times,serif" font-size="14.00">Continue loop</text>
</g>
<!-- subcomp_error -->
<g id="node19" class="node">
<title>subcomp_error</title>
<ellipse fill="pink" stroke="black" cx="302" cy="-192.82" rx="175.23" ry="26.74"/>
<text text-anchor="middle" x="302" y="-196.62" font-family="Courier,monospace" font-size="14.00">Set misc failure</text>
<text text-anchor="middle" x="302" y="-181.62" font-family="Courier,monospace" font-size="14.00">(error.SubCompilationFailed)</text>
</g>
<!-- create_subcomp&#45;&gt;subcomp_error -->
<g id="edge20" class="edge">
<title>create_subcomp&#45;&gt;subcomp_error</title>
<path fill="none" stroke="black" d="M462.55,-327.59C442.86,-314.07 415.13,-294.42 392,-275.69 373.1,-260.39 352.99,-242.28 336.58,-227"/>
<polygon fill="black" stroke="black" points="338.54,-224.03 328.85,-219.75 333.75,-229.14 338.54,-224.03"/>
<text text-anchor="middle" x="454" y="-297.49" font-family="Times,serif" font-size="14.00">Error</text>
</g>
<!-- update_subcomp -->
<g id="node20" class="node">
<title>update_subcomp</title>
<polygon fill="lightblue" stroke="black" points="599,-274.69 401,-274.69 401,-238.69 599,-238.69 599,-274.69"/>
<text text-anchor="middle" x="500" y="-252.99" font-family="Courier,monospace" font-size="14.00">Update sub_compilation</text>
</g>
<!-- create_subcomp&#45;&gt;update_subcomp -->
<g id="edge21" class="edge">
<title>create_subcomp&#45;&gt;update_subcomp</title>
<path fill="none" stroke="black" d="M490.37,-327.51C492.05,-315.35 494.33,-298.81 496.25,-284.87"/>
<polygon fill="black" stroke="black" points="499.73,-285.23 497.63,-274.85 492.8,-284.27 499.73,-285.23"/>
<text text-anchor="middle" x="505" y="-297.49" font-family="Times,serif" font-size="14.00">OK</text>
</g>
<!-- subcomp_error&#45;&gt;error_llvm -->
<g id="edge26" class="edge">
<title>subcomp_error&#45;&gt;error_llvm</title>
<path fill="none" stroke="red" stroke-dasharray="5,2" d="M199.22,-171C189,-165.1 179.89,-157.57 173,-147.95 153.6,-120.87 150.83,-97.86 173,-73 190.82,-53.02 312.14,-39.41 427.18,-30.84"/>
<polygon fill="red" stroke="red" points="427.5,-34.33 437.22,-30.11 426.99,-27.35 427.5,-34.33"/>
</g>
<!-- update_error -->
<g id="node21" class="node">
<title>update_error</title>
<ellipse fill="pink" stroke="black" cx="644" cy="-110.48" rx="175.23" ry="26.74"/>
<text text-anchor="middle" x="644" y="-114.28" font-family="Courier,monospace" font-size="14.00">Set misc failure</text>
<text text-anchor="middle" x="644" y="-99.28" font-family="Courier,monospace" font-size="14.00">(error.SubCompilationFailed)</text>
</g>
<!-- update_subcomp&#45;&gt;update_error -->
<g id="edge22" class="edge">
<title>update_subcomp&#45;&gt;update_error</title>
<path fill="none" stroke="black" d="M517.08,-238.58C540.23,-215.4 582.01,-173.56 611.3,-144.23"/>
<polygon fill="black" stroke="black" points="613.86,-146.61 618.45,-137.06 608.91,-141.66 613.86,-146.61"/>
<text text-anchor="middle" x="609" y="-189.12" font-family="Times,serif" font-size="14.00">Error</text>
</g>
<!-- success -->
<g id="node22" class="node">
<title>success</title>
<ellipse fill="lightgreen" stroke="black" cx="316" cy="-110.48" rx="134.2" ry="37.45"/>
<text text-anchor="middle" x="316" y="-121.78" font-family="Courier,monospace" font-size="14.00">Set libcxx_static_lib</text>
<text text-anchor="middle" x="316" y="-106.78" font-family="Courier,monospace" font-size="14.00">Queue link task</text>
<text text-anchor="middle" x="316" y="-91.78" font-family="Courier,monospace" font-size="14.00">Return successfully</text>
</g>
<!-- update_subcomp&#45;&gt;success -->
<g id="edge23" class="edge">
<title>update_subcomp&#45;&gt;success</title>
<path fill="none" stroke="black" d="M500.46,-238.56C500.06,-218.63 496.35,-185.91 478,-165.95 466.33,-153.26 451.62,-143.53 435.84,-136.06"/>
<polygon fill="black" stroke="black" points="437,-132.75 426.44,-131.92 434.18,-139.15 437,-132.75"/>
<text text-anchor="middle" x="509" y="-189.12" font-family="Times,serif" font-size="14.00">OK</text>
</g>
<!-- update_error&#45;&gt;error_llvm -->
<g id="edge27" class="edge">
<title>update_error&#45;&gt;error_llvm</title>
<path fill="none" stroke="red" stroke-dasharray="5,2" d="M644,-83.31C644,-71.72 644,-58.09 644,-46.37"/>
<polygon fill="red" stroke="red" points="647.5,-46.25 644,-36.25 640.5,-46.25 647.5,-46.25"/>
</g>
</g>
</svg>
