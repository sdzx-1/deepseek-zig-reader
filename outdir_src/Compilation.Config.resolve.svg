<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: resolve_flow Pages: 1 -->
<svg width="2384pt" height="760pt"
 viewBox="0.00 0.00 2383.55 760.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 756)">
<title>resolve_flow</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-756 2379.55,-756 2379.55,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="skyblue" stroke="black" cx="141.55" cy="-734" rx="94.48" ry="18"/>
<text text-anchor="middle" x="141.55" y="-730.3" font-family="Arial" font-size="14.00">Start resolve(options)</text>
</g>
<!-- check_wasi_os -->
<g id="node3" class="node">
<title>check_wasi_os</title>
<polygon fill="lightgray" stroke="black" points="141.55,-642 -0.05,-624 141.55,-606 283.15,-624 141.55,-642"/>
<text text-anchor="middle" x="141.55" y="-620.3" font-family="Arial" font-size="14.00">target.os.tag == .wasi?</text>
</g>
<!-- start&#45;&gt;check_wasi_os -->
<g id="edge13" class="edge">
<title>start&#45;&gt;check_wasi_os</title>
<path fill="none" stroke="black" d="M141.55,-715.65C141.55,-698.56 141.55,-672.22 141.55,-652.32"/>
<polygon fill="black" stroke="black" points="145.05,-652.31 141.55,-642.31 138.05,-652.31 145.05,-652.31"/>
</g>
<!-- end -->
<g id="node2" class="node">
<title>end</title>
<ellipse fill="skyblue" stroke="black" cx="2260.55" cy="-18" rx="64.99" ry="18"/>
<text text-anchor="middle" x="2260.55" y="-14.3" font-family="Arial" font-size="14.00">Return Config</text>
</g>
<!-- error_wasi_exec_model -->
<g id="node4" class="node">
<title>error_wasi_exec_model</title>
<polygon fill="pink" stroke="black" points="276.05,-394 7.05,-394 7.05,-358 276.05,-358 276.05,-394"/>
<text text-anchor="middle" x="141.55" y="-372.3" font-family="Arial" font-size="14.00">return error.WasiExecModelRequiresWasi</text>
</g>
<!-- check_wasi_os&#45;&gt;error_wasi_exec_model -->
<g id="edge1" class="edge">
<title>check_wasi_os&#45;&gt;error_wasi_exec_model</title>
<path fill="none" stroke="black" d="M141.55,-605.7C141.55,-563.62 141.55,-455.63 141.55,-404.55"/>
<polygon fill="black" stroke="black" points="145.05,-404.28 141.55,-394.28 138.05,-404.28 145.05,-404.28"/>
<text text-anchor="middle" x="217.55" y="-517.8" font-family="Arial" font-size="14.00">No</text>
<text text-anchor="middle" x="217.55" y="-502.8" font-family="Arial" font-size="14.00">&amp;&amp; wasi_exec_model set</text>
</g>
<!-- set_wasi_exec_model -->
<g id="node5" class="node">
<title>set_wasi_exec_model</title>
<polygon fill="lightgray" stroke="black" points="684.55,-643 388.55,-643 388.55,-605 684.55,-605 684.55,-643"/>
<text text-anchor="middle" x="536.55" y="-627.8" font-family="Arial" font-size="14.00">wasi_exec_model = options.wasi_exec_model</text>
<text text-anchor="middle" x="536.55" y="-612.8" font-family="Arial" font-size="14.00">orelse .command</text>
</g>
<!-- check_wasi_os&#45;&gt;set_wasi_exec_model -->
<g id="edge2" class="edge">
<title>check_wasi_os&#45;&gt;set_wasi_exec_model</title>
<path fill="none" stroke="black" d="M283.32,-624C314.07,-624 346.78,-624 378.12,-624"/>
<polygon fill="black" stroke="black" points="378.25,-627.5 388.25,-624 378.25,-620.5 378.25,-627.5"/>
<text text-anchor="middle" x="335.83" y="-630.8" font-family="Arial" font-size="14.00">Yes/Default</text>
</g>
<!-- check_wasm_arch -->
<g id="node6" class="node">
<title>check_wasm_arch</title>
<polygon fill="lightgray" stroke="black" points="536.55,-532 375.01,-514 536.55,-496 698.09,-514 536.55,-532"/>
<text text-anchor="middle" x="536.55" y="-510.3" font-family="Arial" font-size="14.00">target.cpu.arch.isWasm()?</text>
</g>
<!-- set_wasi_exec_model&#45;&gt;check_wasm_arch -->
<g id="edge14" class="edge">
<title>set_wasi_exec_model&#45;&gt;check_wasm_arch</title>
<path fill="none" stroke="black" d="M536.55,-604.68C536.55,-587.62 536.55,-561.96 536.55,-542.45"/>
<polygon fill="black" stroke="black" points="540.05,-542.34 536.55,-532.34 533.05,-542.34 540.05,-542.34"/>
</g>
<!-- error_shared_memory_wasm -->
<g id="node7" class="node">
<title>error_shared_memory_wasm</title>
<polygon fill="pink" stroke="black" points="666.05,-394 407.05,-394 407.05,-358 666.05,-358 666.05,-394"/>
<text text-anchor="middle" x="536.55" y="-372.3" font-family="Arial" font-size="14.00">return error.SharedMemoryIsWasmOnly</text>
</g>
<!-- check_wasm_arch&#45;&gt;error_shared_memory_wasm -->
<g id="edge3" class="edge">
<title>check_wasm_arch&#45;&gt;error_shared_memory_wasm</title>
<path fill="none" stroke="black" d="M536.55,-495.78C536.55,-472.68 536.55,-431.43 536.55,-404.14"/>
<polygon fill="black" stroke="black" points="540.05,-404.08 536.55,-394.08 533.05,-404.08 540.05,-404.08"/>
<text text-anchor="middle" x="621.05" y="-448.8" font-family="Arial" font-size="14.00">No</text>
<text text-anchor="middle" x="621.05" y="-433.8" font-family="Arial" font-size="14.00">&amp;&amp; shared_memory == true</text>
</g>
<!-- check_output_mode -->
<g id="node8" class="node">
<title>check_output_mode</title>
<polygon fill="lightgray" stroke="black" points="953.55,-532 769.89,-514 953.55,-496 1137.21,-514 953.55,-532"/>
<text text-anchor="middle" x="953.55" y="-510.3" font-family="Arial" font-size="14.00">options.output_mode == .Obj?</text>
</g>
<!-- check_wasm_arch&#45;&gt;check_output_mode -->
<g id="edge4" class="edge">
<title>check_wasm_arch&#45;&gt;check_output_mode</title>
<path fill="none" stroke="black" d="M698.37,-514C718.44,-514 739.11,-514 759.6,-514"/>
<polygon fill="black" stroke="black" points="759.64,-517.5 769.64,-514 759.64,-510.5 759.64,-517.5"/>
<text text-anchor="middle" x="734.02" y="-520.8" font-family="Arial" font-size="14.00">Yes</text>
</g>
<!-- error_obj_shared_memory -->
<g id="node9" class="node">
<title>error_obj_shared_memory</title>
<polygon fill="pink" stroke="black" points="1096.05,-394 811.05,-394 811.05,-358 1096.05,-358 1096.05,-394"/>
<text text-anchor="middle" x="953.55" y="-372.3" font-family="Arial" font-size="14.00">return error.ObjectFilesCannotShareMemory</text>
</g>
<!-- check_output_mode&#45;&gt;error_obj_shared_memory -->
<g id="edge5" class="edge">
<title>check_output_mode&#45;&gt;error_obj_shared_memory</title>
<path fill="none" stroke="black" d="M953.55,-495.78C953.55,-472.68 953.55,-431.43 953.55,-404.14"/>
<polygon fill="black" stroke="black" points="957.05,-404.08 953.55,-394.08 950.05,-404.08 957.05,-404.08"/>
<text text-anchor="middle" x="1038.05" y="-448.8" font-family="Arial" font-size="14.00">Yes</text>
<text text-anchor="middle" x="1038.05" y="-433.8" font-family="Arial" font-size="14.00">&amp;&amp; shared_memory == true</text>
</g>
<!-- check_atomics -->
<g id="node10" class="node">
<title>check_atomics</title>
<polygon fill="lightgray" stroke="black" points="1390.55,-532 1208.56,-514 1390.55,-496 1572.54,-514 1390.55,-532"/>
<text text-anchor="middle" x="1390.55" y="-510.3" font-family="Arial" font-size="14.00">Has atomics &amp; bulk_memory?</text>
</g>
<!-- check_output_mode&#45;&gt;check_atomics -->
<g id="edge6" class="edge">
<title>check_output_mode&#45;&gt;check_atomics</title>
<path fill="none" stroke="black" d="M1137.29,-514C1157.46,-514 1178.04,-514 1198.3,-514"/>
<polygon fill="black" stroke="black" points="1198.55,-517.5 1208.55,-514 1198.55,-510.5 1198.55,-517.5"/>
<text text-anchor="middle" x="1172.97" y="-520.8" font-family="Arial" font-size="14.00">No</text>
</g>
<!-- error_atomics_required -->
<g id="node11" class="node">
<title>error_atomics_required</title>
<polygon fill="pink" stroke="black" points="1582.55,-394 1198.55,-394 1198.55,-358 1582.55,-358 1582.55,-394"/>
<text text-anchor="middle" x="1390.55" y="-372.3" font-family="Arial" font-size="14.00">return error.SharedMemoryRequiresAtomicsAndBulkMemory</text>
</g>
<!-- check_atomics&#45;&gt;error_atomics_required -->
<g id="edge7" class="edge">
<title>check_atomics&#45;&gt;error_atomics_required</title>
<path fill="none" stroke="black" d="M1390.55,-495.78C1390.55,-472.68 1390.55,-431.43 1390.55,-404.14"/>
<polygon fill="black" stroke="black" points="1394.05,-404.08 1390.55,-394.08 1387.05,-404.08 1394.05,-404.08"/>
<text text-anchor="middle" x="1475.05" y="-448.8" font-family="Arial" font-size="14.00">No</text>
<text text-anchor="middle" x="1475.05" y="-433.8" font-family="Arial" font-size="14.00">&amp;&amp; shared_memory == true</text>
</g>
<!-- check_threads -->
<g id="node12" class="node">
<title>check_threads</title>
<polygon fill="lightgray" stroke="black" points="1852.55,-532 1643.75,-514 1852.55,-496 2061.35,-514 1852.55,-532"/>
<text text-anchor="middle" x="1852.55" y="-510.3" font-family="Arial" font-size="14.00">options.any_non_single_threaded?</text>
</g>
<!-- check_atomics&#45;&gt;check_threads -->
<g id="edge8" class="edge">
<title>check_atomics&#45;&gt;check_threads</title>
<path fill="none" stroke="black" d="M1572.81,-514C1592.68,-514 1613.04,-514 1633.29,-514"/>
<polygon fill="black" stroke="black" points="1633.53,-517.5 1643.53,-514 1633.53,-510.5 1633.53,-517.5"/>
<text text-anchor="middle" x="1608.22" y="-520.8" font-family="Arial" font-size="14.00">Yes</text>
</g>
<!-- error_threads_require_shared -->
<g id="node13" class="node">
<title>error_threads_require_shared</title>
<polygon fill="pink" stroke="black" points="1943.55,-394 1665.55,-394 1665.55,-358 1943.55,-358 1943.55,-394"/>
<text text-anchor="middle" x="1804.55" y="-372.3" font-family="Arial" font-size="14.00">return error.ThreadsRequireSharedMemory</text>
</g>
<!-- check_threads&#45;&gt;error_threads_require_shared -->
<g id="edge9" class="edge">
<title>check_threads&#45;&gt;error_threads_require_shared</title>
<path fill="none" stroke="black" d="M1846.66,-496.32C1838.54,-473.3 1823.79,-431.52 1814.09,-404.02"/>
<polygon fill="black" stroke="black" points="1817.26,-402.51 1810.64,-394.24 1810.66,-404.84 1817.26,-402.51"/>
<text text-anchor="middle" x="1920.55" y="-448.8" font-family="Arial" font-size="14.00">Yes</text>
<text text-anchor="middle" x="1920.55" y="-433.8" font-family="Arial" font-size="14.00">&amp;&amp; shared_memory == false</text>
</g>
<!-- set_shared_memory -->
<g id="node14" class="node">
<title>set_shared_memory</title>
<polygon fill="lightgray" stroke="black" points="2197.55,-394 1979.55,-394 1979.55,-358 2197.55,-358 2197.55,-394"/>
<text text-anchor="middle" x="2088.55" y="-372.3" font-family="Arial" font-size="14.00">shared_memory = resolved value</text>
</g>
<!-- check_threads&#45;&gt;set_shared_memory -->
<g id="edge10" class="edge">
<title>check_threads&#45;&gt;set_shared_memory</title>
<path fill="none" stroke="black" d="M1912.43,-501.14C1944.24,-492.96 1982.97,-479.91 2013.55,-460 2036.77,-444.89 2057.4,-420.84 2071.12,-402.52"/>
<polygon fill="black" stroke="black" points="2074.23,-404.19 2077.28,-394.04 2068.57,-400.07 2074.23,-404.19"/>
<text text-anchor="middle" x="2141.55" y="-448.8" font-family="Arial" font-size="14.00">Yes → true</text>
<text text-anchor="middle" x="2141.55" y="-433.8" font-family="Arial" font-size="14.00">No → options.shared_memory</text>
</g>
<!-- check_llvm_available -->
<g id="node15" class="node">
<title>check_llvm_available</title>
<polygon fill="lightgray" stroke="black" points="2088.55,-285 2009.46,-267 2088.55,-249 2167.65,-267 2088.55,-285"/>
<text text-anchor="middle" x="2088.55" y="-263.3" font-family="Arial" font-size="14.00">have_llvm?</text>
</g>
<!-- set_shared_memory&#45;&gt;check_llvm_available -->
<g id="edge15" class="edge">
<title>set_shared_memory&#45;&gt;check_llvm_available</title>
<path fill="none" stroke="black" d="M2088.55,-357.81C2088.55,-340.96 2088.55,-315.02 2088.55,-295.34"/>
<polygon fill="black" stroke="black" points="2092.05,-295.15 2088.55,-285.15 2085.05,-295.15 2092.05,-295.15"/>
</g>
<!-- error_llvm_unavailable -->
<g id="node16" class="node">
<title>error_llvm_unavailable</title>
<polygon fill="pink" stroke="black" points="2109.55,-146 1881.55,-146 1881.55,-110 2109.55,-110 2109.55,-146"/>
<text text-anchor="middle" x="1995.55" y="-124.3" font-family="Arial" font-size="14.00">return error.LlvmLibraryUnavailable</text>
</g>
<!-- check_llvm_available&#45;&gt;error_llvm_unavailable -->
<g id="edge11" class="edge">
<title>check_llvm_available&#45;&gt;error_llvm_unavailable</title>
<path fill="none" stroke="black" d="M2070.65,-253.05C2058.08,-243.22 2041.61,-228.74 2030.55,-213 2018.36,-195.66 2009.34,-173.42 2003.51,-156.19"/>
<polygon fill="black" stroke="black" points="2006.68,-154.64 2000.29,-146.19 2000.02,-156.78 2006.68,-154.64"/>
<text text-anchor="middle" x="2103.05" y="-201.8" font-family="Arial" font-size="14.00">No</text>
<text text-anchor="middle" x="2103.05" y="-186.8" font-family="Arial" font-size="14.00">&amp;&amp; use_lib_llvm == true</text>
</g>
<!-- set_use_lib_llvm -->
<g id="node17" class="node">
<title>set_use_lib_llvm</title>
<polygon fill="lightgray" stroke="black" points="2375.55,-147 2145.55,-147 2145.55,-109 2375.55,-109 2375.55,-147"/>
<text text-anchor="middle" x="2260.55" y="-131.8" font-family="Arial" font-size="14.00">use_lib_llvm = options.use_lib_llvm</text>
<text text-anchor="middle" x="2260.55" y="-116.8" font-family="Arial" font-size="14.00">orelse true</text>
</g>
<!-- check_llvm_available&#45;&gt;set_use_lib_llvm -->
<g id="edge12" class="edge">
<title>check_llvm_available&#45;&gt;set_use_lib_llvm</title>
<path fill="none" stroke="black" d="M2112.8,-254.46C2132.07,-244.74 2159.25,-229.75 2180.55,-213 2202.52,-195.73 2224.17,-172.51 2239.4,-154.85"/>
<polygon fill="black" stroke="black" points="2242.12,-157.06 2245.92,-147.18 2236.78,-152.53 2242.12,-157.06"/>
<text text-anchor="middle" x="2224.05" y="-194.3" font-family="Arial" font-size="14.00">Yes</text>
</g>
<!-- set_use_lib_llvm&#45;&gt;end -->
</g>
</svg>
