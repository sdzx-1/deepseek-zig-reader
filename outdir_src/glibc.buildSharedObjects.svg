<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="714pt" height="1100pt"
 viewBox="0.00 0.00 713.50 1100.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1096)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1096 709.5,-1096 709.5,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="none" stroke="black" cx="195.5" cy="-1074" rx="29.5" ry="18"/>
<text text-anchor="middle" x="195.5" y="-1070.3" font-family="Helvetica,sans-Serif" font-size="14.00">开始</text>
</g>
<!-- check_llvm -->
<g id="node2" class="node">
<title>check_llvm</title>
<polygon fill="none" stroke="black" points="250,-1019 141,-1019 141,-983 250,-983 250,-1019"/>
<text text-anchor="middle" x="195.5" y="-997.3" font-family="Helvetica,sans-Serif" font-size="14.00">检查LLVM支持</text>
</g>
<!-- start&#45;&gt;check_llvm -->
<g id="edge1" class="edge">
<title>start&#45;&gt;check_llvm</title>
<path fill="none" stroke="black" d="M195.5,-1055.81C195.5,-1047.79 195.5,-1038.05 195.5,-1029.07"/>
<polygon fill="black" stroke="black" points="199,-1029.03 195.5,-1019.03 192,-1029.03 199,-1029.03"/>
</g>
<!-- error_llvm -->
<g id="node3" class="node">
<title>error_llvm</title>
<polygon fill="none" stroke="black" points="299,-932 0,-932 0,-894 299,-894 299,-932"/>
<text text-anchor="middle" x="149.5" y="-916.8" font-family="Helvetica,sans-Serif" font-size="14.00">返回错误</text>
<text text-anchor="middle" x="149.5" y="-901.8" font-family="Helvetica,sans-Serif" font-size="14.00">ZigCompilerNotBuiltWithLLVMExtensions</text>
</g>
<!-- check_llvm&#45;&gt;error_llvm -->
<g id="edge2" class="edge">
<title>check_llvm&#45;&gt;error_llvm</title>
<path fill="none" stroke="black" d="M186.19,-982.6C179.83,-970.71 171.28,-954.73 164.04,-941.18"/>
<polygon fill="black" stroke="black" points="167.07,-939.44 159.27,-932.27 160.9,-942.74 167.07,-939.44"/>
<text text-anchor="middle" x="212.5" y="-953.8" font-family="Times,serif" font-size="14.00">没有LLVM</text>
</g>
<!-- init_arena -->
<g id="node4" class="node">
<title>init_arena</title>
<polygon fill="none" stroke="black" points="520,-931 317,-931 317,-895 520,-895 520,-931"/>
<text text-anchor="middle" x="418.5" y="-909.3" font-family="Helvetica,sans-Serif" font-size="14.00">初始化ArenaAllocator和缓存</text>
</g>
<!-- check_llvm&#45;&gt;init_arena -->
<g id="edge3" class="edge">
<title>check_llvm&#45;&gt;init_arena</title>
<path fill="none" stroke="black" d="M239.82,-982.91C275.77,-969.04 326.57,-949.45 364.82,-934.7"/>
<polygon fill="black" stroke="black" points="366.19,-937.93 374.26,-931.06 363.67,-931.39 366.19,-937.93"/>
<text text-anchor="middle" x="348" y="-953.8" font-family="Times,serif" font-size="14.00">有LLVM</text>
</g>
<!-- get_target -->
<g id="node5" class="node">
<title>get_target</title>
<polygon fill="none" stroke="black" points="491,-857 346,-857 346,-821 491,-821 491,-857"/>
<text text-anchor="middle" x="418.5" y="-835.3" font-family="Helvetica,sans-Serif" font-size="14.00">获取目标平台和版本</text>
</g>
<!-- init_arena&#45;&gt;get_target -->
<g id="edge4" class="edge">
<title>init_arena&#45;&gt;get_target</title>
<path fill="none" stroke="black" d="M418.5,-894.94C418.5,-886.81 418.5,-876.88 418.5,-867.7"/>
<polygon fill="black" stroke="black" points="422,-867.44 418.5,-857.44 415,-867.44 422,-867.44"/>
</g>
<!-- load_metadata -->
<g id="node6" class="node">
<title>load_metadata</title>
<polygon fill="none" stroke="black" points="492,-784 345,-784 345,-748 492,-748 492,-784"/>
<text text-anchor="middle" x="418.5" y="-762.3" font-family="Helvetica,sans-Serif" font-size="14.00">加载元数据(abilists)</text>
</g>
<!-- get_target&#45;&gt;load_metadata -->
<g id="edge5" class="edge">
<title>get_target&#45;&gt;load_metadata</title>
<path fill="none" stroke="black" d="M418.5,-820.81C418.5,-812.79 418.5,-803.05 418.5,-794.07"/>
<polygon fill="black" stroke="black" points="422,-794.03 418.5,-784.03 415,-794.03 422,-794.03"/>
</g>
<!-- find_target_index -->
<g id="node7" class="node">
<title>find_target_index</title>
<polygon fill="none" stroke="black" points="484,-711 353,-711 353,-675 484,-675 484,-711"/>
<text text-anchor="middle" x="418.5" y="-689.3" font-family="Helvetica,sans-Serif" font-size="14.00">查找目标平台索引</text>
</g>
<!-- load_metadata&#45;&gt;find_target_index -->
<g id="edge6" class="edge">
<title>load_metadata&#45;&gt;find_target_index</title>
<path fill="none" stroke="black" d="M418.5,-747.81C418.5,-739.79 418.5,-730.05 418.5,-721.07"/>
<polygon fill="black" stroke="black" points="422,-721.03 418.5,-711.03 415,-721.03 422,-721.03"/>
</g>
<!-- find_version_index -->
<g id="node8" class="node">
<title>find_version_index</title>
<polygon fill="none" stroke="black" points="469.5,-638 367.5,-638 367.5,-602 469.5,-602 469.5,-638"/>
<text text-anchor="middle" x="418.5" y="-616.3" font-family="Helvetica,sans-Serif" font-size="14.00">查找版本索引</text>
</g>
<!-- find_target_index&#45;&gt;find_version_index -->
<g id="edge7" class="edge">
<title>find_target_index&#45;&gt;find_version_index</title>
<path fill="none" stroke="black" d="M418.5,-674.81C418.5,-666.79 418.5,-657.05 418.5,-648.07"/>
<polygon fill="black" stroke="black" points="422,-648.03 418.5,-638.03 415,-648.03 422,-648.03"/>
</g>
<!-- warn_version -->
<g id="node9" class="node">
<title>warn_version</title>
<polygon fill="none" stroke="black" points="425.5,-497 237.5,-497 237.5,-461 425.5,-461 425.5,-497"/>
<text text-anchor="middle" x="331.5" y="-475.3" font-family="Helvetica,sans-Serif" font-size="14.00">警告版本不兼容并返回错误</text>
</g>
<!-- find_version_index&#45;&gt;warn_version -->
<g id="edge8" class="edge">
<title>find_version_index&#45;&gt;warn_version</title>
<path fill="none" stroke="black" d="M407.83,-601.96C392.77,-577.88 365.13,-533.74 347.57,-505.68"/>
<polygon fill="black" stroke="black" points="350.53,-503.8 342.26,-497.18 344.59,-507.52 350.53,-503.8"/>
<text text-anchor="middle" x="425.5" y="-572.8" font-family="Times,serif" font-size="14.00">版本过高</text>
</g>
<!-- generate_map -->
<g id="node10" class="node">
<title>generate_map</title>
<polygon fill="none" stroke="black" points="593.5,-551 429.5,-551 429.5,-515 593.5,-515 593.5,-551"/>
<text text-anchor="middle" x="511.5" y="-529.3" font-family="Helvetica,sans-Serif" font-size="14.00">生成映射文件(all.map)</text>
</g>
<!-- find_version_index&#45;&gt;generate_map -->
<g id="edge9" class="edge">
<title>find_version_index&#45;&gt;generate_map</title>
<path fill="none" stroke="black" d="M437.32,-601.8C451.06,-589.24 469.87,-572.05 485.11,-558.12"/>
<polygon fill="black" stroke="black" points="487.69,-560.51 492.71,-551.18 482.97,-555.34 487.69,-560.51"/>
<text text-anchor="middle" x="514.5" y="-572.8" font-family="Times,serif" font-size="14.00">找到有效版本</text>
</g>
<!-- queue_result -->
<g id="node18" class="node">
<title>queue_result</title>
<polygon fill="none" stroke="black" points="406,-269 261,-269 261,-233 406,-233 406,-269"/>
<text text-anchor="middle" x="333.5" y="-247.3" font-family="Helvetica,sans-Serif" font-size="14.00">返回生成的共享对象</text>
</g>
<!-- warn_version&#45;&gt;queue_result -->
<g id="edge20" class="edge">
<title>warn_version&#45;&gt;queue_result</title>
<path fill="none" stroke="black" d="M331.65,-460.64C332,-421.52 332.84,-326.21 333.26,-279.17"/>
<polygon fill="black" stroke="black" points="336.76,-279.14 333.35,-269.11 329.76,-279.08 336.76,-279.14"/>
<text text-anchor="middle" x="361.5" y="-377.8" font-family="Times,serif" font-size="14.00">终止流程</text>
</g>
<!-- loop_libs -->
<g id="node11" class="node">
<title>loop_libs</title>
<polygon fill="none" stroke="black" points="590.5,-443 468.5,-443 468.5,-407 590.5,-407 590.5,-443"/>
<text text-anchor="middle" x="529.5" y="-421.3" font-family="Helvetica,sans-Serif" font-size="14.00">遍历每个库(libs)</text>
</g>
<!-- generate_map&#45;&gt;loop_libs -->
<g id="edge10" class="edge">
<title>generate_map&#45;&gt;loop_libs</title>
<path fill="none" stroke="black" d="M514.39,-514.97C517.21,-498.38 521.54,-472.88 524.84,-453.43"/>
<polygon fill="black" stroke="black" points="528.33,-453.79 526.56,-443.34 521.43,-452.61 528.33,-453.79"/>
</g>
<!-- check_lib_removed -->
<g id="node12" class="node">
<title>check_lib_removed</title>
<polygon fill="none" stroke="black" points="605,-356 474,-356 474,-320 605,-320 605,-356"/>
<text text-anchor="middle" x="539.5" y="-334.3" font-family="Helvetica,sans-Serif" font-size="14.00">检查库是否被移除</text>
</g>
<!-- loop_libs&#45;&gt;check_lib_removed -->
<g id="edge11" class="edge">
<title>loop_libs&#45;&gt;check_lib_removed</title>
<path fill="none" stroke="black" d="M558.94,-406.71C564.82,-401.79 570.19,-395.86 573.5,-389 577.59,-380.53 574.65,-371.86 569.1,-364.18"/>
<polygon fill="black" stroke="black" points="571.46,-361.55 562.27,-356.28 566.16,-366.13 571.46,-361.55"/>
</g>
<!-- write_manifest -->
<g id="node17" class="node">
<title>write_manifest</title>
<polygon fill="none" stroke="black" points="455.5,-356 353.5,-356 353.5,-320 455.5,-320 455.5,-356"/>
<text text-anchor="middle" x="404.5" y="-334.3" font-family="Helvetica,sans-Serif" font-size="14.00">写入缓存清单</text>
</g>
<!-- loop_libs&#45;&gt;write_manifest -->
<g id="edge18" class="edge">
<title>loop_libs&#45;&gt;write_manifest</title>
<path fill="none" stroke="black" d="M468.24,-415.15C450.94,-410.01 433.35,-401.87 420.5,-389 414.36,-382.86 410.58,-374.36 408.24,-366.12"/>
<polygon fill="black" stroke="black" points="411.66,-365.35 406.06,-356.36 404.83,-366.88 411.66,-365.35"/>
<text text-anchor="middle" x="470.5" y="-377.8" font-family="Times,serif" font-size="14.00">所有库处理完毕</text>
</g>
<!-- check_lib_removed&#45;&gt;loop_libs -->
<g id="edge12" class="edge">
<title>check_lib_removed&#45;&gt;loop_libs</title>
<path fill="none" stroke="black" d="M531.77,-356.1C529.62,-361.69 527.58,-368 526.5,-374 525.18,-381.33 525.08,-389.35 525.53,-396.78"/>
<polygon fill="black" stroke="black" points="522.05,-397.13 526.47,-406.76 529.02,-396.47 522.05,-397.13"/>
<text text-anchor="middle" x="548" y="-377.8" font-family="Times,serif" font-size="14.00">已移除</text>
</g>
<!-- generate_stubs -->
<g id="node13" class="node">
<title>generate_stubs</title>
<polygon fill="none" stroke="black" points="619.5,-269 431.5,-269 431.5,-233 619.5,-233 619.5,-269"/>
<text text-anchor="middle" x="525.5" y="-247.3" font-family="Helvetica,sans-Serif" font-size="14.00">生成函数和对象的存根汇编</text>
</g>
<!-- check_lib_removed&#45;&gt;generate_stubs -->
<g id="edge13" class="edge">
<title>check_lib_removed&#45;&gt;generate_stubs</title>
<path fill="none" stroke="black" d="M536.67,-319.8C534.75,-308.16 532.18,-292.55 529.99,-279.24"/>
<polygon fill="black" stroke="black" points="533.41,-278.47 528.33,-269.18 526.5,-279.61 533.41,-278.47"/>
<text text-anchor="middle" x="554" y="-290.8" font-family="Times,serif" font-size="14.00">未移除</text>
</g>
<!-- write_asm -->
<g id="node14" class="node">
<title>write_asm</title>
<polygon fill="none" stroke="black" points="577.5,-182 491.5,-182 491.5,-146 577.5,-146 577.5,-182"/>
<text text-anchor="middle" x="534.5" y="-160.3" font-family="Helvetica,sans-Serif" font-size="14.00">写入.s文件</text>
</g>
<!-- generate_stubs&#45;&gt;write_asm -->
<g id="edge14" class="edge">
<title>generate_stubs&#45;&gt;write_asm</title>
<path fill="none" stroke="black" d="M527.32,-232.8C528.55,-221.16 530.21,-205.55 531.62,-192.24"/>
<polygon fill="black" stroke="black" points="535.11,-192.49 532.68,-182.18 528.15,-191.75 535.11,-192.49"/>
</g>
<!-- build_lib -->
<g id="node15" class="node">
<title>build_lib</title>
<polygon fill="none" stroke="black" points="607.5,-109 519.5,-109 519.5,-73 607.5,-73 607.5,-109"/>
<text text-anchor="middle" x="563.5" y="-87.3" font-family="Helvetica,sans-Serif" font-size="14.00">构建共享库</text>
</g>
<!-- write_asm&#45;&gt;build_lib -->
<g id="edge15" class="edge">
<title>write_asm&#45;&gt;build_lib</title>
<path fill="none" stroke="black" d="M541.52,-145.81C544.87,-137.62 548.95,-127.62 552.68,-118.48"/>
<polygon fill="black" stroke="black" points="556,-119.61 556.54,-109.03 549.52,-116.96 556,-119.61"/>
</g>
<!-- next_lib -->
<g id="node16" class="node">
<title>next_lib</title>
<polygon fill="none" stroke="black" points="642.5,-36 568.5,-36 568.5,0 642.5,0 642.5,-36"/>
<text text-anchor="middle" x="605.5" y="-14.3" font-family="Helvetica,sans-Serif" font-size="14.00">下一个库</text>
</g>
<!-- build_lib&#45;&gt;next_lib -->
<g id="edge16" class="edge">
<title>build_lib&#45;&gt;next_lib</title>
<path fill="none" stroke="black" d="M573.67,-72.81C578.62,-64.44 584.68,-54.2 590.18,-44.9"/>
<polygon fill="black" stroke="black" points="593.35,-46.42 595.43,-36.03 587.32,-42.85 593.35,-46.42"/>
</g>
<!-- next_lib&#45;&gt;loop_libs -->
<g id="edge17" class="edge">
<title>next_lib&#45;&gt;loop_libs</title>
<path fill="none" stroke="black" d="M622.58,-36.04C634.21,-49.49 647.5,-69.38 647.5,-90 647.5,-339 647.5,-339 647.5,-339 647.5,-368.94 622.18,-389.38 594.99,-402.7"/>
<polygon fill="black" stroke="black" points="593.36,-399.6 585.74,-406.95 596.28,-405.96 593.36,-399.6"/>
<text text-anchor="middle" x="676.5" y="-203.8" font-family="Times,serif" font-size="14.00">继续循环</text>
</g>
<!-- write_manifest&#45;&gt;queue_result -->
<g id="edge19" class="edge">
<title>write_manifest&#45;&gt;queue_result</title>
<path fill="none" stroke="black" d="M390.13,-319.8C379.83,-307.47 365.81,-290.68 354.29,-276.89"/>
<polygon fill="black" stroke="black" points="356.94,-274.61 347.85,-269.18 351.57,-279.09 356.94,-274.61"/>
</g>
<!-- end -->
<g id="node19" class="node">
<title>end</title>
<polygon fill="none" stroke="black" points="360.5,-182 306.5,-182 306.5,-146 360.5,-146 360.5,-182"/>
<text text-anchor="middle" x="333.5" y="-160.3" font-family="Helvetica,sans-Serif" font-size="14.00">end</text>
</g>
<!-- queue_result&#45;&gt;end -->
<g id="edge21" class="edge">
<title>queue_result&#45;&gt;end</title>
<path fill="none" stroke="black" d="M333.5,-232.8C333.5,-221.16 333.5,-205.55 333.5,-192.24"/>
<polygon fill="black" stroke="black" points="337,-192.18 333.5,-182.18 330,-192.18 337,-192.18"/>
<text text-anchor="middle" x="362.5" y="-203.8" font-family="Times,serif" font-size="14.00">返回结果</text>
</g>
</g>
</svg>
