<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="981pt" height="1186pt"
 viewBox="0.00 0.00 981.00 1186.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1182)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1182 977,-1182 977,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<path fill="none" stroke="black" d="M155.5,-1178C155.5,-1178 46.5,-1178 46.5,-1178 40.5,-1178 34.5,-1172 34.5,-1166 34.5,-1166 34.5,-1154 34.5,-1154 34.5,-1148 40.5,-1142 46.5,-1142 46.5,-1142 155.5,-1142 155.5,-1142 161.5,-1142 167.5,-1148 167.5,-1154 167.5,-1154 167.5,-1166 167.5,-1166 167.5,-1172 161.5,-1178 155.5,-1178"/>
<text text-anchor="middle" x="101" y="-1156.3" font-family="Arial" font-size="14.00">开始 updateZirRefs</text>
</g>
<!-- init -->
<g id="node2" class="node">
<title>init</title>
<path fill="none" stroke="black" d="M157,-1105C157,-1105 45,-1105 45,-1105 39,-1105 33,-1099 33,-1093 33,-1093 33,-1064 33,-1064 33,-1058 39,-1052 45,-1052 45,-1052 157,-1052 157,-1052 163,-1052 169,-1058 169,-1064 169,-1064 169,-1093 169,-1093 169,-1099 163,-1105 157,-1105"/>
<text text-anchor="middle" x="101" y="-1089.8" font-family="Arial" font-size="14.00">初始化变量</text>
<text text-anchor="middle" x="101" y="-1074.8" font-family="Arial" font-size="14.00">(zcu, comp, ip, gpa)</text>
<text text-anchor="middle" x="101" y="-1059.8" font-family="Arial" font-size="14.00">创建 updated_files</text>
</g>
<!-- start&#45;&gt;init -->
<g id="edge1" class="edge">
<title>start&#45;&gt;init</title>
<path fill="none" stroke="black" d="M101,-1141.75C101,-1133.99 101,-1124.51 101,-1115.32"/>
<polygon fill="black" stroke="black" points="104.5,-1115.18 101,-1105.18 97.5,-1115.18 104.5,-1115.18"/>
</g>
<!-- cleanup -->
<g id="node3" class="node">
<title>cleanup</title>
<path fill="none" stroke="black" d="M166,-1015C166,-1015 12,-1015 12,-1015 6,-1015 0,-1009 0,-1003 0,-1003 0,-991 0,-991 0,-985 6,-979 12,-979 12,-979 166,-979 166,-979 172,-979 178,-985 178,-991 178,-991 178,-1003 178,-1003 178,-1009 172,-1015 166,-1015"/>
<text text-anchor="middle" x="89" y="-993.3" font-family="Arial" font-size="14.00">defer cleanupUpdatedFiles</text>
</g>
<!-- init&#45;&gt;cleanup -->
<g id="edge2" class="edge">
<title>init&#45;&gt;cleanup</title>
<path fill="none" stroke="black" d="M97.14,-1051.91C95.85,-1043.39 94.41,-1033.87 93.11,-1025.23"/>
<polygon fill="black" stroke="black" points="96.56,-1024.62 91.6,-1015.26 89.64,-1025.67 96.56,-1024.62"/>
</g>
<!-- loop_files -->
<g id="node4" class="node">
<title>loop_files</title>
<path fill="none" stroke="black" d="M421.5,-1015C421.5,-1015 208.5,-1015 208.5,-1015 202.5,-1015 196.5,-1009 196.5,-1003 196.5,-1003 196.5,-991 196.5,-991 196.5,-985 202.5,-979 208.5,-979 208.5,-979 421.5,-979 421.5,-979 427.5,-979 433.5,-985 433.5,-991 433.5,-991 433.5,-1003 433.5,-1003 433.5,-1009 427.5,-1015 421.5,-1015"/>
<text text-anchor="middle" x="315" y="-993.3" font-family="Arial" font-size="14.00">遍历 zcu.import_table 中的每个文件</text>
</g>
<!-- init&#45;&gt;loop_files -->
<g id="edge3" class="edge">
<title>init&#45;&gt;loop_files</title>
<path fill="none" stroke="black" d="M169,-1052.24C198.24,-1041.38 231.96,-1028.85 259.63,-1018.57"/>
<polygon fill="black" stroke="black" points="261,-1021.8 269.15,-1015.03 258.56,-1015.23 261,-1021.8"/>
</g>
<!-- check_file_mode -->
<g id="node5" class="node">
<title>check_file_mode</title>
<path fill="none" stroke="black" d="M551.22,-1012.73C551.22,-1012.73 481.27,-999.27 481.27,-999.27 475.38,-998.13 475.38,-995.87 481.27,-994.73 481.27,-994.73 551.22,-981.27 551.22,-981.27 557.11,-980.13 568.89,-980.13 574.78,-981.27 574.78,-981.27 644.73,-994.73 644.73,-994.73 650.62,-995.87 650.62,-998.13 644.73,-999.27 644.73,-999.27 574.78,-1012.73 574.78,-1012.73 568.89,-1013.87 557.11,-1013.87 551.22,-1012.73"/>
<text text-anchor="middle" x="563" y="-993.3" font-family="Arial" font-size="14.00">检查文件模式</text>
</g>
<!-- loop_files&#45;&gt;check_file_mode -->
<g id="edge4" class="edge">
<title>loop_files&#45;&gt;check_file_mode</title>
<path fill="none" stroke="black" d="M433.67,-997C442.2,-997 450.74,-997 459.27,-997"/>
<polygon fill="black" stroke="black" points="459.29,-1000.5 469.29,-997 459.29,-993.5 459.29,-1000.5"/>
</g>
<!-- handle_zon -->
<g id="node6" class="node">
<title>handle_zon</title>
<path fill="none" stroke="black" d="M521,-928C521,-928 403,-928 403,-928 397,-928 391,-922 391,-916 391,-916 391,-887 391,-887 391,-881 397,-875 403,-875 403,-875 521,-875 521,-875 527,-875 533,-881 533,-887 533,-887 533,-916 533,-916 533,-922 527,-928 521,-928"/>
<text text-anchor="middle" x="462" y="-912.8" font-family="Arial" font-size="14.00">处理 .zon 文件</text>
<text text-anchor="middle" x="462" y="-897.8" font-family="Arial" font-size="14.00">检查 zoir_invalidated</text>
<text text-anchor="middle" x="462" y="-882.8" font-family="Arial" font-size="14.00">标记依赖失效</text>
</g>
<!-- check_file_mode&#45;&gt;handle_zon -->
<g id="edge5" class="edge">
<title>check_file_mode&#45;&gt;handle_zon</title>
<path fill="none" stroke="black" d="M547.66,-981.8C534.36,-969.48 514.59,-951.18 497.4,-935.27"/>
<polygon fill="black" stroke="black" points="499.43,-932.38 489.71,-928.15 494.67,-937.51 499.43,-932.38"/>
<text text-anchor="middle" x="537" y="-949.8" font-family="Arial" font-size="14.00">.zon</text>
</g>
<!-- handle_zig -->
<g id="node7" class="node">
<title>handle_zig</title>
<path fill="none" stroke="black" d="M677,-928C677,-928 563,-928 563,-928 557,-928 551,-922 551,-916 551,-916 551,-887 551,-887 551,-881 557,-875 563,-875 563,-875 677,-875 677,-875 683,-875 689,-881 689,-887 689,-887 689,-916 689,-916 689,-922 683,-928 677,-928"/>
<text text-anchor="middle" x="620" y="-912.8" font-family="Arial" font-size="14.00">处理 .zig 文件</text>
<text text-anchor="middle" x="620" y="-897.8" font-family="Arial" font-size="14.00">检查旧ZIR是否存在</text>
<text text-anchor="middle" x="620" y="-882.8" font-family="Arial" font-size="14.00">创建新旧ZIR映射</text>
</g>
<!-- check_file_mode&#45;&gt;handle_zig -->
<g id="edge6" class="edge">
<title>check_file_mode&#45;&gt;handle_zig</title>
<path fill="none" stroke="black" d="M572.41,-980.56C579.65,-968.68 589.94,-951.81 599.1,-936.79"/>
<polygon fill="black" stroke="black" points="602.11,-938.57 604.33,-928.21 596.13,-934.92 602.11,-938.57"/>
<text text-anchor="middle" x="604" y="-949.8" font-family="Arial" font-size="14.00">.zig</text>
</g>
<!-- zon_invalid -->
<g id="node8" class="node">
<title>zon_invalid</title>
<path fill="none" stroke="black" d="M306.15,-822.13C306.15,-822.13 215.9,-807.87 215.9,-807.87 209.98,-806.94 209.98,-805.06 215.9,-804.13 215.9,-804.13 306.15,-789.87 306.15,-789.87 312.07,-788.94 323.93,-788.94 329.85,-789.87 329.85,-789.87 420.1,-804.13 420.1,-804.13 426.02,-805.06 426.02,-806.94 420.1,-807.87 420.1,-807.87 329.85,-822.13 329.85,-822.13 323.93,-823.06 312.07,-823.06 306.15,-822.13"/>
<text text-anchor="middle" x="318" y="-802.3" font-family="Arial" font-size="14.00">标记zon文件失效</text>
</g>
<!-- handle_zon&#45;&gt;zon_invalid -->
<g id="edge7" class="edge">
<title>handle_zon&#45;&gt;zon_invalid</title>
<path fill="none" stroke="black" d="M422.65,-874.95C399.08,-859.65 369.6,-840.5 347.93,-826.44"/>
<polygon fill="black" stroke="black" points="349.75,-823.45 339.46,-820.93 345.94,-829.32 349.75,-823.45"/>
</g>
<!-- loop_files_end -->
<g id="node10" class="node">
<title>loop_files_end</title>
<path fill="none" stroke="black" d="M516,-824C516,-824 466,-824 466,-824 460,-824 454,-818 454,-812 454,-812 454,-800 454,-800 454,-794 460,-788 466,-788 466,-788 516,-788 516,-788 522,-788 528,-794 528,-800 528,-800 528,-812 528,-812 528,-818 522,-824 516,-824"/>
<text text-anchor="middle" x="491" y="-802.3" font-family="Arial" font-size="14.00">循环结束</text>
</g>
<!-- handle_zon&#45;&gt;loop_files_end -->
<g id="edge10" class="edge">
<title>handle_zon&#45;&gt;loop_files_end</title>
<path fill="none" stroke="black" d="M469.92,-874.95C473.87,-862.24 478.63,-846.87 482.64,-833.97"/>
<polygon fill="black" stroke="black" points="486.03,-834.83 485.65,-824.24 479.35,-832.76 486.03,-834.83"/>
<text text-anchor="middle" x="494.5" y="-845.8" font-family="Arial" font-size="14.00">继续</text>
</g>
<!-- updated_files_put -->
<g id="node9" class="node">
<title>updated_files_put</title>
<path fill="none" stroke="black" d="M679.5,-824C679.5,-824 560.5,-824 560.5,-824 554.5,-824 548.5,-818 548.5,-812 548.5,-812 548.5,-800 548.5,-800 548.5,-794 554.5,-788 560.5,-788 560.5,-788 679.5,-788 679.5,-788 685.5,-788 691.5,-794 691.5,-800 691.5,-800 691.5,-812 691.5,-812 691.5,-818 685.5,-824 679.5,-824"/>
<text text-anchor="middle" x="620" y="-802.3" font-family="Arial" font-size="14.00">更新到 updated_files</text>
</g>
<!-- handle_zig&#45;&gt;updated_files_put -->
<g id="edge9" class="edge">
<title>handle_zig&#45;&gt;updated_files_put</title>
<path fill="none" stroke="black" d="M620,-874.95C620,-862.36 620,-847.17 620,-834.35"/>
<polygon fill="black" stroke="black" points="623.5,-834.24 620,-824.24 616.5,-834.24 623.5,-834.24"/>
<text text-anchor="middle" x="676" y="-845.8" font-family="Arial" font-size="14.00">存入 updated_files</text>
</g>
<!-- handle_zig&#45;&gt;loop_files_end -->
<g id="edge11" class="edge">
<title>handle_zig&#45;&gt;loop_files_end</title>
<path fill="none" stroke="black" d="M584.75,-874.95C565.47,-860.98 541.77,-843.8 523.02,-830.21"/>
<polygon fill="black" stroke="black" points="524.94,-827.28 514.79,-824.24 520.83,-832.95 524.94,-827.28"/>
<text text-anchor="middle" x="573.5" y="-845.8" font-family="Arial" font-size="14.00">继续</text>
</g>
<!-- zon_invalid&#45;&gt;loop_files -->
<g id="edge8" class="edge">
<title>zon_invalid&#45;&gt;loop_files</title>
<path fill="none" stroke="black" d="M317.73,-824.2C317.2,-857.09 316.06,-929.11 315.43,-968.66"/>
<polygon fill="black" stroke="black" points="311.93,-968.84 315.27,-978.89 318.93,-968.95 311.93,-968.84"/>
<text text-anchor="middle" x="346" y="-897.8" font-family="Arial" font-size="14.00">继续循环</text>
</g>
<!-- check_empty -->
<g id="node11" class="node">
<title>check_empty</title>
<path fill="none" stroke="black" d="M479.08,-735.59C479.08,-735.59 351.09,-720.41 351.09,-720.41 345.14,-719.71 345.14,-718.29 351.09,-717.59 351.09,-717.59 479.08,-702.41 479.08,-702.41 485.04,-701.71 496.96,-701.71 502.92,-702.41 502.92,-702.41 630.91,-717.59 630.91,-717.59 636.86,-718.29 636.86,-719.71 630.91,-720.41 630.91,-720.41 502.92,-735.59 502.92,-735.59 496.96,-736.29 485.04,-736.29 479.08,-735.59"/>
<text text-anchor="middle" x="491" y="-715.3" font-family="Arial" font-size="14.00">updated_files 是否为空?</text>
</g>
<!-- loop_files_end&#45;&gt;check_empty -->
<g id="edge12" class="edge">
<title>loop_files_end&#45;&gt;check_empty</title>
<path fill="none" stroke="black" d="M491,-787.8C491,-776.16 491,-760.55 491,-747.24"/>
<polygon fill="black" stroke="black" points="494.5,-747.18 491,-737.18 487.5,-747.18 494.5,-747.18"/>
<text text-anchor="middle" x="548.5" y="-758.8" font-family="Arial" font-size="14.00">所有文件处理完毕</text>
</g>
<!-- process_locals -->
<g id="node12" class="node">
<title>process_locals</title>
<path fill="none" stroke="black" d="M527,-650C527,-650 351,-650 351,-650 345,-650 339,-644 339,-638 339,-638 339,-626 339,-626 339,-620 345,-614 351,-614 351,-614 527,-614 527,-614 533,-614 539,-620 539,-626 539,-626 539,-638 539,-638 539,-644 533,-650 527,-650"/>
<text text-anchor="middle" x="439" y="-628.3" font-family="Arial" font-size="14.00">遍历 ip.locals 的每个本地变量</text>
</g>
<!-- check_empty&#45;&gt;process_locals -->
<g id="edge13" class="edge">
<title>check_empty&#45;&gt;process_locals</title>
<path fill="none" stroke="black" d="M485.21,-701.63C481.31,-691.56 475.67,-678.6 469,-668 466.86,-664.59 464.4,-661.17 461.83,-657.88"/>
<polygon fill="black" stroke="black" points="464.4,-655.5 455.33,-650.02 459,-659.95 464.4,-655.5"/>
<text text-anchor="middle" x="491.5" y="-671.8" font-family="Arial" font-size="14.00">非空</text>
</g>
<!-- check_empty&#45;&gt;process_locals -->
<g id="edge15" class="edge">
<title>check_empty&#45;&gt;process_locals</title>
<path fill="none" stroke="black" d="M458.66,-704.72C449.71,-699.37 441.07,-692.23 436,-683 432.26,-676.19 431.5,-668.04 432.09,-660.31"/>
<polygon fill="black" stroke="black" points="435.58,-660.62 433.58,-650.21 428.66,-659.59 435.58,-660.62"/>
<text text-anchor="middle" x="450.5" y="-671.8" font-family="Arial" font-size="14.00">非空</text>
</g>
<!-- end -->
<g id="node13" class="node">
<title>end</title>
<path fill="none" stroke="black" d="M937,-285C937,-285 907,-285 907,-285 901,-285 895,-279 895,-273 895,-273 895,-261 895,-261 895,-255 901,-249 907,-249 907,-249 937,-249 937,-249 943,-249 949,-255 949,-261 949,-261 949,-273 949,-273 949,-279 943,-285 937,-285"/>
<text text-anchor="middle" x="922" y="-263.3" font-family="Arial" font-size="14.00">返回</text>
</g>
<!-- check_empty&#45;&gt;end -->
<g id="edge14" class="edge">
<title>check_empty&#45;&gt;end</title>
<path fill="none" stroke="black" d="M576.11,-711.05C710.81,-698.9 958,-671.37 958,-633 958,-633 958,-633 958,-353 958,-331.97 948.54,-310.16 939.32,-293.9"/>
<polygon fill="black" stroke="black" points="942.13,-291.79 933.99,-285.02 936.13,-295.39 942.13,-291.79"/>
<text text-anchor="middle" x="965.5" y="-497.8" font-family="Arial" font-size="14.00">空</text>
</g>
<!-- loop_locals -->
<g id="node14" class="node">
<title>loop_locals</title>
<path fill="none" stroke="black" d="M711.5,-650C711.5,-650 586.5,-650 586.5,-650 580.5,-650 574.5,-644 574.5,-638 574.5,-638 574.5,-626 574.5,-626 574.5,-620 580.5,-614 586.5,-614 586.5,-614 711.5,-614 711.5,-614 717.5,-614 723.5,-620 723.5,-626 723.5,-626 723.5,-638 723.5,-638 723.5,-644 717.5,-650 711.5,-650"/>
<text text-anchor="middle" x="649" y="-628.3" font-family="Arial" font-size="14.00">处理每个 tracked_inst</text>
</g>
<!-- process_locals&#45;&gt;loop_locals -->
<g id="edge16" class="edge">
<title>process_locals&#45;&gt;loop_locals</title>
<path fill="none" stroke="black" d="M539.08,-632C547.42,-632 555.77,-632 564.11,-632"/>
<polygon fill="black" stroke="black" points="564.29,-635.5 574.29,-632 564.29,-628.5 564.29,-635.5"/>
</g>
<!-- check_file_in_updated -->
<g id="node15" class="node">
<title>check_file_in_updated</title>
<path fill="none" stroke="black" d="M185.06,-561.81C185.06,-561.81 27.79,-546.19 27.79,-546.19 21.82,-545.59 21.82,-544.41 27.79,-543.81 27.79,-543.81 185.06,-528.19 185.06,-528.19 191.03,-527.59 202.97,-527.59 208.94,-528.19 208.94,-528.19 366.21,-543.81 366.21,-543.81 372.18,-544.41 372.18,-545.59 366.21,-546.19 366.21,-546.19 208.94,-561.81 208.94,-561.81 202.97,-562.41 191.03,-562.41 185.06,-561.81"/>
<text text-anchor="middle" x="197" y="-541.3" font-family="Arial" font-size="14.00">文件是否在 updated_files 中?</text>
</g>
<!-- loop_locals&#45;&gt;check_file_in_updated -->
<g id="edge17" class="edge">
<title>loop_locals&#45;&gt;check_file_in_updated</title>
<path fill="none" stroke="black" d="M574.36,-616.96C488.7,-600.86 349.36,-574.65 266.1,-558.99"/>
<polygon fill="black" stroke="black" points="266.71,-555.55 256.23,-557.14 265.41,-562.43 266.71,-555.55"/>
</g>
<!-- loop_locals_end -->
<g id="node26" class="node">
<title>loop_locals_end</title>
<path fill="none" stroke="black" d="M918,-563C918,-563 760,-563 760,-563 754,-563 748,-557 748,-551 748,-551 748,-539 748,-539 748,-533 754,-527 760,-527 760,-527 918,-527 918,-527 924,-527 930,-533 930,-539 930,-539 930,-551 930,-551 930,-557 924,-563 918,-563"/>
<text text-anchor="middle" x="839" y="-541.3" font-family="Arial" font-size="14.00">所有 tracked_inst 处理完毕</text>
</g>
<!-- loop_locals&#45;&gt;loop_locals_end -->
<g id="edge34" class="edge">
<title>loop_locals&#45;&gt;loop_locals_end</title>
<path fill="none" stroke="black" d="M691.56,-614C705.18,-608.42 720.29,-602.08 734,-596 754.21,-587.04 776.34,-576.59 795.05,-567.57"/>
<polygon fill="black" stroke="black" points="796.74,-570.65 804.22,-563.14 793.69,-564.34 796.74,-570.65"/>
<text text-anchor="middle" x="794" y="-584.8" font-family="Arial" font-size="14.00">循环结束</text>
</g>
<!-- check_file_in_updated&#45;&gt;loop_locals -->
<g id="edge19" class="edge">
<title>check_file_in_updated&#45;&gt;loop_locals</title>
<path fill="none" stroke="black" d="M222.03,-560.61C243.53,-572.38 275.76,-588.21 306,-596 410.44,-622.91 440.93,-601.04 548,-614 553.35,-614.65 558.85,-615.38 564.39,-616.17"/>
<polygon fill="black" stroke="black" points="563.97,-619.65 574.38,-617.64 564.99,-612.72 563.97,-619.65"/>
<text text-anchor="middle" x="349" y="-584.8" font-family="Arial" font-size="14.00">不存在，继续</text>
</g>
<!-- handle_mapping -->
<g id="node16" class="node">
<title>handle_mapping</title>
<path fill="none" stroke="black" d="M535.5,-563C535.5,-563 436.5,-563 436.5,-563 430.5,-563 424.5,-557 424.5,-551 424.5,-551 424.5,-539 424.5,-539 424.5,-533 430.5,-527 436.5,-527 436.5,-527 535.5,-527 535.5,-527 541.5,-527 547.5,-533 547.5,-539 547.5,-539 547.5,-551 547.5,-551 547.5,-557 541.5,-563 535.5,-563"/>
<text text-anchor="middle" x="486" y="-541.3" font-family="Arial" font-size="14.00">检查新旧inst映射</text>
</g>
<!-- check_file_in_updated&#45;&gt;handle_mapping -->
<g id="edge18" class="edge">
<title>check_file_in_updated&#45;&gt;handle_mapping</title>
<path fill="none" stroke="black" d="M378.39,-545C390.89,-545 403,-545 414.3,-545"/>
<polygon fill="black" stroke="black" points="414.45,-548.5 424.45,-545 414.45,-541.5 414.45,-548.5"/>
<text text-anchor="middle" x="401.29" y="-551.8" font-family="Arial" font-size="14.00">存在</text>
</g>
<!-- mapping_failed -->
<g id="node17" class="node">
<title>mapping_failed</title>
<path fill="none" stroke="black" d="M408,-476C408,-476 330,-476 330,-476 324,-476 318,-470 318,-464 318,-464 318,-435 318,-435 318,-429 324,-423 330,-423 330,-423 408,-423 408,-423 414,-423 420,-429 420,-435 420,-435 420,-464 420,-464 420,-470 414,-476 408,-476"/>
<text text-anchor="middle" x="369" y="-460.8" font-family="Arial" font-size="14.00">映射失败</text>
<text text-anchor="middle" x="369" y="-445.8" font-family="Arial" font-size="14.00">标记为 lost</text>
<text text-anchor="middle" x="369" y="-430.8" font-family="Arial" font-size="14.00">触发依赖失效</text>
</g>
<!-- handle_mapping&#45;&gt;mapping_failed -->
<g id="edge20" class="edge">
<title>handle_mapping&#45;&gt;mapping_failed</title>
<path fill="none" stroke="black" d="M462.38,-526.81C454.84,-521.22 446.51,-514.92 439,-509 428.4,-500.63 417.09,-491.35 406.73,-482.69"/>
<polygon fill="black" stroke="black" points="408.93,-479.96 399.02,-476.21 404.43,-485.32 408.93,-479.96"/>
<text text-anchor="middle" x="460.5" y="-497.8" font-family="Arial" font-size="14.00">无映射</text>
</g>
<!-- mapping_success -->
<g id="node18" class="node">
<title>mapping_success</title>
<path fill="none" stroke="black" d="M521.5,-467.5C521.5,-467.5 450.5,-467.5 450.5,-467.5 444.5,-467.5 438.5,-461.5 438.5,-455.5 438.5,-455.5 438.5,-443.5 438.5,-443.5 438.5,-437.5 444.5,-431.5 450.5,-431.5 450.5,-431.5 521.5,-431.5 521.5,-431.5 527.5,-431.5 533.5,-437.5 533.5,-443.5 533.5,-443.5 533.5,-455.5 533.5,-455.5 533.5,-461.5 527.5,-467.5 521.5,-467.5"/>
<text text-anchor="middle" x="486" y="-445.8" font-family="Arial" font-size="14.00">更新inst引用</text>
</g>
<!-- handle_mapping&#45;&gt;mapping_success -->
<g id="edge21" class="edge">
<title>handle_mapping&#45;&gt;mapping_success</title>
<path fill="none" stroke="black" d="M486,-526.85C486,-513.14 486,-493.67 486,-477.82"/>
<polygon fill="black" stroke="black" points="489.5,-477.54 486,-467.54 482.5,-477.54 489.5,-477.54"/>
<text text-anchor="middle" x="507.5" y="-497.8" font-family="Arial" font-size="14.00">有映射</text>
</g>
<!-- check_line_change -->
<g id="node19" class="node">
<title>check_line_change</title>
<path fill="none" stroke="black" d="M238.13,-370.22C238.13,-370.22 141.55,-355.78 141.55,-355.78 135.61,-354.89 135.61,-353.11 141.55,-352.22 141.55,-352.22 238.13,-337.78 238.13,-337.78 244.07,-336.89 255.93,-336.89 261.87,-337.78 261.87,-337.78 358.45,-352.22 358.45,-352.22 364.39,-353.11 364.39,-354.89 358.45,-355.78 358.45,-355.78 261.87,-370.22 261.87,-370.22 255.93,-371.11 244.07,-371.11 238.13,-370.22"/>
<text text-anchor="middle" x="250" y="-350.3" font-family="Arial" font-size="14.00">检查声明行号变更</text>
</g>
<!-- mapping_success&#45;&gt;check_line_change -->
<g id="edge22" class="edge">
<title>mapping_success&#45;&gt;check_line_change</title>
<path fill="none" stroke="black" d="M448.73,-431.46C442.18,-428.57 435.41,-425.65 429,-423 383.08,-404.03 329.77,-384.03 293.35,-370.67"/>
<polygon fill="black" stroke="black" points="294.14,-367.23 283.55,-367.09 291.74,-373.81 294.14,-367.23"/>
</g>
<!-- queue_job -->
<g id="node20" class="node">
<title>queue_job</title>
<path fill="none" stroke="black" d="M202,-285C202,-285 26,-285 26,-285 20,-285 14,-279 14,-273 14,-273 14,-261 14,-261 14,-255 20,-249 26,-249 26,-249 202,-249 202,-249 208,-249 214,-255 214,-261 214,-261 214,-273 214,-273 214,-279 208,-285 202,-285"/>
<text text-anchor="middle" x="114" y="-263.3" font-family="Arial" font-size="14.00">加入队列 update_line_number</text>
</g>
<!-- check_line_change&#45;&gt;queue_job -->
<g id="edge23" class="edge">
<title>check_line_change&#45;&gt;queue_job</title>
<path fill="none" stroke="black" d="M220.53,-340.38C207.19,-334.25 191.44,-326.39 178,-318 165.51,-310.21 152.57,-300.46 141.61,-291.64"/>
<polygon fill="black" stroke="black" points="143.62,-288.76 133.67,-285.13 139.18,-294.17 143.62,-288.76"/>
<text text-anchor="middle" x="207" y="-306.8" font-family="Arial" font-size="14.00">行号变化</text>
</g>
<!-- check_hash -->
<g id="node21" class="node">
<title>check_hash</title>
<path fill="none" stroke="black" d="M102.17,-210C102.17,-210 19.09,-196 19.09,-196 13.17,-195 13.17,-193 19.09,-192 19.09,-192 102.17,-178 102.17,-178 108.08,-177 119.92,-177 125.83,-178 125.83,-178 208.91,-192 208.91,-192 214.83,-193 214.83,-195 208.91,-196 208.91,-196 125.83,-210 125.83,-210 119.92,-211 108.08,-211 102.17,-210"/>
<text text-anchor="middle" x="114" y="-190.3" font-family="Arial" font-size="14.00">检查源哈希变化</text>
</g>
<!-- check_line_change&#45;&gt;check_hash -->
<g id="edge24" class="edge">
<title>check_line_change&#45;&gt;check_hash</title>
<path fill="none" stroke="black" d="M249.78,-335.96C248.65,-313.63 243.59,-274.33 223,-249 207.7,-230.17 184.17,-217.36 162.89,-208.97"/>
<polygon fill="black" stroke="black" points="163.9,-205.61 153.31,-205.42 161.47,-212.17 163.9,-205.61"/>
<text text-anchor="middle" x="263.5" y="-263.3" font-family="Arial" font-size="14.00">未变化</text>
</g>
<!-- queue_job&#45;&gt;check_hash -->
<g id="edge25" class="edge">
<title>queue_job&#45;&gt;check_hash</title>
<path fill="none" stroke="black" d="M114,-248.81C114,-240.79 114,-231.05 114,-222.07"/>
<polygon fill="black" stroke="black" points="117.5,-222.03 114,-212.03 110.5,-222.03 117.5,-222.03"/>
</g>
<!-- mark_hash_dep -->
<g id="node22" class="node">
<title>mark_hash_dep</title>
<path fill="none" stroke="black" d="M473,-124C473,-124 327,-124 327,-124 321,-124 315,-118 315,-112 315,-112 315,-100 315,-100 315,-94 321,-88 327,-88 327,-88 473,-88 473,-88 479,-88 485,-94 485,-100 485,-100 485,-112 485,-112 485,-118 479,-124 473,-124"/>
<text text-anchor="middle" x="400" y="-102.3" font-family="Arial" font-size="14.00">标记依赖失效 (src_hash)</text>
</g>
<!-- check_hash&#45;&gt;mark_hash_dep -->
<g id="edge26" class="edge">
<title>check_hash&#45;&gt;mark_hash_dep</title>
<path fill="none" stroke="black" d="M150.51,-182.02C196.56,-168.17 276.61,-144.1 333.61,-126.96"/>
<polygon fill="black" stroke="black" points="334.69,-130.29 343.26,-124.06 332.68,-123.59 334.69,-130.29"/>
<text text-anchor="middle" x="304" y="-146.8" font-family="Arial" font-size="14.00">哈希变化</text>
</g>
<!-- check_namespace -->
<g id="node23" class="node">
<title>check_namespace</title>
<path fill="none" stroke="black" d="M439.07,-210.74C439.07,-210.74 292.85,-195.26 292.85,-195.26 286.88,-194.63 286.88,-193.37 292.85,-192.74 292.85,-192.74 439.07,-177.26 439.07,-177.26 445.03,-176.63 456.97,-176.63 462.93,-177.26 462.93,-177.26 609.15,-192.74 609.15,-192.74 615.12,-193.37 615.12,-194.63 609.15,-195.26 609.15,-195.26 462.93,-210.74 462.93,-210.74 456.97,-211.37 445.03,-211.37 439.07,-210.74"/>
<text text-anchor="middle" x="451" y="-190.3" font-family="Arial" font-size="14.00">是否为结构体/联合体声明?</text>
</g>
<!-- check_hash&#45;&gt;check_namespace -->
<g id="edge27" class="edge">
<title>check_hash&#45;&gt;check_namespace</title>
<path fill="none" stroke="black" d="M220.63,-194C236.67,-194 253.58,-194 270.65,-194"/>
<polygon fill="black" stroke="black" points="270.71,-197.5 280.71,-194 270.71,-190.5 270.71,-197.5"/>
<text text-anchor="middle" x="250.79" y="-200.8" font-family="Arial" font-size="14.00">未变化</text>
</g>
<!-- mark_hash_dep&#45;&gt;check_namespace -->
<g id="edge28" class="edge">
<title>mark_hash_dep&#45;&gt;check_namespace</title>
<path fill="none" stroke="black" d="M410.25,-124.28C417.71,-136.86 427.92,-154.07 436.25,-168.13"/>
<polygon fill="black" stroke="black" points="433.3,-170.01 441.41,-176.82 439.32,-166.44 433.3,-170.01"/>
</g>
<!-- check_namespace&#45;&gt;loop_locals -->
<g id="edge30" class="edge">
<title>check_namespace&#45;&gt;loop_locals</title>
<path fill="none" stroke="black" d="M510.94,-205.76C543.02,-215.34 576,-233.18 576,-266 576,-546 576,-546 576,-546 576,-570.97 594.35,-592.26 612.65,-607.3"/>
<polygon fill="black" stroke="black" points="610.94,-610.4 620.99,-613.75 615.22,-604.86 610.94,-610.4"/>
<text text-anchor="middle" x="605" y="-393.8" font-family="Arial" font-size="14.00">否，继续</text>
</g>
<!-- compare_namespaces -->
<g id="node24" class="node">
<title>compare_namespaces</title>
<path fill="none" stroke="black" d="M680.5,-125C680.5,-125 537.5,-125 537.5,-125 531.5,-125 525.5,-119 525.5,-113 525.5,-113 525.5,-99 525.5,-99 525.5,-93 531.5,-87 537.5,-87 537.5,-87 680.5,-87 680.5,-87 686.5,-87 692.5,-93 692.5,-99 692.5,-99 692.5,-113 692.5,-113 692.5,-119 686.5,-125 680.5,-125"/>
<text text-anchor="middle" x="609" y="-109.8" font-family="Arial" font-size="14.00">比较新旧命名空间</text>
<text text-anchor="middle" x="609" y="-94.8" font-family="Arial" font-size="14.00">检查名称增减和pub状态</text>
</g>
<!-- check_namespace&#45;&gt;compare_namespaces -->
<g id="edge29" class="edge">
<title>check_namespace&#45;&gt;compare_namespaces</title>
<path fill="none" stroke="black" d="M477.45,-178.61C501.86,-165.32 538.53,-145.36 566.96,-129.88"/>
<polygon fill="black" stroke="black" points="568.77,-132.88 575.88,-125.03 565.42,-126.74 568.77,-132.88"/>
<text text-anchor="middle" x="546.5" y="-146.8" font-family="Arial" font-size="14.00">是</text>
</g>
<!-- compare_namespaces&#45;&gt;loop_locals -->
<g id="edge32" class="edge">
<title>compare_namespaces&#45;&gt;loop_locals</title>
<path fill="none" stroke="black" d="M622.99,-125C634.52,-141.67 649,-167.64 649,-193 649,-546 649,-546 649,-546 649,-565.25 649,-586.95 649,-603.6"/>
<polygon fill="black" stroke="black" points="645.5,-603.74 649,-613.74 652.5,-603.74 645.5,-603.74"/>
<text text-anchor="middle" x="670.5" y="-350.3" font-family="Arial" font-size="14.00">无变化</text>
</g>
<!-- mark_namespace_changes -->
<g id="node25" class="node">
<title>mark_namespace_changes</title>
<path fill="none" stroke="black" d="M732.5,-36C732.5,-36 597.5,-36 597.5,-36 591.5,-36 585.5,-30 585.5,-24 585.5,-24 585.5,-12 585.5,-12 585.5,-6 591.5,0 597.5,0 597.5,0 732.5,0 732.5,0 738.5,0 744.5,-6 744.5,-12 744.5,-12 744.5,-24 744.5,-24 744.5,-30 738.5,-36 732.5,-36"/>
<text text-anchor="middle" x="665" y="-14.3" font-family="Arial" font-size="14.00">标记命名空间依赖失效</text>
</g>
<!-- compare_namespaces&#45;&gt;mark_namespace_changes -->
<g id="edge31" class="edge">
<title>compare_namespaces&#45;&gt;mark_namespace_changes</title>
<path fill="none" stroke="black" d="M620.88,-86.76C628.88,-74.47 639.56,-58.07 648.4,-44.49"/>
<polygon fill="black" stroke="black" points="651.38,-46.33 653.9,-36.04 645.51,-42.51 651.38,-46.33"/>
<text text-anchor="middle" x="663.5" y="-57.8" font-family="Arial" font-size="14.00">有变化</text>
</g>
<!-- mark_namespace_changes&#45;&gt;loop_locals -->
<g id="edge33" class="edge">
<title>mark_namespace_changes&#45;&gt;loop_locals</title>
<path fill="none" stroke="black" d="M684.24,-36.08C700.1,-52.13 720,-77.71 720,-105 720,-546 720,-546 720,-546 720,-570.84 701.91,-592.26 684,-607.39"/>
<polygon fill="black" stroke="black" points="681.48,-604.91 675.84,-613.88 685.84,-610.39 681.48,-604.91"/>
</g>
<!-- rehash -->
<g id="node27" class="node">
<title>rehash</title>
<path fill="none" stroke="black" d="M894.5,-467.5C894.5,-467.5 783.5,-467.5 783.5,-467.5 777.5,-467.5 771.5,-461.5 771.5,-455.5 771.5,-455.5 771.5,-443.5 771.5,-443.5 771.5,-437.5 777.5,-431.5 783.5,-431.5 783.5,-431.5 894.5,-431.5 894.5,-431.5 900.5,-431.5 906.5,-437.5 906.5,-443.5 906.5,-443.5 906.5,-455.5 906.5,-455.5 906.5,-461.5 900.5,-467.5 894.5,-467.5"/>
<text text-anchor="middle" x="839" y="-445.8" font-family="Arial" font-size="14.00">rehashTrackedInsts</text>
</g>
<!-- loop_locals_end&#45;&gt;rehash -->
<g id="edge35" class="edge">
<title>loop_locals_end&#45;&gt;rehash</title>
<path fill="none" stroke="black" d="M839,-526.85C839,-513.14 839,-493.67 839,-477.82"/>
<polygon fill="black" stroke="black" points="842.5,-477.54 839,-467.54 835.5,-477.54 842.5,-477.54"/>
</g>
<!-- cleanup_old_zir -->
<g id="node28" class="node">
<title>cleanup_old_zir</title>
<path fill="none" stroke="black" d="M917.5,-372C917.5,-372 760.5,-372 760.5,-372 754.5,-372 748.5,-366 748.5,-360 748.5,-360 748.5,-348 748.5,-348 748.5,-342 754.5,-336 760.5,-336 760.5,-336 917.5,-336 917.5,-336 923.5,-336 929.5,-342 929.5,-348 929.5,-348 929.5,-360 929.5,-360 929.5,-366 923.5,-372 917.5,-372"/>
<text text-anchor="middle" x="839" y="-350.3" font-family="Arial" font-size="14.00">清理旧ZIR并更新命名空间</text>
</g>
<!-- rehash&#45;&gt;cleanup_old_zir -->
<g id="edge36" class="edge">
<title>rehash&#45;&gt;cleanup_old_zir</title>
<path fill="none" stroke="black" d="M839,-431.35C839,-417.64 839,-398.17 839,-382.32"/>
<polygon fill="black" stroke="black" points="842.5,-382.04 839,-372.04 835.5,-382.04 842.5,-382.04"/>
</g>
<!-- cleanup_old_zir&#45;&gt;end -->
<g id="edge37" class="edge">
<title>cleanup_old_zir&#45;&gt;end</title>
<path fill="none" stroke="black" d="M855.8,-335.8C867.95,-323.36 884.54,-306.36 898.07,-292.5"/>
<polygon fill="black" stroke="black" points="900.75,-294.78 905.23,-285.18 895.74,-289.88 900.75,-294.78"/>
</g>
</g>
</svg>
