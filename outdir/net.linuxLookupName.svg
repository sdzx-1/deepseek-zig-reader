<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: linuxLookupName Pages: 1 -->
<svg width="481pt" height="1221pt"
 viewBox="0.00 0.00 481.00 1221.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1217)">
<title>linuxLookupName</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1217 477,-1217 477,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<polygon fill="none" stroke="black" points="406,-1213 275,-1213 275,-1177 406,-1177 406,-1213"/>
<text text-anchor="middle" x="340.5" y="-1192.5" font-family="Courier,monospace" font-size="10.00">开始 linuxLookupName</text>
</g>
<!-- check_opt_name -->
<g id="node2" class="node">
<title>check_opt_name</title>
<polygon fill="none" stroke="black" points="410.5,-1140 270.5,-1140 270.5,-1104 410.5,-1104 410.5,-1140"/>
<text text-anchor="middle" x="340.5" y="-1119.5" font-family="Courier,monospace" font-size="10.00">检查 opt_name 是否存在?</text>
</g>
<!-- start&#45;&gt;check_opt_name -->
<g id="edge1" class="edge">
<title>start&#45;&gt;check_opt_name</title>
<path fill="none" stroke="black" d="M340.5,-1176.81C340.5,-1168.79 340.5,-1159.05 340.5,-1150.07"/>
<polygon fill="black" stroke="black" points="344,-1150.03 340.5,-1140.03 337,-1150.03 344,-1150.03"/>
</g>
<!-- handle_name -->
<g id="node3" class="node">
<title>handle_name</title>
<polygon fill="none" stroke="black" points="335,-1057 260,-1057 260,-1021 335,-1021 335,-1057"/>
<text text-anchor="middle" x="297.5" y="-1036.5" font-family="Courier,monospace" font-size="10.00">处理名称解析</text>
</g>
<!-- check_opt_name&#45;&gt;handle_name -->
<g id="edge2" class="edge">
<title>check_opt_name&#45;&gt;handle_name</title>
<path fill="none" stroke="black" d="M331.38,-1103.82C325.57,-1092.87 317.92,-1078.46 311.36,-1066.11"/>
<polygon fill="black" stroke="black" points="314.39,-1064.34 306.61,-1057.15 308.2,-1067.63 314.39,-1064.34"/>
<text text-anchor="middle" x="331.5" y="-1078" font-family="Courier,monospace" font-size="10.00">存在</text>
</g>
<!-- handle_null -->
<g id="node12" class="node">
<title>handle_null</title>
<polygon fill="none" stroke="black" points="473,-1003 294,-1003 294,-967 473,-967 473,-1003"/>
<text text-anchor="middle" x="383.5" y="-988" font-family="Courier,monospace" font-size="10.00">处理空值情况</text>
<text text-anchor="middle" x="383.5" y="-977" font-family="Courier,monospace" font-size="10.00">调用 linuxLookupNameFromNull</text>
</g>
<!-- check_opt_name&#45;&gt;handle_null -->
<g id="edge3" class="edge">
<title>check_opt_name&#45;&gt;handle_null</title>
<path fill="none" stroke="black" d="M345.95,-1103.9C353.24,-1081 366.26,-1040.12 374.89,-1013.03"/>
<polygon fill="black" stroke="black" points="378.26,-1013.98 377.96,-1003.39 371.59,-1011.85 378.26,-1013.98"/>
<text text-anchor="middle" x="369.5" y="-1078" font-family="Courier,monospace" font-size="10.00">不存在</text>
</g>
<!-- clear_canon -->
<g id="node4" class="node">
<title>clear_canon</title>
<polygon fill="none" stroke="black" points="326,-949 229,-949 229,-913 326,-913 326,-949"/>
<text text-anchor="middle" x="277.5" y="-928.5" font-family="Courier,monospace" font-size="10.00">清空 canon 列表</text>
</g>
<!-- handle_name&#45;&gt;clear_canon -->
<g id="edge4" class="edge">
<title>handle_name&#45;&gt;clear_canon</title>
<path fill="none" stroke="black" d="M294.29,-1020.97C291.16,-1004.38 286.35,-978.88 282.68,-959.43"/>
<polygon fill="black" stroke="black" points="286.07,-958.52 280.77,-949.34 279.19,-959.82 286.07,-958.52"/>
</g>
<!-- try_parse_addr -->
<g id="node5" class="node">
<title>try_parse_addr</title>
<polygon fill="none" stroke="black" points="309,-876 234,-876 234,-840 309,-840 309,-876"/>
<text text-anchor="middle" x="271.5" y="-855.5" font-family="Courier,monospace" font-size="10.00">尝试解析地址</text>
</g>
<!-- clear_canon&#45;&gt;try_parse_addr -->
<g id="edge5" class="edge">
<title>clear_canon&#45;&gt;try_parse_addr</title>
<path fill="none" stroke="black" d="M276.05,-912.81C275.37,-904.79 274.55,-895.05 273.79,-886.07"/>
<polygon fill="black" stroke="black" points="277.27,-885.7 272.94,-876.03 270.29,-886.29 277.27,-885.7"/>
</g>
<!-- parse_success -->
<g id="node6" class="node">
<title>parse_success</title>
<polygon fill="none" stroke="black" points="281.5,-803 219.5,-803 219.5,-767 281.5,-767 281.5,-803"/>
<text text-anchor="middle" x="250.5" y="-782.5" font-family="Courier,monospace" font-size="10.00">解析成功?</text>
</g>
<!-- try_parse_addr&#45;&gt;parse_success -->
<g id="edge6" class="edge">
<title>try_parse_addr&#45;&gt;parse_success</title>
<path fill="none" stroke="black" d="M266.42,-839.81C264.02,-831.7 261.1,-821.84 258.42,-812.78"/>
<polygon fill="black" stroke="black" points="261.73,-811.63 255.54,-803.03 255.02,-813.61 261.73,-811.63"/>
</g>
<!-- handle_numrichost -->
<g id="node7" class="node">
<title>handle_numrichost</title>
<polygon fill="none" stroke="black" points="107,-666 18,-666 18,-630 107,-630 107,-666"/>
<text text-anchor="middle" x="62.5" y="-645.5" font-family="Courier,monospace" font-size="10.00">返回 name_err</text>
</g>
<!-- parse_success&#45;&gt;handle_numrichost -->
<g id="edge10" class="edge">
<title>parse_success&#45;&gt;handle_numrichost</title>
<path fill="none" stroke="black" d="M219.29,-780.9C178.39,-776.23 109.71,-766.05 91.5,-749 71.57,-730.33 65.06,-698.87 63.08,-676.22"/>
<polygon fill="black" stroke="black" points="66.57,-675.96 62.44,-666.2 59.58,-676.41 66.57,-675.96"/>
<text text-anchor="middle" x="160" y="-741" font-family="Courier,monospace" font-size="10.00">失败且 flags.NUMERICHOST</text>
</g>
<!-- check_hosts -->
<g id="node8" class="node">
<title>check_hosts</title>
<polygon fill="none" stroke="black" points="281.5,-720 155.5,-720 155.5,-684 281.5,-684 281.5,-720"/>
<text text-anchor="middle" x="218.5" y="-699.5" font-family="Courier,monospace" font-size="10.00">尝试从 hosts 文件解析</text>
</g>
<!-- parse_success&#45;&gt;check_hosts -->
<g id="edge7" class="edge">
<title>parse_success&#45;&gt;check_hosts</title>
<path fill="none" stroke="black" d="M243.71,-766.82C239.43,-755.98 233.81,-741.74 228.96,-729.47"/>
<polygon fill="black" stroke="black" points="232.21,-728.17 225.28,-720.15 225.7,-730.74 232.21,-728.17"/>
<text text-anchor="middle" x="245.5" y="-741" font-family="Courier,monospace" font-size="10.00">失败</text>
</g>
<!-- add_addr -->
<g id="node19" class="node">
<title>add_addr</title>
<polygon fill="none" stroke="black" points="368,-558 267,-558 267,-522 368,-522 368,-558"/>
<text text-anchor="middle" x="317.5" y="-537.5" font-family="Courier,monospace" font-size="10.00">将地址加入 addrs</text>
</g>
<!-- parse_success&#45;&gt;add_addr -->
<g id="edge8" class="edge">
<title>parse_success&#45;&gt;add_addr</title>
<path fill="none" stroke="black" d="M263.97,-766.82C272.93,-754.48 284.18,-737.08 290.5,-720 309.51,-668.58 315.15,-604.11 316.81,-568.26"/>
<polygon fill="black" stroke="black" points="320.32,-568.23 317.21,-558.1 313.32,-567.96 320.32,-568.23"/>
<text text-anchor="middle" x="310.5" y="-699.5" font-family="Courier,monospace" font-size="10.00">成功</text>
</g>
<!-- error_unknown_host -->
<g id="node14" class="node">
<title>error_unknown_host</title>
<polygon fill="none" stroke="black" points="167,-275 0,-275 0,-239 167,-239 167,-275"/>
<text text-anchor="middle" x="83.5" y="-254.5" font-family="Courier,monospace" font-size="10.00">返回 error.UnknownHostName</text>
</g>
<!-- handle_numrichost&#45;&gt;error_unknown_host -->
<g id="edge11" class="edge">
<title>handle_numrichost&#45;&gt;error_unknown_host</title>
<path fill="none" stroke="black" d="M62.24,-629.74C61.94,-608.76 61.5,-572.29 61.5,-541 61.5,-541 61.5,-541 61.5,-339 61.5,-320.35 67,-300.11 72.5,-284.52"/>
<polygon fill="black" stroke="black" points="75.83,-285.61 76.05,-275.02 69.27,-283.16 75.83,-285.61"/>
</g>
<!-- check_empty_addrs -->
<g id="node9" class="node">
<title>check_empty_addrs</title>
<polygon fill="none" stroke="black" points="267.5,-612 169.5,-612 169.5,-576 267.5,-576 267.5,-612"/>
<text text-anchor="middle" x="218.5" y="-591.5" font-family="Courier,monospace" font-size="10.00">addrs 是否为空?</text>
</g>
<!-- check_hosts&#45;&gt;check_empty_addrs -->
<g id="edge12" class="edge">
<title>check_hosts&#45;&gt;check_empty_addrs</title>
<path fill="none" stroke="black" d="M218.5,-683.97C218.5,-667.38 218.5,-641.88 218.5,-622.43"/>
<polygon fill="black" stroke="black" points="222,-622.34 218.5,-612.34 215,-622.34 222,-622.34"/>
</g>
<!-- handle_localhost -->
<g id="node10" class="node">
<title>handle_localhost</title>
<polygon fill="none" stroke="black" points="215,-504 90,-504 90,-468 215,-468 215,-504"/>
<text text-anchor="middle" x="152.5" y="-489" font-family="Courier,monospace" font-size="10.00">检查是否为 localhost</text>
<text text-anchor="middle" x="152.5" y="-478" font-family="Courier,monospace" font-size="10.00">添加回环地址</text>
</g>
<!-- check_empty_addrs&#45;&gt;handle_localhost -->
<g id="edge13" class="edge">
<title>check_empty_addrs&#45;&gt;handle_localhost</title>
<path fill="none" stroke="black" d="M207.9,-575.97C197.33,-558.99 180.95,-532.7 168.74,-513.09"/>
<polygon fill="black" stroke="black" points="171.55,-510.98 163.3,-504.34 165.61,-514.68 171.55,-510.98"/>
<text text-anchor="middle" x="200.5" y="-537.5" font-family="Courier,monospace" font-size="10.00">是</text>
</g>
<!-- dns_search -->
<g id="node11" class="node">
<title>dns_search</title>
<polygon fill="none" stroke="black" points="289,-431 204,-431 204,-395 289,-395 289,-431"/>
<text text-anchor="middle" x="246.5" y="-410.5" font-family="Courier,monospace" font-size="10.00">进行 DNS 搜索</text>
</g>
<!-- check_empty_addrs&#45;&gt;dns_search -->
<g id="edge14" class="edge">
<title>check_empty_addrs&#45;&gt;dns_search</title>
<path fill="none" stroke="black" d="M221.18,-575.84C226.06,-544.7 236.39,-478.66 242.23,-441.28"/>
<polygon fill="black" stroke="black" points="245.74,-441.53 243.82,-431.11 238.82,-440.45 245.74,-441.53"/>
<text text-anchor="middle" x="242.5" y="-483.5" font-family="Courier,monospace" font-size="10.00">否</text>
</g>
<!-- handle_localhost&#45;&gt;dns_search -->
<g id="edge15" class="edge">
<title>handle_localhost&#45;&gt;dns_search</title>
<path fill="none" stroke="black" d="M175.25,-467.81C187.38,-458.66 202.47,-447.26 215.63,-437.32"/>
<polygon fill="black" stroke="black" points="218.08,-439.85 223.95,-431.03 213.87,-434.26 218.08,-439.85"/>
</g>
<!-- check_addrs_empty -->
<g id="node13" class="node">
<title>check_addrs_empty</title>
<polygon fill="none" stroke="black" points="332.5,-358 254.5,-358 254.5,-322 332.5,-322 332.5,-358"/>
<text text-anchor="middle" x="293.5" y="-337.5" font-family="Courier,monospace" font-size="10.00">addrs 为空?</text>
</g>
<!-- dns_search&#45;&gt;check_addrs_empty -->
<g id="edge16" class="edge">
<title>dns_search&#45;&gt;check_addrs_empty</title>
<path fill="none" stroke="black" d="M257.88,-394.81C263.48,-386.35 270.34,-375.98 276.55,-366.61"/>
<polygon fill="black" stroke="black" points="279.63,-368.3 282.23,-358.03 273.79,-364.44 279.63,-368.3"/>
</g>
<!-- handle_null&#45;&gt;check_addrs_empty -->
<g id="edge17" class="edge">
<title>handle_null&#45;&gt;check_addrs_empty</title>
<path fill="none" stroke="black" d="M383.5,-966.94C383.5,-949.02 383.5,-920.03 383.5,-895 383.5,-895 383.5,-895 383.5,-412 383.5,-387.79 363.19,-370.56 341.86,-359.14"/>
<polygon fill="black" stroke="black" points="343.23,-355.91 332.71,-354.6 340.11,-362.18 343.23,-355.91"/>
</g>
<!-- check_addrs_empty&#45;&gt;error_unknown_host -->
<g id="edge18" class="edge">
<title>check_addrs_empty&#45;&gt;error_unknown_host</title>
<path fill="none" stroke="black" d="M254.49,-323.95C221.5,-311.23 173.89,-292.87 137.28,-278.74"/>
<polygon fill="black" stroke="black" points="138.34,-275.4 127.75,-275.07 135.82,-281.93 138.34,-275.4"/>
<text text-anchor="middle" x="206.5" y="-296" font-family="Courier,monospace" font-size="10.00">是</text>
</g>
<!-- check_sort_need -->
<g id="node15" class="node">
<title>check_sort_need</title>
<polygon fill="none" stroke="black" points="331.5,-275 255.5,-275 255.5,-239 331.5,-239 331.5,-275"/>
<text text-anchor="middle" x="293.5" y="-260" font-family="Courier,monospace" font-size="10.00">地址数量&gt;1</text>
<text text-anchor="middle" x="293.5" y="-249" font-family="Courier,monospace" font-size="10.00">且非全IPv4?</text>
</g>
<!-- check_addrs_empty&#45;&gt;check_sort_need -->
<g id="edge19" class="edge">
<title>check_addrs_empty&#45;&gt;check_sort_need</title>
<path fill="none" stroke="black" d="M293.5,-321.82C293.5,-311.19 293.5,-297.31 293.5,-285.2"/>
<polygon fill="black" stroke="black" points="297,-285.15 293.5,-275.15 290,-285.15 297,-285.15"/>
<text text-anchor="middle" x="298.5" y="-296" font-family="Courier,monospace" font-size="10.00">否</text>
</g>
<!-- generate_sortkey -->
<g id="node16" class="node">
<title>generate_sortkey</title>
<polygon fill="none" stroke="black" points="300.5,-192 186.5,-192 186.5,-156 300.5,-156 300.5,-192"/>
<text text-anchor="middle" x="243.5" y="-171.5" font-family="Courier,monospace" font-size="10.00">为每个地址生成排序键</text>
</g>
<!-- check_sort_need&#45;&gt;generate_sortkey -->
<g id="edge20" class="edge">
<title>check_sort_need&#45;&gt;generate_sortkey</title>
<path fill="none" stroke="black" d="M282.9,-238.82C276.07,-227.76 267.07,-213.18 259.39,-200.75"/>
<polygon fill="black" stroke="black" points="262.32,-198.82 254.09,-192.15 256.36,-202.5 262.32,-198.82"/>
<text text-anchor="middle" x="290.5" y="-213" font-family="Courier,monospace" font-size="10.00">需要排序</text>
</g>
<!-- end -->
<g id="node18" class="node">
<title>end</title>
<polygon fill="none" stroke="black" points="319.5,-36 265.5,-36 265.5,0 319.5,0 319.5,-36"/>
<text text-anchor="middle" x="292.5" y="-15.5" font-family="Courier,monospace" font-size="10.00">结束</text>
</g>
<!-- check_sort_need&#45;&gt;end -->
<g id="edge21" class="edge">
<title>check_sort_need&#45;&gt;end</title>
<path fill="none" stroke="black" d="M306.39,-238.69C309.7,-233.3 312.8,-227.15 314.5,-221 315.81,-216.29 314.68,-214.89 314.5,-210 312.28,-148.99 313.37,-133.4 304.5,-73 303.21,-64.22 301.29,-54.74 299.36,-46.21"/>
<polygon fill="black" stroke="black" points="302.74,-45.32 297.04,-36.39 295.93,-46.93 302.74,-45.32"/>
<text text-anchor="middle" x="336" y="-130" font-family="Courier,monospace" font-size="10.00">不需要排序</text>
</g>
<!-- sort_addrs -->
<g id="node17" class="node">
<title>sort_addrs</title>
<polygon fill="none" stroke="black" points="295,-109 220,-109 220,-73 295,-73 295,-109"/>
<text text-anchor="middle" x="257.5" y="-88.5" font-family="Courier,monospace" font-size="10.00">排序地址列表</text>
</g>
<!-- generate_sortkey&#45;&gt;sort_addrs -->
<g id="edge22" class="edge">
<title>generate_sortkey&#45;&gt;sort_addrs</title>
<path fill="none" stroke="black" d="M246.47,-155.82C248.31,-145.19 250.71,-131.31 252.8,-119.2"/>
<polygon fill="black" stroke="black" points="256.28,-119.6 254.54,-109.15 249.38,-118.41 256.28,-119.6"/>
</g>
<!-- sort_addrs&#45;&gt;end -->
<g id="edge23" class="edge">
<title>sort_addrs&#45;&gt;end</title>
<path fill="none" stroke="black" d="M265.97,-72.81C270.06,-64.53 275.04,-54.41 279.59,-45.19"/>
<polygon fill="black" stroke="black" points="282.82,-46.55 284.11,-36.03 276.54,-43.45 282.82,-46.55"/>
</g>
<!-- add_addr&#45;&gt;check_addrs_empty -->
<g id="edge9" class="edge">
<title>add_addr&#45;&gt;check_addrs_empty</title>
<path fill="none" stroke="black" d="M315.41,-521.78C311.24,-487.31 301.82,-409.65 296.8,-368.22"/>
<polygon fill="black" stroke="black" points="300.24,-367.55 295.57,-358.04 293.29,-368.39 300.24,-367.55"/>
</g>
</g>
</svg>
