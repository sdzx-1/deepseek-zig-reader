<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="492pt" height="814pt"
 viewBox="0.00 0.00 492.02 814.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 810)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-810 488.02,-810 488.02,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="none" stroke="black" cx="287.55" cy="-788" rx="85.89" ry="18"/>
<text text-anchor="middle" x="287.55" y="-785.5" font-family="Courier,monospace" font-size="10.00">mapOldZirToNew 函数入口</text>
</g>
<!-- init_vars -->
<g id="node2" class="node">
<title>init_vars</title>
<polygon fill="none" stroke="black" points="430.05,-733 145.05,-733 145.05,-697 430.05,-697 430.05,-733"/>
<text text-anchor="middle" x="287.55" y="-712.5" font-family="Courier,monospace" font-size="10.00">初始化 match_stack, old_contents, new_contents</text>
</g>
<!-- start&#45;&gt;init_vars -->
<g id="edge1" class="edge">
<title>start&#45;&gt;init_vars</title>
<path fill="none" stroke="black" d="M287.55,-769.81C287.55,-761.79 287.55,-752.05 287.55,-743.07"/>
<polygon fill="black" stroke="black" points="291.05,-743.03 287.55,-733.03 284.05,-743.03 291.05,-743.03"/>
</g>
<!-- process_root -->
<g id="node3" class="node">
<title>process_root</title>
<polygon fill="none" stroke="black" points="446.05,-660 129.05,-660 129.05,-624 446.05,-624 446.05,-660"/>
<text text-anchor="middle" x="287.55" y="-645" font-family="Courier,monospace" font-size="10.00">处理 main_struct_inst</text>
<text text-anchor="middle" x="287.55" y="-634" font-family="Courier,monospace" font-size="10.00">填充 explicit_types 和 other 到 match_stack/inst_map</text>
</g>
<!-- init_vars&#45;&gt;process_root -->
<g id="edge2" class="edge">
<title>init_vars&#45;&gt;process_root</title>
<path fill="none" stroke="black" d="M287.55,-696.81C287.55,-688.79 287.55,-679.05 287.55,-670.07"/>
<polygon fill="black" stroke="black" points="291.05,-670.03 287.55,-660.03 284.05,-670.03 291.05,-670.03"/>
</g>
<!-- while_loop -->
<g id="node4" class="node">
<title>while_loop</title>
<polygon fill="none" stroke="black" points="287.55,-587 91.12,-569 287.55,-551 483.99,-569 287.55,-587"/>
<text text-anchor="middle" x="287.55" y="-566.5" font-family="Courier,monospace" font-size="10.00">while (从 match_stack 弹出 match_item)</text>
</g>
<!-- process_root&#45;&gt;while_loop -->
<g id="edge3" class="edge">
<title>process_root&#45;&gt;while_loop</title>
<path fill="none" stroke="black" d="M287.55,-623.81C287.55,-615.79 287.55,-606.05 287.55,-597.07"/>
<polygon fill="black" stroke="black" points="291.05,-597.03 287.55,-587.03 284.05,-597.03 291.05,-597.03"/>
</g>
<!-- check_captures -->
<g id="node5" class="node">
<title>check_captures</title>
<polygon fill="none" stroke="black" points="111.55,-504 -0.05,-486 111.55,-468 223.16,-486 111.55,-504"/>
<text text-anchor="middle" x="111.55" y="-483.5" font-family="Courier,monospace" font-size="10.00">检查类型捕获数量是否一致</text>
</g>
<!-- while_loop&#45;&gt;check_captures -->
<g id="edge4" class="edge">
<title>while_loop&#45;&gt;check_captures</title>
<path fill="none" stroke="black" d="M256.49,-553.71C226.36,-539.83 180.6,-518.78 148.58,-504.04"/>
<polygon fill="black" stroke="black" points="149.67,-500.69 139.12,-499.69 146.74,-507.05 149.67,-500.69"/>
</g>
<!-- end -->
<g id="node13" class="node">
<title>end</title>
<ellipse fill="none" stroke="black" cx="274.55" cy="-486" rx="32.93" ry="18"/>
<text text-anchor="middle" x="274.55" y="-483.5" font-family="Courier,monospace" font-size="10.00">函数返回</text>
</g>
<!-- while_loop&#45;&gt;end -->
<g id="edge16" class="edge">
<title>while_loop&#45;&gt;end</title>
<path fill="none" stroke="black" d="M256.12,-553.84C247.95,-548.54 240.16,-541.65 235.55,-533 230.38,-523.28 236.04,-513.78 244.51,-505.96"/>
<polygon fill="black" stroke="black" points="246.87,-508.55 252.47,-499.56 242.48,-503.1 246.87,-508.55"/>
<text text-anchor="middle" x="281.55" y="-525" font-family="Courier,monospace" font-size="10.00">match_stack 为空</text>
</g>
<!-- skip_capture -->
<g id="node6" class="node">
<title>skip_capture</title>
<polygon fill="none" stroke="black" points="343.55,-421 239.55,-421 239.55,-385 343.55,-385 343.55,-421"/>
<text text-anchor="middle" x="291.55" y="-400.5" font-family="Courier,monospace" font-size="10.00">跳过映射，继续循环</text>
</g>
<!-- check_captures&#45;&gt;skip_capture -->
<g id="edge5" class="edge">
<title>check_captures&#45;&gt;skip_capture</title>
<path fill="none" stroke="black" d="M139.68,-472.34C167.58,-459.79 210.85,-440.32 244.08,-425.36"/>
<polygon fill="black" stroke="black" points="245.92,-428.37 253.6,-421.08 243.05,-421.99 245.92,-428.37"/>
<text text-anchor="middle" x="237.05" y="-442" font-family="Courier,monospace" font-size="10.00">数量不一致</text>
</g>
<!-- map_inst -->
<g id="node7" class="node">
<title>map_inst</title>
<polygon fill="none" stroke="black" points="221.05,-421 2.05,-421 2.05,-385 221.05,-385 221.05,-421"/>
<text text-anchor="middle" x="111.55" y="-400.5" font-family="Courier,monospace" font-size="10.00">将 match_item 的旧新指令加入 inst_map</text>
</g>
<!-- check_captures&#45;&gt;map_inst -->
<g id="edge6" class="edge">
<title>check_captures&#45;&gt;map_inst</title>
<path fill="none" stroke="black" d="M111.55,-467.82C111.55,-457.19 111.55,-443.31 111.55,-431.2"/>
<polygon fill="black" stroke="black" points="115.05,-431.15 111.55,-421.15 108.05,-431.15 115.05,-431.15"/>
<text text-anchor="middle" x="131.55" y="-442" font-family="Courier,monospace" font-size="10.00">数量一致</text>
</g>
<!-- skip_capture&#45;&gt;while_loop -->
<g id="edge7" class="edge">
<title>skip_capture&#45;&gt;while_loop</title>
<path fill="none" stroke="black" d="M303.76,-421.28C320.02,-446.6 344.85,-494.89 327.55,-533 325.42,-537.71 322.3,-542.04 318.73,-545.92"/>
<polygon fill="black" stroke="black" points="316.29,-543.41 311.45,-552.83 321.11,-548.48 316.29,-543.41"/>
</g>
<!-- populate_decls -->
<g id="node8" class="node">
<title>populate_decls</title>
<polygon fill="none" stroke="black" points="323.05,-348 72.05,-348 72.05,-312 323.05,-312 323.05,-348"/>
<text text-anchor="middle" x="197.55" y="-327.5" font-family="Courier,monospace" font-size="10.00">填充命名声明、测试、未命名测试等到哈希映射和数组</text>
</g>
<!-- map_inst&#45;&gt;populate_decls -->
<g id="edge8" class="edge">
<title>map_inst&#45;&gt;populate_decls</title>
<path fill="none" stroke="black" d="M132.37,-384.81C143.36,-375.74 157,-364.48 168.97,-354.6"/>
<polygon fill="black" stroke="black" points="171.44,-357.09 176.93,-348.03 166.99,-351.7 171.44,-357.09"/>
</g>
<!-- new_decl_loop -->
<g id="node9" class="node">
<title>new_decl_loop</title>
<polygon fill="none" stroke="black" points="357.05,-275 220.05,-275 220.05,-239 357.05,-239 357.05,-275"/>
<text text-anchor="middle" x="288.55" y="-254.5" font-family="Courier,monospace" font-size="10.00">遍历新声明 new_decl_it</text>
</g>
<!-- populate_decls&#45;&gt;new_decl_loop -->
<g id="edge9" class="edge">
<title>populate_decls&#45;&gt;new_decl_loop</title>
<path fill="none" stroke="black" d="M219.58,-311.81C231.32,-302.66 245.93,-291.26 258.67,-281.32"/>
<polygon fill="black" stroke="black" points="261,-283.94 266.73,-275.03 256.69,-278.42 261,-283.94"/>
</g>
<!-- new_decl_loop&#45;&gt;while_loop -->
<g id="edge15" class="edge">
<title>new_decl_loop&#45;&gt;while_loop</title>
<path fill="none" stroke="black" d="M335.65,-275.07C357.86,-286.44 379.55,-303.95 379.55,-329 379.55,-487 379.55,-487 379.55,-487 379.55,-515.21 354.88,-535.92 331.09,-549.34"/>
<polygon fill="black" stroke="black" points="329.27,-546.35 322.07,-554.13 332.55,-552.53 329.27,-546.35"/>
<text text-anchor="middle" x="399.55" y="-400.5" font-family="Courier,monospace" font-size="10.00">遍历完成</text>
</g>
<!-- match_decl -->
<g id="node10" class="node">
<title>match_decl</title>
<polygon fill="none" stroke="black" points="255.55,-192 114.67,-174 255.55,-156 396.44,-174 255.55,-192"/>
<text text-anchor="middle" x="255.55" y="-171.5" font-family="Courier,monospace" font-size="10.00">根据类型匹配旧声明（名称/顺序）</text>
</g>
<!-- new_decl_loop&#45;&gt;match_decl -->
<g id="edge10" class="edge">
<title>new_decl_loop&#45;&gt;match_decl</title>
<path fill="none" stroke="black" d="M278.37,-238.89C275.29,-233.31 272.06,-227 269.55,-221 266.97,-214.83 264.64,-208.03 262.65,-201.58"/>
<polygon fill="black" stroke="black" points="265.98,-200.51 259.81,-191.89 259.26,-202.47 265.98,-200.51"/>
</g>
<!-- match_decl&#45;&gt;new_decl_loop -->
<g id="edge12" class="edge">
<title>match_decl&#45;&gt;new_decl_loop</title>
<path fill="none" stroke="black" d="M262.21,-191.32C266.64,-202.2 272.57,-216.76 277.68,-229.3"/>
<polygon fill="black" stroke="black" points="274.54,-230.88 281.56,-238.82 281.02,-228.24 274.54,-230.88"/>
<text text-anchor="middle" x="299.05" y="-213" font-family="Courier,monospace" font-size="10.00">未找到匹配</text>
</g>
<!-- map_decl_inst -->
<g id="node11" class="node">
<title>map_decl_inst</title>
<polygon fill="none" stroke="black" points="385.05,-109 198.05,-109 198.05,-73 385.05,-73 385.05,-109"/>
<text text-anchor="middle" x="291.55" y="-88.5" font-family="Courier,monospace" font-size="10.00">将匹配的旧新声明指令加入 inst_map</text>
</g>
<!-- match_decl&#45;&gt;map_decl_inst -->
<g id="edge11" class="edge">
<title>match_decl&#45;&gt;map_decl_inst</title>
<path fill="none" stroke="black" d="M262.84,-156.61C267.67,-145.74 274.12,-131.23 279.68,-118.71"/>
<polygon fill="black" stroke="black" points="283.04,-119.77 283.91,-109.21 276.65,-116.92 283.04,-119.77"/>
<text text-anchor="middle" x="296.55" y="-130" font-family="Courier,monospace" font-size="10.00">找到匹配</text>
</g>
<!-- process_trackable -->
<g id="node12" class="node">
<title>process_trackable</title>
<polygon fill="none" stroke="black" points="451.55,-36 275.55,-36 275.55,0 451.55,0 451.55,-36"/>
<text text-anchor="middle" x="363.55" y="-21" font-family="Courier,monospace" font-size="10.00">处理声明内的 trackable 内容</text>
<text text-anchor="middle" x="363.55" y="-10" font-family="Courier,monospace" font-size="10.00">填充 explicit_types 和 other</text>
</g>
<!-- map_decl_inst&#45;&gt;process_trackable -->
<g id="edge13" class="edge">
<title>map_decl_inst&#45;&gt;process_trackable</title>
<path fill="none" stroke="black" d="M308.98,-72.81C318,-63.92 329.17,-52.91 339.04,-43.17"/>
<polygon fill="black" stroke="black" points="341.62,-45.54 346.29,-36.03 336.71,-40.56 341.62,-45.54"/>
</g>
<!-- process_trackable&#45;&gt;new_decl_loop -->
<g id="edge14" class="edge">
<title>process_trackable&#45;&gt;new_decl_loop</title>
<path fill="none" stroke="black" d="M375.63,-36.21C396.86,-68.79 435.89,-140.82 405.55,-192 394.24,-211.08 375,-224.85 355.36,-234.6"/>
<polygon fill="black" stroke="black" points="353.62,-231.55 346.03,-238.94 356.57,-237.9 353.62,-231.55"/>
</g>
</g>
</svg>
