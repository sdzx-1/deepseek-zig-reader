<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: G Pages: 1 -->
<svg width="1035pt" height="567pt"
 viewBox="0.00 0.00 1034.97 567.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 563)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-563 1030.97,-563 1030.97,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<polygon fill="none" stroke="black" points="718.47,-559 566.47,-559 566.47,-523 718.47,-523 718.47,-559"/>
<text text-anchor="middle" x="642.47" y="-537.3" font-family="Times,serif" font-size="14.00">开始调用gwidth函数</text>
</g>
<!-- switch_method -->
<g id="node2" class="node">
<title>switch_method</title>
<polygon fill="none" stroke="black" points="642.47,-486 524.66,-468 642.47,-450 760.27,-468 642.47,-486"/>
<text text-anchor="middle" x="642.47" y="-464.3" font-family="Times,serif" font-size="14.00">判断method类型</text>
</g>
<!-- start&#45;&gt;switch_method -->
<g id="edge1" class="edge">
<title>start&#45;&gt;switch_method</title>
<path fill="none" stroke="black" d="M642.47,-522.81C642.47,-514.79 642.47,-505.05 642.47,-496.07"/>
<polygon fill="black" stroke="black" points="645.97,-496.03 642.47,-486.03 638.97,-496.03 645.97,-496.03"/>
</g>
<!-- unicode_case -->
<g id="node3" class="node">
<title>unicode_case</title>
<polygon fill="none" stroke="black" points="761.97,-343 522.97,-343 522.97,-305 761.97,-305 761.97,-343"/>
<text text-anchor="middle" x="642.47" y="-327.8" font-family="Times,serif" font-size="14.00">调用DisplayWidth.strWidth(str)</text>
<text text-anchor="middle" x="642.47" y="-312.8" font-family="Times,serif" font-size="14.00">返回结果转换为u16</text>
</g>
<!-- switch_method&#45;&gt;unicode_case -->
<g id="edge2" class="edge">
<title>switch_method&#45;&gt;unicode_case</title>
<path fill="none" stroke="black" d="M642.47,-449.87C642.47,-425.93 642.47,-382.17 642.47,-353.33"/>
<polygon fill="black" stroke="black" points="645.97,-353.08 642.47,-343.08 638.97,-353.08 645.97,-353.08"/>
<text text-anchor="middle" x="672.97" y="-420.8" font-family="Times,serif" font-size="14.00">.unicode</text>
</g>
<!-- wcwidth_case -->
<g id="node4" class="node">
<title>wcwidth_case</title>
<polygon fill="none" stroke="black" points="590.97,-399 459.97,-399 459.97,-361 590.97,-361 590.97,-399"/>
<text text-anchor="middle" x="525.47" y="-383.8" font-family="Times,serif" font-size="14.00">初始化total=0</text>
<text text-anchor="middle" x="525.47" y="-368.8" font-family="Times,serif" font-size="14.00">创建代码点迭代器</text>
</g>
<!-- switch_method&#45;&gt;wcwidth_case -->
<g id="edge3" class="edge">
<title>switch_method&#45;&gt;wcwidth_case</title>
<path fill="none" stroke="black" d="M600.45,-456.32C585.06,-450.89 568.3,-443.05 555.47,-432 547.92,-425.5 541.79,-416.61 537.08,-408.08"/>
<polygon fill="black" stroke="black" points="540.17,-406.42 532.53,-399.08 533.92,-409.58 540.17,-406.42"/>
<text text-anchor="middle" x="587.97" y="-420.8" font-family="Times,serif" font-size="14.00">.wcwidth</text>
</g>
<!-- no_zwj_case -->
<g id="node11" class="node">
<title>no_zwj_case</title>
<polygon fill="none" stroke="black" points="823.97,-399 692.97,-399 692.97,-361 823.97,-361 823.97,-399"/>
<text text-anchor="middle" x="758.47" y="-383.8" font-family="Times,serif" font-size="14.00">按ZWJ分割字符串</text>
<text text-anchor="middle" x="758.47" y="-368.8" font-family="Times,serif" font-size="14.00">初始化result=0</text>
</g>
<!-- switch_method&#45;&gt;no_zwj_case -->
<g id="edge4" class="edge">
<title>switch_method&#45;&gt;no_zwj_case</title>
<path fill="none" stroke="black" d="M670.42,-454.21C682.32,-448.2 696.05,-440.49 707.47,-432 717.41,-424.6 727.29,-415.3 735.67,-406.67"/>
<polygon fill="black" stroke="black" points="738.29,-409 742.61,-399.32 733.2,-404.19 738.29,-409"/>
<text text-anchor="middle" x="750.97" y="-420.8" font-family="Times,serif" font-size="14.00">.no_zwj</text>
</g>
<!-- end -->
<g id="node15" class="node">
<title>end</title>
<polygon fill="none" stroke="black" points="679.47,-110 605.47,-110 605.47,-74 679.47,-74 679.47,-110"/>
<text text-anchor="middle" x="642.47" y="-88.3" font-family="Times,serif" font-size="14.00">返回结果</text>
</g>
<!-- unicode_case&#45;&gt;end -->
<g id="edge5" class="edge">
<title>unicode_case&#45;&gt;end</title>
<path fill="none" stroke="black" d="M642.47,-304.95C642.47,-264.77 642.47,-167.74 642.47,-120.18"/>
<polygon fill="black" stroke="black" points="645.97,-120.02 642.47,-110.02 638.97,-120.02 645.97,-120.02"/>
</g>
<!-- loop -->
<g id="node5" class="node">
<title>loop</title>
<polygon fill="none" stroke="black" points="494.47,-287 374.15,-269 494.47,-251 614.79,-269 494.47,-287"/>
<text text-anchor="middle" x="494.47" y="-265.3" font-family="Times,serif" font-size="14.00">遍历下一个代码点</text>
</g>
<!-- wcwidth_case&#45;&gt;loop -->
<g id="edge6" class="edge">
<title>wcwidth_case&#45;&gt;loop</title>
<path fill="none" stroke="black" d="M520.21,-360.51C515.18,-342.82 507.54,-315.97 501.89,-296.1"/>
<polygon fill="black" stroke="black" points="505.24,-295.1 499.14,-286.44 498.51,-297.01 505.24,-295.1"/>
</g>
<!-- check_cp -->
<g id="node6" class="node">
<title>check_cp</title>
<polygon fill="none" stroke="black" points="233.47,-199 0.03,-181 233.47,-163 466.9,-181 233.47,-199"/>
<text text-anchor="middle" x="233.47" y="-177.3" font-family="Times,serif" font-size="14.00">代码点是否在0x1f3fb&#45;0x1f3ff范围？</text>
</g>
<!-- loop&#45;&gt;check_cp -->
<g id="edge7" class="edge">
<title>loop&#45;&gt;check_cp</title>
<path fill="none" stroke="black" d="M456.36,-256.67C434.15,-249.98 405.65,-241.23 380.47,-233 347.62,-222.26 310.9,-209.52 282.37,-199.46"/>
<polygon fill="black" stroke="black" points="283.24,-196.06 272.64,-196.02 280.9,-202.66 283.24,-196.06"/>
<text text-anchor="middle" x="430.47" y="-221.8" font-family="Times,serif" font-size="14.00">有下一个代码点</text>
</g>
<!-- return_wcwidth -->
<g id="node10" class="node">
<title>return_wcwidth</title>
<polygon fill="none" stroke="black" points="607.47,-199 529.47,-199 529.47,-163 607.47,-163 607.47,-199"/>
<text text-anchor="middle" x="568.47" y="-177.3" font-family="Times,serif" font-size="14.00">返回total</text>
</g>
<!-- loop&#45;&gt;return_wcwidth -->
<g id="edge13" class="edge">
<title>loop&#45;&gt;return_wcwidth</title>
<path fill="none" stroke="black" d="M503.97,-251.98C510.33,-241.8 519.22,-228.6 528.47,-218 532.08,-213.86 536.13,-209.73 540.25,-205.82"/>
<polygon fill="black" stroke="black" points="542.62,-208.39 547.62,-199.05 537.89,-203.23 542.62,-208.39"/>
<text text-anchor="middle" x="578.47" y="-221.8" font-family="Times,serif" font-size="14.00">无下一个代码点</text>
</g>
<!-- add_2 -->
<g id="node7" class="node">
<title>add_2</title>
<polygon fill="none" stroke="black" points="432.47,-110 378.47,-110 378.47,-74 432.47,-74 432.47,-110"/>
<text text-anchor="middle" x="405.47" y="-88.3" font-family="Times,serif" font-size="14.00">w=2</text>
</g>
<!-- check_cp&#45;&gt;add_2 -->
<g id="edge8" class="edge">
<title>check_cp&#45;&gt;add_2</title>
<path fill="none" stroke="black" d="M262.64,-165.24C292.13,-150.33 337.74,-127.26 369.46,-111.21"/>
<polygon fill="black" stroke="black" points="371.07,-114.32 378.42,-106.68 367.91,-108.07 371.07,-114.32"/>
<text text-anchor="middle" x="337.97" y="-132.8" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- add_data -->
<g id="node8" class="node">
<title>add_data</title>
<polygon fill="none" stroke="black" points="360.47,-111 106.47,-111 106.47,-73 360.47,-73 360.47,-111"/>
<text text-anchor="middle" x="233.47" y="-95.8" font-family="Times,serif" font-size="14.00">w=data.codePointWidth(cp.code)</text>
<text text-anchor="middle" x="233.47" y="-80.8" font-family="Times,serif" font-size="14.00">取最大值与0</text>
</g>
<!-- check_cp&#45;&gt;add_data -->
<g id="edge9" class="edge">
<title>check_cp&#45;&gt;add_data</title>
<path fill="none" stroke="black" d="M233.47,-162.81C233.47,-151.01 233.47,-135.07 233.47,-121.4"/>
<polygon fill="black" stroke="black" points="236.97,-121.05 233.47,-111.05 229.97,-121.05 236.97,-121.05"/>
<text text-anchor="middle" x="240.97" y="-132.8" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- accumulate -->
<g id="node9" class="node">
<title>accumulate</title>
<polygon fill="none" stroke="black" points="452.97,-36 357.97,-36 357.97,0 452.97,0 452.97,-36"/>
<text text-anchor="middle" x="405.47" y="-14.3" font-family="Times,serif" font-size="14.00">total += w</text>
</g>
<!-- add_2&#45;&gt;accumulate -->
<g id="edge10" class="edge">
<title>add_2&#45;&gt;accumulate</title>
<path fill="none" stroke="black" d="M405.47,-73.94C405.47,-65.81 405.47,-55.88 405.47,-46.7"/>
<polygon fill="black" stroke="black" points="408.97,-46.44 405.47,-36.44 401.97,-46.44 408.97,-46.44"/>
</g>
<!-- add_data&#45;&gt;accumulate -->
<g id="edge11" class="edge">
<title>add_data&#45;&gt;accumulate</title>
<path fill="none" stroke="black" d="M276.87,-72.83C300.78,-62.82 330.58,-50.35 355.46,-39.93"/>
<polygon fill="black" stroke="black" points="356.87,-43.14 364.74,-36.05 354.16,-36.68 356.87,-43.14"/>
</g>
<!-- accumulate&#45;&gt;loop -->
<g id="edge12" class="edge">
<title>accumulate&#45;&gt;loop</title>
<path fill="none" stroke="black" d="M418.51,-36.39C425.85,-46.68 434.85,-60.18 441.47,-73 460.89,-110.63 464.13,-121.2 475.47,-162 482.83,-188.5 488.01,-219.56 491.08,-241.18"/>
<polygon fill="black" stroke="black" points="487.63,-241.82 492.45,-251.26 494.57,-240.88 487.63,-241.82"/>
</g>
<!-- return_wcwidth&#45;&gt;end -->
<g id="edge14" class="edge">
<title>return_wcwidth&#45;&gt;end</title>
<path fill="none" stroke="black" d="M583.09,-162.81C593.93,-150.06 608.88,-132.48 621.07,-118.15"/>
<polygon fill="black" stroke="black" points="624.06,-120.04 627.88,-110.15 618.73,-115.5 624.06,-120.04"/>
</g>
<!-- loop_split -->
<g id="node12" class="node">
<title>loop_split</title>
<polygon fill="none" stroke="black" points="786.47,-287 679.72,-269 786.47,-251 893.21,-269 786.47,-287"/>
<text text-anchor="middle" x="786.47" y="-265.3" font-family="Times,serif" font-size="14.00">处理下一个子串</text>
</g>
<!-- no_zwj_case&#45;&gt;loop_split -->
<g id="edge15" class="edge">
<title>no_zwj_case&#45;&gt;loop_split</title>
<path fill="none" stroke="black" d="M763.22,-360.51C767.74,-342.9 774.59,-316.22 779.69,-296.38"/>
<polygon fill="black" stroke="black" points="783.15,-296.99 782.24,-286.44 776.37,-295.25 783.15,-296.99"/>
</g>
<!-- recursive_call -->
<g id="node13" class="node">
<title>recursive_call</title>
<polygon fill="none" stroke="black" points="921.97,-200 670.97,-200 670.97,-162 921.97,-162 921.97,-200"/>
<text text-anchor="middle" x="796.47" y="-184.8" font-family="Times,serif" font-size="14.00">递归调用gwidth(s, .unicode, data)</text>
<text text-anchor="middle" x="796.47" y="-169.8" font-family="Times,serif" font-size="14.00">result += 结果</text>
</g>
<!-- loop_split&#45;&gt;recursive_call -->
<g id="edge16" class="edge">
<title>loop_split&#45;&gt;recursive_call</title>
<path fill="none" stroke="black" d="M788.44,-251.01C789.79,-239.42 791.61,-223.8 793.17,-210.35"/>
<polygon fill="black" stroke="black" points="796.68,-210.48 794.36,-200.14 789.72,-209.67 796.68,-210.48"/>
<text text-anchor="middle" x="812.97" y="-221.8" font-family="Times,serif" font-size="14.00">有子串</text>
</g>
<!-- return_no_zwj -->
<g id="node14" class="node">
<title>return_no_zwj</title>
<polygon fill="none" stroke="black" points="1026.97,-199 939.97,-199 939.97,-163 1026.97,-163 1026.97,-199"/>
<text text-anchor="middle" x="983.47" y="-177.3" font-family="Times,serif" font-size="14.00">返回result</text>
</g>
<!-- loop_split&#45;&gt;return_no_zwj -->
<g id="edge18" class="edge">
<title>loop_split&#45;&gt;return_no_zwj</title>
<path fill="none" stroke="black" d="M814.69,-255.68C846.08,-241.98 897.32,-219.61 935.13,-203.1"/>
<polygon fill="black" stroke="black" points="936.66,-206.25 944.43,-199.04 933.86,-199.84 936.66,-206.25"/>
<text text-anchor="middle" x="917.97" y="-221.8" font-family="Times,serif" font-size="14.00">无子串</text>
</g>
<!-- recursive_call&#45;&gt;loop_split -->
<g id="edge17" class="edge">
<title>recursive_call&#45;&gt;loop_split</title>
<path fill="none" stroke="black" d="M791.76,-200.2C790.47,-205.87 789.23,-212.16 788.47,-218 787.52,-225.29 786.98,-233.23 786.68,-240.59"/>
<polygon fill="black" stroke="black" points="783.17,-240.72 786.4,-250.81 790.17,-240.91 783.17,-240.72"/>
</g>
<!-- return_no_zwj&#45;&gt;end -->
<g id="edge19" class="edge">
<title>return_no_zwj&#45;&gt;end</title>
<path fill="none" stroke="black" d="M939.87,-164.56C937.04,-163.66 934.22,-162.8 931.47,-162 847.14,-137.41 747.14,-115 689.62,-102.76"/>
<polygon fill="black" stroke="black" points="690.23,-99.31 679.73,-100.66 688.78,-106.16 690.23,-99.31"/>
</g>
</g>
</svg>
