graph TD
    A[开始] --> B[初始化变量]
    B --> C{是静态库?}
    C -->|是| D[添加 'ar']
    C -->|否| E[添加 'ld']
    E --> F{是对象文件?}
    F -->|是| G[添加 '-r']
    F -->|否| H{可重定位?}
    G --> H
    H -->|是| I[处理链接输入]
    I --> J[遍历comp.link_inputs]
    J --> K[添加对象路径]
    J --> L[添加资源路径]
    J --> M[添加DSO路径]
    I --> N[遍历c_object_table]
    N --> O[添加对象路径]
    I --> P{存在模块对象路径?}
    P -->|是| Q[添加模块路径]
    H -->|否| R[处理动态链接选项]
    R --> S{是动态库?}
    S -->|是| T[添加 '-dylib']
    T --> U[处理install_name]
    R --> V[添加平台版本]
    V --> W[处理SDK版本]
    W --> X[添加系统库根目录]
    X --> Y[处理rpath列表]
    Y --> Z[处理页零大小]
    Z --> AA[处理头部填充]
    AA --> AB[处理GC选项]
    AB --> AC[处理入口点]
    AC --> AD[添加输出路径]
    AD --> AE[处理动态库未定义符号]
    AE --> AF[遍历链接输入]
    AF --> AG[处理强制加载对象]
    AF --> AH[添加DSO精确名称]
    AF --> AI[遍历c_object_table]
    AI --> AJ[添加对象路径]
    AF --> AK{存在模块路径?}
    AK -->|是| AL[添加模块路径]
    AF --> AM[处理线程检查]
    AM --> AN[处理模糊测试库]
    AN --> AO[处理库目录]
    AO --> AP[处理DSO依赖]
    AP --> AQ[处理框架目录]
    AQ --> AR[处理框架链接]
    AR --> AS[处理libc++链接]
    AS --> AT[添加系统库]
    AT --> AU[添加运行时库]
    AU --> AV[输出argv列表]
    D --> H
    AV --> AW[结束]
