<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="865pt" height="1097pt"
 viewBox="0.00 0.00 865.30 1096.74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1092.74)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1092.74 861.3,-1092.74 861.3,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_incremental</title>
<polygon fill="none" stroke="black" points="8,-440 8,-607 218,-607 218,-440 8,-440"/>
<text text-anchor="middle" x="113" y="-591.8" font-family="Times,serif" font-size="14.00">Incremental模式</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_whole</title>
<polygon fill="none" stroke="black" points="226,-522.5 226,-599.5 374,-599.5 374,-522.5 226,-522.5"/>
<text text-anchor="middle" x="300" y="-584.3" font-family="Times,serif" font-size="14.00">Whole模式</text>
</g>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<path fill="none" stroke="#303030" d="M489,-1088.74C489,-1088.74 459,-1088.74 459,-1088.74 453,-1088.74 447,-1082.74 447,-1076.74 447,-1076.74 447,-1064.74 447,-1064.74 447,-1058.74 453,-1052.74 459,-1052.74 459,-1052.74 489,-1052.74 489,-1052.74 495,-1052.74 501,-1058.74 501,-1064.74 501,-1064.74 501,-1076.74 501,-1076.74 501,-1082.74 495,-1088.74 489,-1088.74"/>
<text text-anchor="middle" x="474" y="-1067.04" font-family="Helvetica,sans-Serif" font-size="14.00">开始</text>
</g>
<!-- check_output_mode -->
<g id="node2" class="node">
<title>check_output_mode</title>
<path fill="none" stroke="#303030" d="M585,-1015.74C585,-1015.74 363,-1015.74 363,-1015.74 357,-1015.74 351,-1009.74 351,-1003.74 351,-1003.74 351,-989.74 351,-989.74 351,-983.74 357,-977.74 363,-977.74 363,-977.74 585,-977.74 585,-977.74 591,-977.74 597,-983.74 597,-989.74 597,-989.74 597,-1003.74 597,-1003.74 597,-1009.74 591,-1015.74 585,-1015.74"/>
<text text-anchor="middle" x="474" y="-1000.54" font-family="Helvetica,sans-Serif" font-size="14.00">检查output_mode</text>
<text text-anchor="middle" x="474" y="-985.54" font-family="Helvetica,sans-Serif" font-size="14.00">确定is_dyn_lib和is_exe_or_dyn_lib</text>
</g>
<!-- start&#45;&gt;check_output_mode -->
<g id="edge1" class="edge">
<title>start&#45;&gt;check_output_mode</title>
<path fill="none" stroke="black" d="M474,-1052.68C474,-1044.73 474,-1035.05 474,-1026.05"/>
<polygon fill="black" stroke="black" points="477.5,-1025.94 474,-1015.94 470.5,-1025.94 477.5,-1025.94"/>
</g>
<!-- check_conflict -->
<g id="node3" class="node">
<title>check_conflict</title>
<path fill="none" stroke="#303030" d="M557.5,-940.74C557.5,-940.74 390.5,-940.74 390.5,-940.74 384.5,-940.74 378.5,-934.74 378.5,-928.74 378.5,-928.74 378.5,-914.74 378.5,-914.74 378.5,-908.74 384.5,-902.74 390.5,-902.74 390.5,-902.74 557.5,-902.74 557.5,-902.74 563.5,-902.74 569.5,-908.74 569.5,-914.74 569.5,-914.74 569.5,-928.74 569.5,-928.74 569.5,-934.74 563.5,-940.74 557.5,-940.74"/>
<text text-anchor="middle" x="474" y="-925.54" font-family="Helvetica,sans-Serif" font-size="14.00">检查linker_export_table</text>
<text text-anchor="middle" x="474" y="-910.54" font-family="Helvetica,sans-Serif" font-size="14.00">和linker_import_table冲突</text>
</g>
<!-- check_output_mode&#45;&gt;check_conflict -->
<g id="edge2" class="edge">
<title>check_output_mode&#45;&gt;check_conflict</title>
<path fill="none" stroke="black" d="M474,-977.7C474,-969.62 474,-959.92 474,-950.92"/>
<polygon fill="black" stroke="black" points="477.5,-950.83 474,-940.83 470.5,-950.83 477.5,-950.83"/>
</g>
<!-- init_config -->
<g id="node4" class="node">
<title>init_config</title>
<path fill="none" stroke="#303030" d="M409,-851.37C409,-851.37 191,-851.37 191,-851.37 185,-851.37 179,-845.37 179,-839.37 179,-839.37 179,-810.37 179,-810.37 179,-804.37 185,-798.37 191,-798.37 191,-798.37 409,-798.37 409,-798.37 415,-798.37 421,-804.37 421,-810.37 421,-810.37 421,-839.37 421,-839.37 421,-845.37 415,-851.37 409,-851.37"/>
<text text-anchor="middle" x="300" y="-836.17" font-family="Helvetica,sans-Serif" font-size="14.00">初始化配置：</text>
<text text-anchor="middle" x="300" y="-821.17" font-family="Helvetica,sans-Serif" font-size="14.00">libc_dirs, sysroot,</text>
<text text-anchor="middle" x="300" y="-806.17" font-family="Helvetica,sans-Serif" font-size="14.00">compiler_rt_strat, ubsan_rt_strat</text>
</g>
<!-- check_conflict&#45;&gt;init_config -->
<g id="edge3" class="edge">
<title>check_conflict&#45;&gt;init_config</title>
<path fill="none" stroke="black" d="M440.86,-902.67C416.84,-889.57 383.78,-871.55 355.73,-856.26"/>
<polygon fill="black" stroke="black" points="357.27,-853.11 346.82,-851.4 353.92,-859.26 357.27,-853.11"/>
<text text-anchor="middle" x="428.5" y="-873.54" font-family="Times,serif" font-size="14.00">无冲突</text>
</g>
<!-- error_export_import_conflict -->
<g id="node16" class="node">
<title>error_export_import_conflict</title>
<ellipse fill="none" stroke="#303030" cx="648" cy="-824.87" rx="209.11" ry="26.74"/>
<text text-anchor="middle" x="648" y="-828.67" font-family="Helvetica,sans-Serif" font-size="14.00">返回错误</text>
<text text-anchor="middle" x="648" y="-813.67" font-family="Helvetica,sans-Serif" font-size="14.00">error.ExportTableAndImportTableConflict</text>
</g>
<!-- check_conflict&#45;&gt;error_export_import_conflict -->
<g id="edge17" class="edge">
<title>check_conflict&#45;&gt;error_export_import_conflict</title>
<path fill="none" stroke="red" d="M507.14,-902.67C531.25,-889.53 564.46,-871.42 592.58,-856.09"/>
<polygon fill="red" stroke="red" points="594.41,-859.08 601.51,-851.22 591.06,-852.93 594.41,-859.08"/>
<text text-anchor="middle" x="576" y="-874.74" font-family="Helvetica,sans-Serif" font-size="10.00">冲突</text>
</g>
<!-- create_comp -->
<g id="node5" class="node">
<title>create_comp</title>
<path fill="none" stroke="#303030" d="M397.5,-761C397.5,-761 202.5,-761 202.5,-761 196.5,-761 190.5,-755 190.5,-749 190.5,-749 190.5,-735 190.5,-735 190.5,-729 196.5,-723 202.5,-723 202.5,-723 397.5,-723 397.5,-723 403.5,-723 409.5,-729 409.5,-735 409.5,-735 409.5,-749 409.5,-749 409.5,-755 403.5,-761 397.5,-761"/>
<text text-anchor="middle" x="300" y="-745.8" font-family="Helvetica,sans-Serif" font-size="14.00">创建Compilation结构体</text>
<text text-anchor="middle" x="300" y="-730.8" font-family="Helvetica,sans-Serif" font-size="14.00">填充基础配置（gpa, arena等）</text>
</g>
<!-- init_config&#45;&gt;create_comp -->
<g id="edge4" class="edge">
<title>init_config&#45;&gt;create_comp</title>
<path fill="none" stroke="black" d="M300,-798.28C300,-789.73 300,-780.15 300,-771.39"/>
<polygon fill="black" stroke="black" points="303.5,-771.25 300,-761.25 296.5,-771.25 303.5,-771.25"/>
</g>
<!-- handle_cache -->
<g id="node6" class="node">
<title>handle_cache</title>
<path fill="none" stroke="#303030" d="M369,-686C369,-686 231,-686 231,-686 225,-686 219,-680 219,-674 219,-674 219,-660 219,-660 219,-654 225,-648 231,-648 231,-648 369,-648 369,-648 375,-648 381,-654 381,-660 381,-660 381,-674 381,-674 381,-680 375,-686 369,-686"/>
<text text-anchor="middle" x="300" y="-670.8" font-family="Helvetica,sans-Serif" font-size="14.00">处理缓存模式：</text>
<text text-anchor="middle" x="300" y="-655.8" font-family="Helvetica,sans-Serif" font-size="14.00">.incremental或.whole</text>
</g>
<!-- create_comp&#45;&gt;handle_cache -->
<g id="edge5" class="edge">
<title>create_comp&#45;&gt;handle_cache</title>
<path fill="none" stroke="black" d="M300,-722.96C300,-714.88 300,-705.18 300,-696.18"/>
<polygon fill="black" stroke="black" points="303.5,-696.09 300,-686.09 296.5,-696.09 303.5,-696.09"/>
</g>
<!-- handle_cache_incremental -->
<g id="node13" class="node">
<title>handle_cache_incremental</title>
<path fill="none" stroke="#303030" d="M198,-576C198,-576 28,-576 28,-576 22,-576 16,-570 16,-564 16,-564 16,-535 16,-535 16,-529 22,-523 28,-523 28,-523 198,-523 198,-523 204,-523 210,-529 210,-535 210,-535 210,-564 210,-564 210,-570 204,-576 198,-576"/>
<text text-anchor="middle" x="113" y="-560.8" font-family="Helvetica,sans-Serif" font-size="14.00">计算digest</text>
<text text-anchor="middle" x="113" y="-545.8" font-family="Helvetica,sans-Serif" font-size="14.00">设置artifact目录</text>
<text text-anchor="middle" x="113" y="-530.8" font-family="Helvetica,sans-Serif" font-size="14.00">初始化bin_file/implib_emit</text>
</g>
<!-- handle_cache&#45;&gt;handle_cache_incremental -->
<g id="edge6" class="edge">
<title>handle_cache&#45;&gt;handle_cache_incremental</title>
<path fill="none" stroke="black" d="M242.23,-647.81C229.57,-642.82 216.51,-636.86 205,-630 183.3,-617.07 161.78,-598.85 145.02,-583.12"/>
<polygon fill="black" stroke="black" points="147.32,-580.48 137.67,-576.1 142.48,-585.54 147.32,-580.48"/>
<text text-anchor="middle" x="250.5" y="-618.8" font-family="Times,serif" font-size="14.00">.incremental</text>
</g>
<!-- handle_cache_whole -->
<g id="node14" class="node">
<title>handle_cache_whole</title>
<path fill="none" stroke="#303030" d="M354,-568.5C354,-568.5 246,-568.5 246,-568.5 240,-568.5 234,-562.5 234,-556.5 234,-556.5 234,-542.5 234,-542.5 234,-536.5 240,-530.5 246,-530.5 246,-530.5 354,-530.5 354,-530.5 360,-530.5 366,-536.5 366,-542.5 366,-542.5 366,-556.5 366,-556.5 366,-562.5 360,-568.5 354,-568.5"/>
<text text-anchor="middle" x="300" y="-553.3" font-family="Helvetica,sans-Serif" font-size="14.00">延迟确定输出路径</text>
<text text-anchor="middle" x="300" y="-538.3" font-family="Helvetica,sans-Serif" font-size="14.00">保存lf_open_opts</text>
</g>
<!-- handle_cache&#45;&gt;handle_cache_whole -->
<g id="edge7" class="edge">
<title>handle_cache&#45;&gt;handle_cache_whole</title>
<path fill="none" stroke="black" d="M300,-647.95C300,-629.5 300,-600.56 300,-579.01"/>
<polygon fill="black" stroke="black" points="303.5,-578.8 300,-568.8 296.5,-578.8 303.5,-578.8"/>
<text text-anchor="middle" x="323.5" y="-618.8" font-family="Times,serif" font-size="14.00">.whole</text>
</g>
<!-- post_cache -->
<g id="node15" class="node">
<title>post_cache</title>
<path fill="none" stroke="#303030" d="M197.5,-486C197.5,-486 112.5,-486 112.5,-486 106.5,-486 100.5,-480 100.5,-474 100.5,-474 100.5,-460 100.5,-460 100.5,-454 106.5,-448 112.5,-448 112.5,-448 197.5,-448 197.5,-448 203.5,-448 209.5,-454 209.5,-460 209.5,-460 209.5,-474 209.5,-474 209.5,-480 203.5,-486 197.5,-486"/>
<text text-anchor="middle" x="155" y="-470.8" font-family="Helvetica,sans-Serif" font-size="14.00">处理LLVM对象</text>
<text text-anchor="middle" x="155" y="-455.8" font-family="Helvetica,sans-Serif" font-size="14.00">（若需要）</text>
</g>
<!-- handle_cache&#45;&gt;post_cache -->
<!-- process_c_files -->
<g id="node7" class="node">
<title>process_c_files</title>
<path fill="none" stroke="#303030" d="M221.5,-411C221.5,-411 88.5,-411 88.5,-411 82.5,-411 76.5,-405 76.5,-399 76.5,-399 76.5,-385 76.5,-385 76.5,-379 82.5,-373 88.5,-373 88.5,-373 221.5,-373 221.5,-373 227.5,-373 233.5,-379 233.5,-385 233.5,-385 233.5,-399 233.5,-399 233.5,-405 227.5,-411 221.5,-411"/>
<text text-anchor="middle" x="155" y="-395.8" font-family="Helvetica,sans-Serif" font-size="14.00">处理C源文件</text>
<text text-anchor="middle" x="155" y="-380.8" font-family="Helvetica,sans-Serif" font-size="14.00">添加到c_object_table</text>
</g>
<!-- process_rc_files -->
<g id="node8" class="node">
<title>process_rc_files</title>
<path fill="none" stroke="#303030" d="M247.5,-336C247.5,-336 62.5,-336 62.5,-336 56.5,-336 50.5,-330 50.5,-324 50.5,-324 50.5,-310 50.5,-310 50.5,-304 56.5,-298 62.5,-298 62.5,-298 247.5,-298 247.5,-298 253.5,-298 259.5,-304 259.5,-310 259.5,-310 259.5,-324 259.5,-324 259.5,-330 253.5,-336 247.5,-336"/>
<text text-anchor="middle" x="155" y="-320.8" font-family="Helvetica,sans-Serif" font-size="14.00">处理RC资源文件</text>
<text text-anchor="middle" x="155" y="-305.8" font-family="Helvetica,sans-Serif" font-size="14.00">添加到win32_resource_table</text>
</g>
<!-- process_c_files&#45;&gt;process_rc_files -->
<g id="edge12" class="edge">
<title>process_c_files&#45;&gt;process_rc_files</title>
<path fill="none" stroke="black" d="M155,-372.96C155,-364.88 155,-355.18 155,-346.18"/>
<polygon fill="black" stroke="black" points="158.5,-346.09 155,-336.09 151.5,-346.09 158.5,-346.09"/>
</g>
<!-- handle_target_specific -->
<g id="node9" class="node">
<title>handle_target_specific</title>
<path fill="none" stroke="#303030" d="M241,-261C241,-261 69,-261 69,-261 63,-261 57,-255 57,-249 57,-249 57,-235 57,-235 57,-229 63,-223 69,-223 69,-223 241,-223 241,-223 247,-223 253,-229 253,-235 253,-235 253,-249 253,-249 253,-255 247,-261 241,-261"/>
<text text-anchor="middle" x="155" y="-245.8" font-family="Helvetica,sans-Serif" font-size="14.00">处理目标平台特定逻辑：</text>
<text text-anchor="middle" x="155" y="-230.8" font-family="Helvetica,sans-Serif" font-size="14.00">musl/glibc/WASI/MinGW等</text>
</g>
<!-- process_rc_files&#45;&gt;handle_target_specific -->
<g id="edge13" class="edge">
<title>process_rc_files&#45;&gt;handle_target_specific</title>
<path fill="none" stroke="black" d="M155,-297.96C155,-289.88 155,-280.18 155,-271.18"/>
<polygon fill="black" stroke="black" points="158.5,-271.09 155,-261.09 151.5,-271.09 158.5,-271.09"/>
</g>
<!-- link_dependencies -->
<g id="node10" class="node">
<title>link_dependencies</title>
<path fill="none" stroke="#303030" d="M244.5,-186C244.5,-186 65.5,-186 65.5,-186 59.5,-186 53.5,-180 53.5,-174 53.5,-174 53.5,-160 53.5,-160 53.5,-154 59.5,-148 65.5,-148 65.5,-148 244.5,-148 244.5,-148 250.5,-148 256.5,-154 256.5,-160 256.5,-160 256.5,-174 256.5,-174 256.5,-180 250.5,-186 244.5,-186"/>
<text text-anchor="middle" x="155" y="-170.8" font-family="Helvetica,sans-Serif" font-size="14.00">处理链接依赖项：</text>
<text text-anchor="middle" x="155" y="-155.8" font-family="Helvetica,sans-Serif" font-size="14.00">libunwind, libcxx, libtsan等</text>
</g>
<!-- handle_target_specific&#45;&gt;link_dependencies -->
<g id="edge14" class="edge">
<title>handle_target_specific&#45;&gt;link_dependencies</title>
<path fill="none" stroke="black" d="M155,-222.96C155,-214.88 155,-205.18 155,-196.18"/>
<polygon fill="black" stroke="black" points="158.5,-196.09 155,-186.09 151.5,-196.09 158.5,-196.09"/>
</g>
<!-- finalize -->
<g id="node11" class="node">
<title>finalize</title>
<path fill="none" stroke="#303030" d="M199,-111C199,-111 111,-111 111,-111 105,-111 99,-105 99,-99 99,-99 99,-85 99,-85 99,-79 105,-73 111,-73 111,-73 199,-73 199,-73 205,-73 211,-79 211,-85 211,-85 211,-99 211,-99 211,-105 205,-111 199,-111"/>
<text text-anchor="middle" x="155" y="-95.8" font-family="Helvetica,sans-Serif" font-size="14.00">返回comp对象</text>
<text text-anchor="middle" x="155" y="-80.8" font-family="Helvetica,sans-Serif" font-size="14.00">完成初始化</text>
</g>
<!-- link_dependencies&#45;&gt;finalize -->
<g id="edge15" class="edge">
<title>link_dependencies&#45;&gt;finalize</title>
<path fill="none" stroke="black" d="M155,-147.96C155,-139.88 155,-130.18 155,-121.18"/>
<polygon fill="black" stroke="black" points="158.5,-121.09 155,-111.09 151.5,-121.09 158.5,-121.09"/>
</g>
<!-- end -->
<g id="node12" class="node">
<title>end</title>
<path fill="none" stroke="#303030" d="M170,-36C170,-36 140,-36 140,-36 134,-36 128,-30 128,-24 128,-24 128,-12 128,-12 128,-6 134,0 140,0 140,0 170,0 170,0 176,0 182,-6 182,-12 182,-12 182,-24 182,-24 182,-30 176,-36 170,-36"/>
<text text-anchor="middle" x="155" y="-14.3" font-family="Helvetica,sans-Serif" font-size="14.00">结束</text>
</g>
<!-- finalize&#45;&gt;end -->
<g id="edge16" class="edge">
<title>finalize&#45;&gt;end</title>
<path fill="none" stroke="black" d="M155,-72.83C155,-64.89 155,-55.41 155,-46.63"/>
<polygon fill="black" stroke="black" points="158.5,-46.42 155,-36.42 151.5,-46.42 158.5,-46.42"/>
</g>
<!-- handle_cache_incremental&#45;&gt;post_cache -->
<g id="edge8" class="edge">
<title>handle_cache_incremental&#45;&gt;post_cache</title>
<path fill="none" stroke="black" d="M126.52,-522.59C131.03,-513.95 136.07,-504.29 140.64,-495.53"/>
<polygon fill="black" stroke="black" points="143.84,-496.95 145.36,-486.47 137.64,-493.72 143.84,-496.95"/>
</g>
<!-- handle_cache_whole&#45;&gt;post_cache -->
<g id="edge9" class="edge">
<title>handle_cache_whole&#45;&gt;post_cache</title>
<path fill="none" stroke="black" d="M267.46,-530.43C246.47,-518.78 218.98,-503.52 196.44,-491.01"/>
<polygon fill="black" stroke="black" points="197.87,-487.8 187.43,-486.01 194.48,-493.92 197.87,-487.8"/>
</g>
<!-- post_cache&#45;&gt;process_c_files -->
<g id="edge11" class="edge">
<title>post_cache&#45;&gt;process_c_files</title>
<path fill="none" stroke="black" d="M155,-447.96C155,-439.88 155,-430.18 155,-421.18"/>
<polygon fill="black" stroke="black" points="158.5,-421.09 155,-411.09 151.5,-421.09 158.5,-421.09"/>
</g>
</g>
</svg>
