<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: D Pages: 1 -->
<svg width="801pt" height="779pt"
 viewBox="0.00 0.00 800.50 779.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 775)">
<title>D</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-775 796.5,-775 796.5,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_loop1</title>
<polygon fill="none" stroke="black" points="8,-475 8,-635 304,-635 304,-475 8,-475"/>
<text text-anchor="middle" x="156" y="-619.8" font-family="Times,serif" font-size="14.00">第一次遍历 locals（长度统计）</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_loop2</title>
<polygon fill="none" stroke="black" points="351,-77 351,-310 637,-310 637,-77 351,-77"/>
<text text-anchor="middle" x="494" y="-294.8" font-family="Times,serif" font-size="14.00">第二次遍历 locals（Tag 统计）</text>
</g>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<polygon fill="none" stroke="black" points="266,-771 92,-771 92,-735 266,-735 266,-771"/>
<text text-anchor="middle" x="179" y="-749.9" font-family="Courier,monospace" font-size="12.00">开始 dumpStatsFallible</text>
</g>
<!-- init_vars -->
<g id="node2" class="node">
<title>init_vars</title>
<polygon fill="none" stroke="black" points="339.5,-698 18.5,-698 18.5,-662 339.5,-662 339.5,-698"/>
<text text-anchor="middle" x="179" y="-676.9" font-family="Courier,monospace" font-size="12.00">初始化 items_len, extra_len, limbs_len = 0</text>
</g>
<!-- start&#45;&gt;init_vars -->
<g id="edge1" class="edge">
<title>start&#45;&gt;init_vars</title>
<path fill="none" stroke="black" d="M179,-734.81C179,-726.79 179,-717.05 179,-708.07"/>
<polygon fill="black" stroke="black" points="182.5,-708.03 179,-698.03 175.5,-708.03 182.5,-708.03"/>
</g>
<!-- loop_locals_1 -->
<g id="node3" class="node">
<title>loop_locals_1</title>
<polygon fill="none" stroke="black" points="285.5,-604 72.5,-604 72.5,-568 285.5,-568 285.5,-604"/>
<text text-anchor="middle" x="179" y="-582.9" font-family="Courier,monospace" font-size="12.00">遍历 ip.locals 中的每个 local</text>
</g>
<!-- init_vars&#45;&gt;loop_locals_1 -->
<g id="edge2" class="edge">
<title>init_vars&#45;&gt;loop_locals_1</title>
<path fill="none" stroke="black" d="M179,-661.7C179,-648.46 179,-629.95 179,-614.66"/>
<polygon fill="black" stroke="black" points="182.5,-614.23 179,-604.23 175.5,-614.23 182.5,-614.23"/>
</g>
<!-- accumulate_lengths -->
<g id="node4" class="node">
<title>accumulate_lengths</title>
<polygon fill="none" stroke="black" points="295.5,-519 16.5,-519 16.5,-483 295.5,-483 295.5,-519"/>
<text text-anchor="middle" x="156" y="-497.9" font-family="Courier,monospace" font-size="12.00">累加 items_len, extra_len, limbs_len</text>
</g>
<!-- loop_locals_1&#45;&gt;accumulate_lengths -->
<g id="edge3" class="edge">
<title>loop_locals_1&#45;&gt;accumulate_lengths</title>
<path fill="none" stroke="black" d="M102.11,-567.99C94.25,-563.36 87.25,-557.47 82,-550 74.85,-539.82 79.69,-531.26 89.64,-524.32"/>
<polygon fill="black" stroke="black" points="91.71,-527.17 98.58,-519.11 88.18,-521.12 91.71,-527.17"/>
<text text-anchor="middle" x="122" y="-540.4" font-family="Courier,monospace" font-size="12.00">对每个 local</text>
</g>
<!-- loop_locals_1&#45;&gt;accumulate_lengths -->
<g id="edge17" class="edge">
<title>loop_locals_1&#45;&gt;accumulate_lengths</title>
<path fill="none" stroke="black" d="M174.23,-567.8C171.12,-556.56 166.99,-541.65 163.44,-528.86"/>
<polygon fill="black" stroke="black" points="166.8,-527.88 160.76,-519.18 160.06,-529.75 166.8,-527.88"/>
</g>
<!-- compute_sizes -->
<g id="node5" class="node">
<title>compute_sizes</title>
<polygon fill="none" stroke="black" points="706,-519 314,-519 314,-483 706,-483 706,-519"/>
<text text-anchor="middle" x="510" y="-497.9" font-family="Courier,monospace" font-size="12.00">计算 items_size, extra_size, limbs_size, total_size</text>
</g>
<!-- loop_locals_1&#45;&gt;compute_sizes -->
<g id="edge5" class="edge">
<title>loop_locals_1&#45;&gt;compute_sizes</title>
<path fill="none" stroke="black" d="M247.18,-567.9C301.01,-554.41 376.14,-535.57 432.29,-521.49"/>
<polygon fill="black" stroke="black" points="433.34,-524.83 442.19,-519 431.64,-518.04 433.34,-524.83"/>
<text text-anchor="middle" x="389.5" y="-540.4" font-family="Courier,monospace" font-size="12.00">循环结束</text>
</g>
<!-- accumulate_lengths&#45;&gt;loop_locals_1 -->
<g id="edge4" class="edge">
<title>accumulate_lengths&#45;&gt;loop_locals_1</title>
<path fill="none" stroke="black" d="M163,-519.27C165.11,-524.87 167.31,-531.15 169,-537 170.92,-543.66 172.63,-550.93 174.07,-557.76"/>
<polygon fill="black" stroke="black" points="170.71,-558.84 176.1,-567.97 177.58,-557.47 170.71,-558.84"/>
<text text-anchor="middle" x="197.5" y="-540.4" font-family="Courier,monospace" font-size="12.00">继续循环</text>
</g>
<!-- print_stats -->
<g id="node6" class="node">
<title>print_stats</title>
<polygon fill="none" stroke="black" points="560.5,-446 459.5,-446 459.5,-410 560.5,-410 560.5,-446"/>
<text text-anchor="middle" x="510" y="-424.9" font-family="Courier,monospace" font-size="12.00">打印总内存统计</text>
</g>
<!-- compute_sizes&#45;&gt;print_stats -->
<g id="edge6" class="edge">
<title>compute_sizes&#45;&gt;print_stats</title>
<path fill="none" stroke="black" d="M510,-482.81C510,-474.79 510,-465.05 510,-456.07"/>
<polygon fill="black" stroke="black" points="513.5,-456.03 510,-446.03 506.5,-456.03 513.5,-456.03"/>
</g>
<!-- init_counts -->
<g id="node7" class="node">
<title>init_counts</title>
<polygon fill="none" stroke="black" points="625.5,-373 394.5,-373 394.5,-337 625.5,-337 625.5,-373"/>
<text text-anchor="middle" x="510" y="-351.9" font-family="Courier,monospace" font-size="12.00">初始化 counts（TagStats 哈希表）</text>
</g>
<!-- print_stats&#45;&gt;init_counts -->
<g id="edge7" class="edge">
<title>print_stats&#45;&gt;init_counts</title>
<path fill="none" stroke="black" d="M510,-409.81C510,-401.79 510,-392.05 510,-383.07"/>
<polygon fill="black" stroke="black" points="513.5,-383.03 510,-373.03 506.5,-383.03 513.5,-383.03"/>
</g>
<!-- loop_locals_2 -->
<g id="node8" class="node">
<title>loop_locals_2</title>
<polygon fill="none" stroke="black" points="628.5,-279 391.5,-279 391.5,-243 628.5,-243 628.5,-279"/>
<text text-anchor="middle" x="510" y="-257.9" font-family="Courier,monospace" font-size="12.00">再次遍历 ip.locals 中的每个 local</text>
</g>
<!-- init_counts&#45;&gt;loop_locals_2 -->
<g id="edge8" class="edge">
<title>init_counts&#45;&gt;loop_locals_2</title>
<path fill="none" stroke="black" d="M510,-336.7C510,-323.46 510,-304.95 510,-289.66"/>
<polygon fill="black" stroke="black" points="513.5,-289.23 510,-279.23 506.5,-289.23 513.5,-289.23"/>
</g>
<!-- process_items -->
<g id="node9" class="node">
<title>process_items</title>
<polygon fill="none" stroke="black" points="543.5,-194 358.5,-194 358.5,-158 543.5,-158 543.5,-194"/>
<text text-anchor="middle" x="451" y="-172.9" font-family="Courier,monospace" font-size="12.00">处理 items 和 extra_list</text>
</g>
<!-- loop_locals_2&#45;&gt;process_items -->
<g id="edge9" class="edge">
<title>loop_locals_2&#45;&gt;process_items</title>
<path fill="none" stroke="black" d="M456.86,-242.97C449.36,-238.31 442.64,-232.42 438,-225 434.03,-218.66 434.24,-211.11 436.25,-203.91"/>
<polygon fill="black" stroke="black" points="439.57,-205.02 439.88,-194.43 433.03,-202.51 439.57,-205.02"/>
<text text-anchor="middle" x="478" y="-215.4" font-family="Courier,monospace" font-size="12.00">对每个 local</text>
</g>
<!-- loop_locals_2&#45;&gt;process_items -->
<g id="edge18" class="edge">
<title>loop_locals_2&#45;&gt;process_items</title>
<path fill="none" stroke="black" d="M518.2,-242.94C521.6,-233.25 523.6,-221.25 518,-212 515.31,-207.55 511.84,-203.65 507.91,-200.22"/>
<polygon fill="black" stroke="black" points="509.96,-197.38 499.85,-194.19 505.77,-202.98 509.96,-197.38"/>
</g>
<!-- sort_counts -->
<g id="node12" class="node">
<title>sort_counts</title>
<polygon fill="none" stroke="black" points="788,-194 648,-194 648,-158 788,-158 788,-194"/>
<text text-anchor="middle" x="718" y="-172.9" font-family="Courier,monospace" font-size="12.00">按字节数排序 counts</text>
</g>
<!-- loop_locals_2&#45;&gt;sort_counts -->
<g id="edge14" class="edge">
<title>loop_locals_2&#45;&gt;sort_counts</title>
<path fill="none" stroke="black" d="M552.85,-242.9C585.57,-229.85 630.81,-211.79 665.67,-197.88"/>
<polygon fill="black" stroke="black" points="667.22,-201.03 675.21,-194.07 664.63,-194.53 667.22,-201.03"/>
<text text-anchor="middle" x="650.5" y="-215.4" font-family="Courier,monospace" font-size="12.00">循环结束</text>
</g>
<!-- loop_tags -->
<g id="node10" class="node">
<title>loop_tags</title>
<polygon fill="none" stroke="black" points="563,-121 359,-121 359,-85 563,-85 563,-121"/>
<text text-anchor="middle" x="461" y="-99.9" font-family="Courier,monospace" font-size="12.00">遍历每个 item 的 tag 和 data</text>
</g>
<!-- process_items&#45;&gt;loop_tags -->
<g id="edge10" class="edge">
<title>process_items&#45;&gt;loop_tags</title>
<path fill="none" stroke="black" d="M447.54,-157.81C447.83,-149.79 448.97,-140.05 450.61,-131.07"/>
<polygon fill="black" stroke="black" points="454.09,-131.54 452.74,-121.03 447.24,-130.08 454.09,-131.54"/>
</g>
<!-- process_items&#45;&gt;loop_tags -->
<g id="edge19" class="edge">
<title>process_items&#45;&gt;loop_tags</title>
<path fill="none" stroke="black" d="M459.3,-157.81C461.27,-149.79 462.87,-140.05 463.77,-131.07"/>
<polygon fill="black" stroke="black" points="467.26,-131.25 464.46,-121.03 460.28,-130.76 467.26,-131.25"/>
</g>
<!-- loop_tags&#45;&gt;loop_locals_2 -->
<g id="edge13" class="edge">
<title>loop_tags&#45;&gt;loop_locals_2</title>
<path fill="none" stroke="black" d="M509.63,-121.19C526.08,-129.6 542.64,-141.56 552,-158 566.22,-182.98 549.33,-213.72 532.92,-234.89"/>
<polygon fill="black" stroke="black" points="530.1,-232.82 526.49,-242.78 535.52,-237.24 530.1,-232.82"/>
<text text-anchor="middle" x="581.5" y="-172.9" font-family="Courier,monospace" font-size="12.00">循环结束</text>
</g>
<!-- calculate_bytes -->
<g id="node11" class="node">
<title>calculate_bytes</title>
<polygon fill="none" stroke="black" points="529.5,-36 392.5,-36 392.5,0 529.5,0 529.5,-36"/>
<text text-anchor="middle" x="461" y="-21.4" font-family="Courier,monospace" font-size="12.00">根据 tag 计算字节数</text>
<text text-anchor="middle" x="461" y="-8.4" font-family="Courier,monospace" font-size="12.00">更新 counts 统计</text>
</g>
<!-- loop_tags&#45;&gt;calculate_bytes -->
<g id="edge11" class="edge">
<title>loop_tags&#45;&gt;calculate_bytes</title>
<path fill="none" stroke="black" d="M416.66,-84.84C409.6,-80.13 403.24,-74.26 399,-67 393.32,-57.27 397.79,-48.82 406.45,-41.83"/>
<polygon fill="black" stroke="black" points="408.65,-44.57 414.98,-36.07 404.73,-38.76 408.65,-44.57"/>
<text text-anchor="middle" x="450.5" y="-57.4" font-family="Courier,monospace" font-size="12.00">对每个 tag/data</text>
</g>
<!-- calculate_bytes&#45;&gt;loop_tags -->
<g id="edge12" class="edge">
<title>calculate_bytes&#45;&gt;loop_tags</title>
<path fill="none" stroke="black" d="M489.15,-36.01C499.4,-44.52 507.32,-55.46 502,-67 500.29,-70.72 497.96,-74.19 495.28,-77.39"/>
<polygon fill="black" stroke="black" points="492.55,-75.17 488.04,-84.76 497.55,-80.07 492.55,-75.17"/>
<text text-anchor="middle" x="527.5" y="-57.4" font-family="Courier,monospace" font-size="12.00">继续循环</text>
</g>
<!-- print_top50 -->
<g id="node13" class="node">
<title>print_top50</title>
<polygon fill="none" stroke="black" points="792.5,-121 645.5,-121 645.5,-85 792.5,-85 792.5,-121"/>
<text text-anchor="middle" x="719" y="-99.9" font-family="Courier,monospace" font-size="12.00">打印 Top 50 标签统计</text>
</g>
<!-- sort_counts&#45;&gt;print_top50 -->
<g id="edge15" class="edge">
<title>sort_counts&#45;&gt;print_top50</title>
<path fill="none" stroke="black" d="M718.24,-157.81C718.36,-149.79 718.49,-140.05 718.62,-131.07"/>
<polygon fill="black" stroke="black" points="722.12,-131.08 718.76,-121.03 715.12,-130.98 722.12,-131.08"/>
</g>
<!-- end -->
<g id="node14" class="node">
<title>end</title>
<polygon fill="none" stroke="black" points="746,-36 692,-36 692,0 746,0 746,-36"/>
<text text-anchor="middle" x="719" y="-14.9" font-family="Courier,monospace" font-size="12.00">结束</text>
</g>
<!-- print_top50&#45;&gt;end -->
<g id="edge16" class="edge">
<title>print_top50&#45;&gt;end</title>
<path fill="none" stroke="black" d="M719,-84.8C719,-73.67 719,-58.94 719,-46.24"/>
<polygon fill="black" stroke="black" points="722.5,-46.18 719,-36.18 715.5,-46.18 722.5,-46.18"/>
</g>
</g>
</svg>
