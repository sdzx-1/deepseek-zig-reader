<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: nextItemFlow Pages: 1 -->
<svg width="1105pt" height="778pt"
 viewBox="0.00 0.00 1104.55 778.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 774)">
<title>nextItemFlow</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-774 1100.55,-774 1100.55,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#f0f0f0" stroke="black" cx="242.01" cy="-752" rx="29.5" ry="18"/>
<text text-anchor="middle" x="242.01" y="-748.3" font-family="Arial" font-size="14.00">Start</text>
</g>
<!-- check_item_count -->
<g id="node2" class="node">
<title>check_item_count</title>
<polygon fill="#f0f0f0" stroke="black" points="242.01,-697 100.41,-679 242.01,-661 383.61,-679 242.01,-697"/>
<text text-anchor="middle" x="242.01" y="-675.3" font-family="Arial" font-size="14.00">self.item_count exists?</text>
</g>
<!-- start&#45;&gt;check_item_count -->
<g id="edge1" class="edge">
<title>start&#45;&gt;check_item_count</title>
<path fill="none" stroke="black" d="M242.01,-733.81C242.01,-725.79 242.01,-716.05 242.01,-707.07"/>
<polygon fill="black" stroke="black" points="245.51,-707.03 242.01,-697.03 238.51,-707.03 245.51,-707.03"/>
</g>
<!-- handle_item_count_true -->
<g id="node3" class="node">
<title>handle_item_count_true</title>
<polygon fill="#f0f0f0" stroke="black" points="159.01,-408 -0.01,-390 159.01,-372 318.04,-390 159.01,-408"/>
<text text-anchor="middle" x="159.01" y="-386.3" font-family="Arial" font-size="14.00">Check cursor &gt;= count &#45; 1</text>
</g>
<!-- check_item_count&#45;&gt;handle_item_count_true -->
<g id="edge2" class="edge">
<title>check_item_count&#45;&gt;handle_item_count_true</title>
<path fill="none" stroke="black" d="M237.19,-661.33C223.38,-613.58 183.59,-475.98 166.72,-417.65"/>
<polygon fill="black" stroke="black" points="169.99,-416.35 163.85,-407.72 163.26,-418.3 169.99,-416.35"/>
<text text-anchor="middle" x="216.51" y="-552" font-family="Arial" font-size="10.00">Yes</text>
</g>
<!-- check_children_type -->
<g id="node6" class="node">
<title>check_children_type</title>
<polygon fill="#f0f0f0" stroke="black" points="509.01,-614 361.88,-596 509.01,-578 656.14,-596 509.01,-614"/>
<text text-anchor="middle" x="509.01" y="-592.3" font-family="Arial" font-size="14.00">Check self.children type</text>
</g>
<!-- check_item_count&#45;&gt;check_children_type -->
<g id="edge3" class="edge">
<title>check_item_count&#45;&gt;check_children_type</title>
<path fill="none" stroke="black" d="M281.7,-665.96C328.82,-651.67 407.47,-627.8 458.79,-612.24"/>
<polygon fill="black" stroke="black" points="460.12,-615.49 468.67,-609.24 458.09,-608.79 460.12,-615.49"/>
<text text-anchor="middle" x="397.51" y="-635" font-family="Arial" font-size="10.00">No</text>
</g>
<!-- consume_event_1 -->
<g id="node4" class="node">
<title>consume_event_1</title>
<polygon fill="#f0f0f0" stroke="black" points="264.51,-271 127.51,-271 127.51,-235 264.51,-235 264.51,-271"/>
<text text-anchor="middle" x="196.01" y="-249.3" font-family="Arial" font-size="14.00">ctx.consumeEvent()</text>
</g>
<!-- handle_item_count_true&#45;&gt;consume_event_1 -->
<g id="edge4" class="edge">
<title>handle_item_count_true&#45;&gt;consume_event_1</title>
<path fill="none" stroke="black" d="M163.55,-372.45C169.81,-349.6 181.18,-308.12 188.66,-280.82"/>
<polygon fill="black" stroke="black" points="192.06,-281.68 191.32,-271.11 185.3,-279.83 192.06,-281.68"/>
<text text-anchor="middle" x="180.51" y="-346" font-family="Arial" font-size="10.00">Yes</text>
</g>
<!-- increment_cursor_1 -->
<g id="node5" class="node">
<title>increment_cursor_1</title>
<polygon fill="#f0f0f0" stroke="black" points="333.01,-325 223.01,-325 223.01,-289 333.01,-289 333.01,-325"/>
<text text-anchor="middle" x="278.01" y="-303.3" font-family="Arial" font-size="14.00">self.cursor += 1</text>
</g>
<!-- handle_item_count_true&#45;&gt;increment_cursor_1 -->
<g id="edge5" class="edge">
<title>handle_item_count_true&#45;&gt;increment_cursor_1</title>
<path fill="none" stroke="black" d="M180.56,-374.33C198.38,-362.2 223.99,-344.77 244.48,-330.82"/>
<polygon fill="black" stroke="black" points="246.62,-333.61 252.91,-325.09 242.68,-327.82 246.62,-333.61"/>
<text text-anchor="middle" x="232.51" y="-346" font-family="Arial" font-size="10.00">No</text>
</g>
<!-- end -->
<g id="node17" class="node">
<title>end</title>
<ellipse fill="#f0f0f0" stroke="black" cx="485.01" cy="-18" rx="27" ry="18"/>
<text text-anchor="middle" x="485.01" y="-14.3" font-family="Arial" font-size="14.00">End</text>
</g>
<!-- consume_event_1&#45;&gt;end -->
<g id="edge6" class="edge">
<title>consume_event_1&#45;&gt;end</title>
<path fill="none" stroke="black" d="M201.47,-234.83C213.68,-199.16 246.68,-116.74 303.01,-73 345.79,-39.79 408.63,-26.96 448.16,-22.04"/>
<polygon fill="black" stroke="black" points="448.63,-25.51 458.17,-20.9 447.84,-18.55 448.63,-25.51"/>
</g>
<!-- ensure_scroll -->
<g id="node15" class="node">
<title>ensure_scroll</title>
<polygon fill="#f0f0f0" stroke="black" points="474.51,-217 349.51,-217 349.51,-181 474.51,-181 474.51,-217"/>
<text text-anchor="middle" x="412.01" y="-195.3" font-family="Arial" font-size="14.00">self.ensureScroll()</text>
</g>
<!-- increment_cursor_1&#45;&gt;ensure_scroll -->
<g id="edge7" class="edge">
<title>increment_cursor_1&#45;&gt;ensure_scroll</title>
<path fill="none" stroke="black" d="M299.54,-288.97C321.88,-271.3 356.97,-243.54 382.02,-223.73"/>
<polygon fill="black" stroke="black" points="384.42,-226.29 390.09,-217.34 380.08,-220.8 384.42,-226.29"/>
</g>
<!-- handle_slice -->
<g id="node7" class="node">
<title>handle_slice</title>
<polygon fill="#f0f0f0" stroke="black" points="509.01,-531 321.01,-493 509.01,-455 697.01,-493 509.01,-531"/>
<text text-anchor="middle" x="509.01" y="-496.8" font-family="Arial" font-size="14.00">Set item_count = slice.len</text>
<text text-anchor="middle" x="509.01" y="-481.8" font-family="Arial" font-size="14.00">Check cursor == slice.len &#45; 1</text>
</g>
<!-- check_children_type&#45;&gt;handle_slice -->
<g id="edge8" class="edge">
<title>check_children_type&#45;&gt;handle_slice</title>
<path fill="none" stroke="black" d="M509.01,-577.87C509.01,-567.83 509.01,-554.61 509.01,-541.64"/>
<polygon fill="black" stroke="black" points="512.51,-541.36 509.01,-531.36 505.51,-541.36 512.51,-541.36"/>
<text text-anchor="middle" x="521.01" y="-552" font-family="Arial" font-size="10.00">.slice</text>
</g>
<!-- handle_builder -->
<g id="node10" class="node">
<title>handle_builder</title>
<polygon fill="#f0f0f0" stroke="black" points="897.51,-512 776.51,-512 776.51,-474 897.51,-474 897.51,-512"/>
<text text-anchor="middle" x="837.01" y="-496.8" font-family="Arial" font-size="14.00">prev = self.cursor</text>
<text text-anchor="middle" x="837.01" y="-481.8" font-family="Arial" font-size="14.00">self.cursor += 1</text>
</g>
<!-- check_children_type&#45;&gt;handle_builder -->
<g id="edge9" class="edge">
<title>check_children_type&#45;&gt;handle_builder</title>
<path fill="none" stroke="black" d="M548.58,-582.82C603.15,-566.01 702.3,-535.48 768.91,-514.97"/>
<polygon fill="black" stroke="black" points="769.97,-518.31 778.49,-512.02 767.91,-511.62 769.97,-518.31"/>
<text text-anchor="middle" x="669.01" y="-552" font-family="Arial" font-size="10.00">.builder</text>
</g>
<!-- check_item_count_set -->
<g id="node18" class="node">
<title>check_item_count_set</title>
<polygon fill="#f0f0f0" stroke="black" points="509.01,-408 336.41,-390 509.01,-372 681.62,-390 509.01,-408"/>
<text text-anchor="middle" x="509.01" y="-386.3" font-family="Arial" font-size="14.00">Check cursor == slice.len &#45; 1</text>
</g>
<!-- handle_slice&#45;&gt;check_item_count_set -->
<g id="edge10" class="edge">
<title>handle_slice&#45;&gt;check_item_count_set</title>
<path fill="none" stroke="black" d="M509.01,-454.96C509.01,-442.85 509.01,-429.62 509.01,-418.35"/>
<polygon fill="black" stroke="black" points="512.51,-418.24 509.01,-408.24 505.51,-418.24 512.51,-418.24"/>
<text text-anchor="middle" x="542.51" y="-429" font-family="Arial" font-size="10.00">Set item_count</text>
</g>
<!-- consume_event_2 -->
<g id="node8" class="node">
<title>consume_event_2</title>
<polygon fill="#f0f0f0" stroke="black" points="580.51,-163 443.51,-163 443.51,-127 580.51,-127 580.51,-163"/>
<text text-anchor="middle" x="512.01" y="-141.3" font-family="Arial" font-size="14.00">ctx.consumeEvent()</text>
</g>
<!-- consume_event_2&#45;&gt;end -->
<g id="edge13" class="edge">
<title>consume_event_2&#45;&gt;end</title>
<path fill="none" stroke="black" d="M508.32,-126.88C503.81,-106.03 496.15,-70.56 490.85,-46.01"/>
<polygon fill="black" stroke="black" points="494.2,-44.95 488.67,-35.91 487.36,-46.43 494.2,-44.95"/>
</g>
<!-- increment_cursor_2 -->
<g id="node9" class="node">
<title>increment_cursor_2</title>
<polygon fill="#f0f0f0" stroke="black" points="473.01,-325 363.01,-325 363.01,-289 473.01,-289 473.01,-325"/>
<text text-anchor="middle" x="418.01" y="-303.3" font-family="Arial" font-size="14.00">self.cursor += 1</text>
</g>
<!-- increment_cursor_2&#45;&gt;ensure_scroll -->
<g id="edge14" class="edge">
<title>increment_cursor_2&#45;&gt;ensure_scroll</title>
<path fill="none" stroke="black" d="M417.05,-288.97C416.11,-272.38 414.67,-246.88 413.57,-227.43"/>
<polygon fill="black" stroke="black" points="417.06,-227.13 413,-217.34 410.07,-227.52 417.06,-227.13"/>
</g>
<!-- check_item_exists -->
<g id="node11" class="node">
<title>check_item_exists</title>
<polygon fill="#f0f0f0" stroke="black" points="898.01,-408 699.44,-390 898.01,-372 1096.59,-390 898.01,-408"/>
<text text-anchor="middle" x="898.01" y="-386.3" font-family="Arial" font-size="14.00">builder.itemAtIdx(cursor) == null?</text>
</g>
<!-- handle_builder&#45;&gt;check_item_exists -->
<g id="edge15" class="edge">
<title>handle_builder&#45;&gt;check_item_exists</title>
<path fill="none" stroke="black" d="M847.92,-473.94C857.67,-457.8 872.04,-434 882.9,-416.03"/>
<polygon fill="black" stroke="black" points="886.04,-417.6 888.21,-407.23 880.04,-413.98 886.04,-417.6"/>
</g>
<!-- decrement_cursor -->
<g id="node12" class="node">
<title>decrement_cursor</title>
<polygon fill="#f0f0f0" stroke="black" points="953.01,-325 843.01,-325 843.01,-289 953.01,-289 953.01,-325"/>
<text text-anchor="middle" x="898.01" y="-303.3" font-family="Arial" font-size="14.00">self.cursor &#45;|= 1</text>
</g>
<!-- check_item_exists&#45;&gt;decrement_cursor -->
<g id="edge16" class="edge">
<title>check_item_exists&#45;&gt;decrement_cursor</title>
<path fill="none" stroke="black" d="M898.01,-371.82C898.01,-361.19 898.01,-347.31 898.01,-335.2"/>
<polygon fill="black" stroke="black" points="901.51,-335.15 898.01,-325.15 894.51,-335.15 901.51,-335.15"/>
<text text-anchor="middle" x="906.51" y="-346" font-family="Arial" font-size="10.00">Yes</text>
</g>
<!-- check_cursor_prev -->
<g id="node13" class="node">
<title>check_cursor_prev</title>
<polygon fill="#f0f0f0" stroke="black" points="670.01,-325 544.17,-307 670.01,-289 795.86,-307 670.01,-325"/>
<text text-anchor="middle" x="670.01" y="-303.3" font-family="Arial" font-size="14.00">self.cursor == prev?</text>
</g>
<!-- check_item_exists&#45;&gt;check_cursor_prev -->
<g id="edge18" class="edge">
<title>check_item_exists&#45;&gt;check_cursor_prev</title>
<path fill="none" stroke="black" d="M859.85,-375.44C819.51,-361.11 755.99,-338.54 713.68,-323.51"/>
<polygon fill="black" stroke="black" points="714.79,-320.19 704.2,-320.14 712.45,-326.79 714.79,-320.19"/>
<text text-anchor="middle" x="803.51" y="-346" font-family="Arial" font-size="10.00">No</text>
</g>
<!-- decrement_cursor&#45;&gt;check_item_exists -->
<g id="edge17" class="edge">
<title>decrement_cursor&#45;&gt;check_item_exists</title>
<path fill="none" stroke="black" d="M896.03,-325.03C895.24,-333.7 894.6,-344.41 895.01,-354 895.12,-356.56 895.28,-359.22 895.46,-361.88"/>
<polygon fill="black" stroke="black" points="891.98,-362.24 896.26,-371.93 898.95,-361.68 891.98,-362.24"/>
</g>
<!-- consume_event_3 -->
<g id="node14" class="node">
<title>consume_event_3</title>
<polygon fill="#f0f0f0" stroke="black" points="731.51,-163 594.51,-163 594.51,-127 731.51,-127 731.51,-163"/>
<text text-anchor="middle" x="663.01" y="-141.3" font-family="Arial" font-size="14.00">ctx.consumeEvent()</text>
</g>
<!-- check_cursor_prev&#45;&gt;consume_event_3 -->
<g id="edge19" class="edge">
<title>check_cursor_prev&#45;&gt;consume_event_3</title>
<path fill="none" stroke="black" d="M669.27,-288.88C668.06,-261.35 665.68,-207.01 664.23,-173.85"/>
<polygon fill="black" stroke="black" points="667.71,-173.32 663.78,-163.48 660.72,-173.63 667.71,-173.32"/>
<text text-anchor="middle" x="676.51" y="-250.5" font-family="Arial" font-size="10.00">Yes</text>
</g>
<!-- check_cursor_prev&#45;&gt;ensure_scroll -->
<g id="edge20" class="edge">
<title>check_cursor_prev&#45;&gt;ensure_scroll</title>
<path fill="none" stroke="black" d="M639.15,-293.32C595.58,-275.42 515.52,-242.53 463.03,-220.96"/>
<polygon fill="black" stroke="black" points="464.15,-217.63 453.57,-217.07 461.49,-224.11 464.15,-217.63"/>
<text text-anchor="middle" x="585.51" y="-250.5" font-family="Arial" font-size="10.00">No</text>
</g>
<!-- consume_event_3&#45;&gt;end -->
<g id="edge21" class="edge">
<title>consume_event_3&#45;&gt;end</title>
<path fill="none" stroke="black" d="M638.64,-126.88C605.34,-103.5 545.85,-61.72 511.49,-37.59"/>
<polygon fill="black" stroke="black" points="513.11,-34.45 502.91,-31.57 509.09,-40.18 513.11,-34.45"/>
</g>
<!-- consume_redraw -->
<g id="node16" class="node">
<title>consume_redraw</title>
<polygon fill="#f0f0f0" stroke="black" points="485.51,-109 312.51,-109 312.51,-73 485.51,-73 485.51,-109"/>
<text text-anchor="middle" x="399.01" y="-87.3" font-family="Arial" font-size="14.00">ctx.consumeAndRedraw()</text>
</g>
<!-- ensure_scroll&#45;&gt;consume_redraw -->
<g id="edge22" class="edge">
<title>ensure_scroll&#45;&gt;consume_redraw</title>
<path fill="none" stroke="black" d="M409.93,-180.97C407.89,-164.38 404.76,-138.88 402.38,-119.43"/>
<polygon fill="black" stroke="black" points="405.83,-118.84 401.14,-109.34 398.88,-119.69 405.83,-118.84"/>
</g>
<!-- consume_redraw&#45;&gt;end -->
<g id="edge23" class="edge">
<title>consume_redraw&#45;&gt;end</title>
<path fill="none" stroke="black" d="M419.83,-72.81C432.15,-62.65 447.81,-49.72 460.69,-39.08"/>
<polygon fill="black" stroke="black" points="463.21,-41.54 468.69,-32.48 458.75,-36.14 463.21,-41.54"/>
</g>
<!-- check_item_count_set&#45;&gt;consume_event_2 -->
<g id="edge11" class="edge">
<title>check_item_count_set&#45;&gt;consume_event_2</title>
<path fill="none" stroke="black" d="M509.23,-371.91C509.74,-330.35 511.06,-223.67 511.68,-173.22"/>
<polygon fill="black" stroke="black" points="515.18,-173.11 511.8,-163.07 508.18,-173.02 515.18,-173.11"/>
<text text-anchor="middle" x="518.51" y="-304.5" font-family="Arial" font-size="10.00">Yes</text>
</g>
<!-- check_item_count_set&#45;&gt;increment_cursor_2 -->
<g id="edge12" class="edge">
<title>check_item_count_set&#45;&gt;increment_cursor_2</title>
<path fill="none" stroke="black" d="M491.9,-373.76C478.66,-361.98 460.08,-345.44 444.86,-331.9"/>
<polygon fill="black" stroke="black" points="447.06,-329.16 437.26,-325.13 442.4,-334.39 447.06,-329.16"/>
<text text-anchor="middle" x="474.51" y="-346" font-family="Arial" font-size="10.00">No</text>
</g>
</g>
</svg>
