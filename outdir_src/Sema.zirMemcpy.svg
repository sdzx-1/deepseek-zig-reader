<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: zirMemcpy Pages: 1 -->
<svg width="1103pt" height="840pt"
 viewBox="0.00 0.00 1103.16 840.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 836)">
<title>zirMemcpy</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-836 1099.16,-836 1099.16,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="none" stroke="black" cx="146.15" cy="-814" rx="29.5" ry="18"/>
<text text-anchor="middle" x="146.15" y="-810.3" font-family="Arial" font-size="14.00">开始</text>
</g>
<!-- resolve_inst_data -->
<g id="node3" class="node">
<title>resolve_inst_data</title>
<path fill="none" stroke="black" d="M193.15,-759C193.15,-759 99.15,-759 99.15,-759 93.15,-759 87.15,-753 87.15,-747 87.15,-747 87.15,-733 87.15,-733 87.15,-727 93.15,-721 99.15,-721 99.15,-721 193.15,-721 193.15,-721 199.15,-721 205.15,-727 205.15,-733 205.15,-733 205.15,-747 205.15,-747 205.15,-753 199.15,-759 193.15,-759"/>
<text text-anchor="middle" x="146.15" y="-743.8" font-family="Arial" font-size="14.00">解析指令数据</text>
<text text-anchor="middle" x="146.15" y="-728.8" font-family="Arial" font-size="14.00">(inst_data, extra)</text>
</g>
<!-- start&#45;&gt;resolve_inst_data -->
<g id="edge1" class="edge">
<title>start&#45;&gt;resolve_inst_data</title>
<path fill="none" stroke="black" d="M146.15,-795.94C146.15,-787.99 146.15,-778.31 146.15,-769.31"/>
<polygon fill="black" stroke="black" points="149.65,-769.2 146.15,-759.2 142.65,-769.2 149.65,-769.2"/>
</g>
<!-- end -->
<g id="node2" class="node">
<title>end</title>
<ellipse fill="none" stroke="black" cx="637.15" cy="-18" rx="29.5" ry="18"/>
<text text-anchor="middle" x="637.15" y="-14.3" font-family="Arial" font-size="14.00">结束</text>
</g>
<!-- get_src_dest -->
<g id="node4" class="node">
<title>get_src_dest</title>
<path fill="none" stroke="black" d="M195.15,-684C195.15,-684 97.15,-684 97.15,-684 91.15,-684 85.15,-678 85.15,-672 85.15,-672 85.15,-658 85.15,-658 85.15,-652 91.15,-646 97.15,-646 97.15,-646 195.15,-646 195.15,-646 201.15,-646 207.15,-652 207.15,-658 207.15,-658 207.15,-672 207.15,-672 207.15,-678 201.15,-684 195.15,-684"/>
<text text-anchor="middle" x="146.15" y="-668.8" font-family="Arial" font-size="14.00">获取源/目标指针</text>
<text text-anchor="middle" x="146.15" y="-653.8" font-family="Arial" font-size="14.00">(dest_ptr, src_ptr)</text>
</g>
<!-- resolve_inst_data&#45;&gt;get_src_dest -->
<g id="edge2" class="edge">
<title>resolve_inst_data&#45;&gt;get_src_dest</title>
<path fill="none" stroke="black" d="M146.15,-720.96C146.15,-712.88 146.15,-703.18 146.15,-694.18"/>
<polygon fill="black" stroke="black" points="149.65,-694.09 146.15,-684.09 142.65,-694.09 149.65,-694.09"/>
</g>
<!-- check_const_ptr -->
<g id="node5" class="node">
<title>check_const_ptr</title>
<path fill="none" stroke="black" d="M134.24,-607.53C134.24,-607.53 11.76,-592.47 11.76,-592.47 5.81,-591.73 5.81,-590.27 11.76,-589.53 11.76,-589.53 134.24,-574.47 134.24,-574.47 140.19,-573.73 152.1,-573.73 158.06,-574.47 158.06,-574.47 280.53,-589.53 280.53,-589.53 286.48,-590.27 286.48,-591.73 280.53,-592.47 280.53,-592.47 158.06,-607.53 158.06,-607.53 152.1,-608.27 140.19,-608.27 134.24,-607.53"/>
<text text-anchor="middle" x="146.15" y="-587.3" font-family="Arial" font-size="14.00">目标指针是否为常量？</text>
</g>
<!-- get_src_dest&#45;&gt;check_const_ptr -->
<g id="edge3" class="edge">
<title>get_src_dest&#45;&gt;check_const_ptr</title>
<path fill="none" stroke="black" d="M146.15,-645.83C146.15,-637.89 146.15,-628.41 146.15,-619.63"/>
<polygon fill="black" stroke="black" points="149.65,-619.42 146.15,-609.42 142.65,-619.42 149.65,-619.42"/>
</g>
<!-- fail_const_ptr -->
<g id="node6" class="node">
<title>fail_const_ptr</title>
<path fill="none" stroke="black" d="M360.65,-458.5C360.65,-458.5 145.65,-458.5 145.65,-458.5 139.65,-458.5 133.65,-452.5 133.65,-446.5 133.65,-446.5 133.65,-432.5 133.65,-432.5 133.65,-426.5 139.65,-420.5 145.65,-420.5 145.65,-420.5 360.65,-420.5 360.65,-420.5 366.65,-420.5 372.65,-426.5 372.65,-432.5 372.65,-432.5 372.65,-446.5 372.65,-446.5 372.65,-452.5 366.65,-458.5 360.65,-458.5"/>
<text text-anchor="middle" x="253.15" y="-443.3" font-family="Arial" font-size="14.00">返回错误</text>
<text text-anchor="middle" x="253.15" y="-428.3" font-family="Arial" font-size="14.00">&quot;cannot memcpy to constant pointer&quot;</text>
</g>
<!-- check_const_ptr&#45;&gt;fail_const_ptr -->
<g id="edge4" class="edge">
<title>check_const_ptr&#45;&gt;fail_const_ptr</title>
<path fill="none" stroke="black" d="M157.39,-574.28C175.64,-548.79 211.88,-498.15 234.17,-467.01"/>
<polygon fill="black" stroke="black" points="237.09,-468.95 240.06,-458.78 231.39,-464.88 237.09,-468.95"/>
<text text-anchor="middle" x="189.65" y="-543.8" font-family="Arial" font-size="14.00">是</text>
</g>
<!-- check_lengths_known -->
<g id="node7" class="node">
<title>check_lengths_known</title>
<path fill="none" stroke="black" d="M498.24,-607.53C498.24,-607.53 375.76,-592.47 375.76,-592.47 369.81,-591.73 369.81,-590.27 375.76,-589.53 375.76,-589.53 498.24,-574.47 498.24,-574.47 504.19,-573.73 516.1,-573.73 522.06,-574.47 522.06,-574.47 644.53,-589.53 644.53,-589.53 650.48,-590.27 650.48,-591.73 644.53,-592.47 644.53,-592.47 522.06,-607.53 522.06,-607.53 516.1,-608.27 504.19,-608.27 498.24,-607.53"/>
<text text-anchor="middle" x="510.15" y="-587.3" font-family="Arial" font-size="14.00">源和目标长度均未知？</text>
</g>
<!-- check_const_ptr&#45;&gt;check_lengths_known -->
<g id="edge5" class="edge">
<title>check_const_ptr&#45;&gt;check_lengths_known</title>
<path fill="none" stroke="black" d="M292.36,-591C312.49,-591 333.22,-591 353.52,-591"/>
<polygon fill="black" stroke="black" points="353.77,-594.5 363.77,-591 353.77,-587.5 353.77,-594.5"/>
<text text-anchor="middle" x="328.15" y="-597.8" font-family="Arial" font-size="14.00">否</text>
</g>
<!-- fail_const_ptr&#45;&gt;end -->
<g id="edge17" class="edge">
<title>fail_const_ptr&#45;&gt;end</title>
<path fill="none" stroke="black" d="M284.55,-420.33C311.2,-402.3 345.15,-371.99 345.15,-334.5 345.15,-334.5 345.15,-334.5 345.15,-90 345.15,-38.63 517.9,-24.28 597.66,-20.39"/>
<polygon fill="black" stroke="black" points="597.98,-23.88 607.81,-19.93 597.66,-16.89 597.98,-23.88"/>
</g>
<!-- fail_unknown_length -->
<g id="node8" class="node">
<title>fail_unknown_length</title>
<path fill="none" stroke="black" d="M594.15,-466C594.15,-466 426.15,-466 426.15,-466 420.15,-466 414.15,-460 414.15,-454 414.15,-454 414.15,-425 414.15,-425 414.15,-419 420.15,-413 426.15,-413 426.15,-413 594.15,-413 594.15,-413 600.15,-413 606.15,-419 606.15,-425 606.15,-425 606.15,-454 606.15,-454 606.15,-460 600.15,-466 594.15,-466"/>
<text text-anchor="middle" x="510.15" y="-450.8" font-family="Arial" font-size="14.00">生成错误</text>
<text text-anchor="middle" x="510.15" y="-435.8" font-family="Arial" font-size="14.00">&quot;unknown @memcpy length&quot;</text>
<text text-anchor="middle" x="510.15" y="-420.8" font-family="Arial" font-size="14.00">并添加类型说明</text>
</g>
<!-- check_lengths_known&#45;&gt;fail_unknown_length -->
<g id="edge6" class="edge">
<title>check_lengths_known&#45;&gt;fail_unknown_length</title>
<path fill="none" stroke="black" d="M510.15,-572.85C510.15,-549.46 510.15,-506.96 510.15,-476.43"/>
<polygon fill="black" stroke="black" points="513.65,-476.18 510.15,-466.18 506.65,-476.18 513.65,-476.18"/>
<text text-anchor="middle" x="517.65" y="-543.8" font-family="Arial" font-size="14.00">是</text>
</g>
<!-- check_elem_compatibility -->
<g id="node9" class="node">
<title>check_elem_compatibility</title>
<path fill="none" stroke="black" d="M849.25,-607.39C849.25,-607.39 739.98,-592.61 739.98,-592.61 734.04,-591.8 734.04,-590.2 739.98,-589.39 739.98,-589.39 849.25,-574.61 849.25,-574.61 855.2,-573.8 867.09,-573.8 873.04,-574.61 873.04,-574.61 982.31,-589.39 982.31,-589.39 988.26,-590.2 988.26,-591.8 982.31,-592.61 982.31,-592.61 873.04,-607.39 873.04,-607.39 867.09,-608.2 855.2,-608.2 849.25,-607.39"/>
<text text-anchor="middle" x="861.15" y="-587.3" font-family="Arial" font-size="14.00">元素类型是否兼容？</text>
</g>
<!-- check_lengths_known&#45;&gt;check_elem_compatibility -->
<g id="edge7" class="edge">
<title>check_lengths_known&#45;&gt;check_elem_compatibility</title>
<path fill="none" stroke="black" d="M656.46,-591C676.74,-591 697.55,-591 717.77,-591"/>
<polygon fill="black" stroke="black" points="717.96,-594.5 727.96,-591 717.96,-587.5 717.96,-594.5"/>
<text text-anchor="middle" x="692.08" y="-597.8" font-family="Arial" font-size="14.00">否</text>
</g>
<!-- fail_unknown_length&#45;&gt;end -->
<g id="edge18" class="edge">
<title>fail_unknown_length&#45;&gt;end</title>
<path fill="none" stroke="black" d="M510.15,-412.86C510.15,-391.81 510.15,-361.22 510.15,-334.5 510.15,-334.5 510.15,-334.5 510.15,-90 510.15,-49.02 561.16,-31.46 598.52,-24.1"/>
<polygon fill="black" stroke="black" points="599.42,-27.5 608.64,-22.29 598.18,-20.61 599.42,-27.5"/>
</g>
<!-- fail_elem_incompatible -->
<g id="node10" class="node">
<title>fail_elem_incompatible</title>
<path fill="none" stroke="black" d="M759.65,-457.5C759.65,-457.5 638.65,-457.5 638.65,-457.5 632.65,-457.5 626.65,-451.5 626.65,-445.5 626.65,-445.5 626.65,-433.5 626.65,-433.5 626.65,-427.5 632.65,-421.5 638.65,-421.5 638.65,-421.5 759.65,-421.5 759.65,-421.5 765.65,-421.5 771.65,-427.5 771.65,-433.5 771.65,-433.5 771.65,-445.5 771.65,-445.5 771.65,-451.5 765.65,-457.5 759.65,-457.5"/>
<text text-anchor="middle" x="699.15" y="-435.8" font-family="Arial" font-size="14.00">生成类型不兼容错误</text>
</g>
<!-- check_elem_compatibility&#45;&gt;fail_elem_incompatible -->
<g id="edge8" class="edge">
<title>check_elem_compatibility&#45;&gt;fail_elem_incompatible</title>
<path fill="none" stroke="black" d="M842.45,-575.4C825.53,-561.97 800.11,-541.28 779.15,-522 759.2,-503.66 737.76,-481.68 722.1,-465.17"/>
<polygon fill="black" stroke="black" points="724.31,-462.42 714.9,-457.55 719.22,-467.22 724.31,-462.42"/>
<text text-anchor="middle" x="824.65" y="-543.8" font-family="Arial" font-size="14.00">否</text>
</g>
<!-- resolve_lengths -->
<g id="node11" class="node">
<title>resolve_lengths</title>
<path fill="none" stroke="black" d="M913.15,-522C913.15,-522 809.15,-522 809.15,-522 803.15,-522 797.15,-516 797.15,-510 797.15,-510 797.15,-496 797.15,-496 797.15,-490 803.15,-484 809.15,-484 809.15,-484 913.15,-484 913.15,-484 919.15,-484 925.15,-490 925.15,-496 925.15,-496 925.15,-510 925.15,-510 925.15,-516 919.15,-522 913.15,-522"/>
<text text-anchor="middle" x="861.15" y="-506.8" font-family="Arial" font-size="14.00">尝试解析长度</text>
<text text-anchor="middle" x="861.15" y="-491.8" font-family="Arial" font-size="14.00">(dest_len, src_len)</text>
</g>
<!-- check_elem_compatibility&#45;&gt;resolve_lengths -->
<g id="edge9" class="edge">
<title>check_elem_compatibility&#45;&gt;resolve_lengths</title>
<path fill="none" stroke="black" d="M861.15,-572.6C861.15,-561.06 861.15,-545.65 861.15,-532.36"/>
<polygon fill="black" stroke="black" points="864.65,-532.27 861.15,-522.27 857.65,-532.27 864.65,-532.27"/>
<text text-anchor="middle" x="868.65" y="-543.8" font-family="Arial" font-size="14.00">是</text>
</g>
<!-- fail_elem_incompatible&#45;&gt;end -->
<g id="edge19" class="edge">
<title>fail_elem_incompatible&#45;&gt;end</title>
<path fill="none" stroke="black" d="M657.95,-421.38C624.96,-404.6 584.15,-375.55 584.15,-334.5 584.15,-334.5 584.15,-334.5 584.15,-90 584.15,-70.07 597.72,-52.13 611.13,-39.26"/>
<polygon fill="black" stroke="black" points="613.79,-41.58 618.91,-32.3 609.12,-36.37 613.79,-41.58"/>
</g>
<!-- check_length_mismatch -->
<g id="node12" class="node">
<title>check_length_mismatch</title>
<path fill="none" stroke="black" d="M849.22,-393.65C849.22,-393.65 714.04,-378.35 714.04,-378.35 708.08,-377.67 708.08,-376.33 714.04,-375.65 714.04,-375.65 849.22,-360.35 849.22,-360.35 855.18,-359.67 867.11,-359.67 873.07,-360.35 873.07,-360.35 1008.25,-375.65 1008.25,-375.65 1014.21,-376.33 1014.21,-377.67 1008.25,-378.35 1008.25,-378.35 873.07,-393.65 873.07,-393.65 867.11,-394.33 855.18,-394.33 849.22,-393.65"/>
<text text-anchor="middle" x="861.15" y="-373.3" font-family="Arial" font-size="14.00">编译时长度是否不匹配？</text>
</g>
<!-- resolve_lengths&#45;&gt;check_length_mismatch -->
<g id="edge10" class="edge">
<title>resolve_lengths&#45;&gt;check_length_mismatch</title>
<path fill="none" stroke="black" d="M861.15,-483.97C861.15,-463.35 861.15,-429.36 861.15,-405.45"/>
<polygon fill="black" stroke="black" points="864.65,-405.25 861.15,-395.25 857.65,-405.25 864.65,-405.25"/>
</g>
<!-- fail_length_mismatch -->
<g id="node13" class="node">
<title>fail_length_mismatch</title>
<path fill="none" stroke="black" d="M823.65,-254C823.65,-254 620.65,-254 620.65,-254 614.65,-254 608.65,-248 608.65,-242 608.65,-242 608.65,-228 608.65,-228 608.65,-222 614.65,-216 620.65,-216 620.65,-216 823.65,-216 823.65,-216 829.65,-216 835.65,-222 835.65,-228 835.65,-228 835.65,-242 835.65,-242 835.65,-248 829.65,-254 823.65,-254"/>
<text text-anchor="middle" x="722.15" y="-238.8" font-family="Arial" font-size="14.00">生成错误</text>
<text text-anchor="middle" x="722.15" y="-223.8" font-family="Arial" font-size="14.00">&quot;non&#45;matching @memcpy lengths&quot;</text>
</g>
<!-- check_length_mismatch&#45;&gt;fail_length_mismatch -->
<g id="edge11" class="edge">
<title>check_length_mismatch&#45;&gt;fail_length_mismatch</title>
<path fill="none" stroke="black" d="M832.75,-362.21C810.52,-350.3 779.98,-331.34 759.15,-308 747.59,-295.05 738.57,-277.84 732.33,-263.49"/>
<polygon fill="black" stroke="black" points="735.51,-262.01 728.46,-254.1 729.04,-264.68 735.51,-262.01"/>
<text text-anchor="middle" x="805.65" y="-329.8" font-family="Arial" font-size="14.00">是</text>
</g>
<!-- zero_bit_check -->
<g id="node14" class="node">
<title>zero_bit_check</title>
<path fill="none" stroke="black" d="M924.22,-306.65C924.22,-306.65 789.04,-291.35 789.04,-291.35 783.08,-290.67 783.08,-289.33 789.04,-288.65 789.04,-288.65 924.22,-273.35 924.22,-273.35 930.18,-272.67 942.11,-272.67 948.07,-273.35 948.07,-273.35 1083.25,-288.65 1083.25,-288.65 1089.21,-289.33 1089.21,-290.67 1083.25,-291.35 1083.25,-291.35 948.07,-306.65 948.07,-306.65 942.11,-307.33 930.18,-307.33 924.22,-306.65"/>
<text text-anchor="middle" x="936.15" y="-286.3" font-family="Arial" font-size="14.00">元素是否为零比特类型？</text>
</g>
<!-- check_length_mismatch&#45;&gt;zero_bit_check -->
<g id="edge12" class="edge">
<title>check_length_mismatch&#45;&gt;zero_bit_check</title>
<path fill="none" stroke="black" d="M874.9,-360.41C886.32,-347.47 902.73,-328.87 915.69,-314.19"/>
<polygon fill="black" stroke="black" points="918.49,-316.31 922.48,-306.49 913.24,-311.67 918.49,-316.31"/>
<text text-anchor="middle" x="909.65" y="-329.8" font-family="Arial" font-size="14.00">否</text>
</g>
<!-- fail_length_mismatch&#45;&gt;end -->
<g id="edge20" class="edge">
<title>fail_length_mismatch&#45;&gt;end</title>
<path fill="none" stroke="black" d="M714.9,-215.67C699.81,-177.51 665,-89.45 647.53,-45.27"/>
<polygon fill="black" stroke="black" points="650.72,-43.8 643.78,-35.79 644.21,-46.38 650.72,-43.8"/>
</g>
<!-- zero_bit_check&#45;&gt;end -->
<g id="edge13" class="edge">
<title>zero_bit_check&#45;&gt;end</title>
<path fill="none" stroke="black" d="M919.98,-273.54C880,-235.43 773.02,-134.3 680.15,-54 674.44,-49.07 668.2,-43.87 662.28,-39.04"/>
<polygon fill="black" stroke="black" points="664.47,-36.31 654.5,-32.74 660.06,-41.75 664.47,-36.31"/>
<text text-anchor="middle" x="786.65" y="-130.8" font-family="Arial" font-size="14.00">是</text>
</g>
<!-- check_runtime_safety -->
<g id="node15" class="node">
<title>check_runtime_safety</title>
<path fill="none" stroke="black" d="M1057.15,-198C1057.15,-198 927.15,-198 927.15,-198 921.15,-198 915.15,-192 915.15,-186 915.15,-186 915.15,-172 915.15,-172 915.15,-166 921.15,-160 927.15,-160 927.15,-160 1057.15,-160 1057.15,-160 1063.15,-160 1069.15,-166 1069.15,-172 1069.15,-172 1069.15,-186 1069.15,-186 1069.15,-192 1063.15,-198 1057.15,-198"/>
<text text-anchor="middle" x="992.15" y="-182.8" font-family="Arial" font-size="14.00">运行时安全检查</text>
<text text-anchor="middle" x="992.15" y="-167.8" font-family="Arial" font-size="14.00">(指针别名、长度匹配)</text>
</g>
<!-- zero_bit_check&#45;&gt;check_runtime_safety -->
<g id="edge14" class="edge">
<title>zero_bit_check&#45;&gt;check_runtime_safety</title>
<path fill="none" stroke="black" d="M944.41,-272.92C953.27,-255.66 967.51,-227.95 978.13,-207.28"/>
<polygon fill="black" stroke="black" points="981.27,-208.83 982.73,-198.34 975.04,-205.63 981.27,-208.83"/>
<text text-anchor="middle" x="979.65" y="-231.3" font-family="Arial" font-size="14.00">否</text>
</g>
<!-- generate_memcpy -->
<g id="node16" class="node">
<title>generate_memcpy</title>
<path fill="none" stroke="black" d="M1058.65,-109C1058.65,-109 927.65,-109 927.65,-109 921.65,-109 915.65,-103 915.65,-97 915.65,-97 915.65,-85 915.65,-85 915.65,-79 921.65,-73 927.65,-73 927.65,-73 1058.65,-73 1058.65,-73 1064.65,-73 1070.65,-79 1070.65,-85 1070.65,-85 1070.65,-97 1070.65,-97 1070.65,-103 1064.65,-109 1058.65,-109"/>
<text text-anchor="middle" x="993.15" y="-87.3" font-family="Arial" font-size="14.00">生成.memcpy AIR指令</text>
</g>
<!-- check_runtime_safety&#45;&gt;generate_memcpy -->
<g id="edge15" class="edge">
<title>check_runtime_safety&#45;&gt;generate_memcpy</title>
<path fill="none" stroke="black" d="M992.36,-159.76C992.5,-147.93 992.68,-132.32 992.83,-119.05"/>
<polygon fill="black" stroke="black" points="996.33,-119.08 992.95,-109.04 989.33,-119 996.33,-119.08"/>
</g>
<!-- generate_memcpy&#45;&gt;end -->
<g id="edge16" class="edge">
<title>generate_memcpy&#45;&gt;end</title>
<path fill="none" stroke="black" d="M949.51,-72.94C930.85,-66.2 908.67,-58.9 888.15,-54 814.23,-36.35 725.8,-26.58 676.09,-22.1"/>
<polygon fill="black" stroke="black" points="676.36,-18.61 666.09,-21.22 675.74,-25.58 676.36,-18.61"/>
</g>
</g>
</svg>
