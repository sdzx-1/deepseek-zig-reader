<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: airSelect Pages: 1 -->
<svg width="1060pt" height="1083pt"
 viewBox="0.00 0.00 1060.00 1083.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1079)">
<title>airSelect</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1079 1056,-1079 1056,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_init</title>
<polygon fill="none" stroke="black" points="220,-791 220,-1012 480,-1012 480,-791 220,-791"/>
<text text-anchor="middle" x="350" y="-996.8" font-family="Times,serif" font-size="14.00">初始化和变量提取</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_pred_handling</title>
<polygon fill="none" stroke="black" points="200,-610 200,-685 851,-685 851,-610 200,-610"/>
<text text-anchor="middle" x="525.5" y="-669.8" font-family="Times,serif" font-size="14.00">条件向量处理</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_mask_gen</title>
<polygon fill="none" stroke="black" points="195,-8 195,-156 385,-156 385,-8 195,-8"/>
<text text-anchor="middle" x="290" y="-140.8" font-family="Times,serif" font-size="14.00">生成掩码寄存器</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_operands</title>
<polygon fill="none" stroke="black" points="550,-356 550,-591 682,-591 682,-356 550,-356"/>
<text text-anchor="middle" x="616" y="-575.8" font-family="Times,serif" font-size="14.00">操作数处理</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_codegen</title>
<polygon fill="none" stroke="black" points="455,-175 455,-250 1044,-250 1044,-175 455,-175"/>
<text text-anchor="middle" x="749.5" y="-234.8" font-family="Times,serif" font-size="14.00">代码生成策略</text>
</g>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="none" stroke="black" cx="350" cy="-1057" rx="113.98" ry="18"/>
<text text-anchor="middle" x="350" y="-1053.3" font-family="Times,serif" font-size="14.00">开始: airSelect函数入口</text>
</g>
<!-- init1 -->
<g id="node3" class="node">
<title>init1</title>
<polygon fill="none" stroke="black" points="446,-981 254,-981 254,-945 446,-945 446,-981"/>
<text text-anchor="middle" x="350" y="-959.3" font-family="Times,serif" font-size="14.00">解析指令数据(pl_op/extra)</text>
</g>
<!-- start&#45;&gt;init1 -->
<g id="edge1" class="edge">
<title>start&#45;&gt;init1</title>
<path fill="none" stroke="black" d="M350,-1038.7C350,-1025.46 350,-1006.95 350,-991.66"/>
<polygon fill="black" stroke="black" points="353.5,-991.23 350,-981.23 346.5,-991.23 353.5,-991.23"/>
</g>
<!-- end -->
<g id="node2" class="node">
<title>end</title>
<ellipse fill="none" stroke="black" cx="775" cy="-107" rx="72.29" ry="18"/>
<text text-anchor="middle" x="775" y="-103.3" font-family="Times,serif" font-size="14.00">结束: 返回结果</text>
</g>
<!-- init2 -->
<g id="node4" class="node">
<title>init2</title>
<polygon fill="none" stroke="black" points="472,-908 228,-908 228,-872 472,-872 472,-908"/>
<text text-anchor="middle" x="350" y="-886.3" font-family="Times,serif" font-size="14.00">获取类型信息(ty/vec_len/elem_ty)</text>
</g>
<!-- init1&#45;&gt;init2 -->
<g id="edge2" class="edge">
<title>init1&#45;&gt;init2</title>
<path fill="none" stroke="black" d="M350,-944.81C350,-936.79 350,-927.05 350,-918.07"/>
<polygon fill="black" stroke="black" points="353.5,-918.03 350,-908.03 346.5,-918.03 353.5,-918.03"/>
</g>
<!-- init3 -->
<g id="node5" class="node">
<title>init3</title>
<polygon fill="none" stroke="black" points="451.5,-835 248.5,-835 248.5,-799 451.5,-799 451.5,-835"/>
<text text-anchor="middle" x="350" y="-813.3" font-family="Times,serif" font-size="14.00">计算abi_size/elem_abi_size</text>
</g>
<!-- init2&#45;&gt;init3 -->
<g id="edge3" class="edge">
<title>init2&#45;&gt;init3</title>
<path fill="none" stroke="black" d="M350,-871.81C350,-863.79 350,-854.05 350,-845.07"/>
<polygon fill="black" stroke="black" points="353.5,-845.03 350,-835.03 346.5,-845.03 353.5,-845.03"/>
</g>
<!-- init4 -->
<g id="node6" class="node">
<title>init4</title>
<polygon fill="none" stroke="black" points="447.5,-762 252.5,-762 252.5,-726 447.5,-726 447.5,-762"/>
<text text-anchor="middle" x="350" y="-740.3" font-family="Times,serif" font-size="14.00">获取条件向量类型(pred_ty)</text>
</g>
<!-- init3&#45;&gt;init4 -->
<g id="edge4" class="edge">
<title>init3&#45;&gt;init4</title>
<path fill="none" stroke="black" d="M350,-798.81C350,-790.79 350,-781.05 350,-772.07"/>
<polygon fill="black" stroke="black" points="353.5,-772.03 350,-762.03 346.5,-772.03 353.5,-772.03"/>
</g>
<!-- pred_switch -->
<g id="node7" class="node">
<title>pred_switch</title>
<polygon fill="none" stroke="black" points="614,-762 482.62,-744 614,-726 745.38,-744 614,-762"/>
<text text-anchor="middle" x="614" y="-740.3" font-family="Times,serif" font-size="14.00">判断pred_mcv类型</text>
</g>
<!-- init4&#45;&gt;pred_switch -->
<g id="edge5" class="edge">
<title>init4&#45;&gt;pred_switch</title>
<path fill="none" stroke="black" d="M447.71,-744C455.95,-744 464.18,-744 472.42,-744"/>
<polygon fill="black" stroke="black" points="472.46,-747.5 482.46,-744 472.46,-740.5 472.46,-747.5"/>
</g>
<!-- reg_mask -->
<g id="node8" class="node">
<title>reg_mask</title>
<polygon fill="none" stroke="black" points="387.5,-654 208.5,-654 208.5,-618 387.5,-618 387.5,-654"/>
<text text-anchor="middle" x="298" y="-632.3" font-family="Times,serif" font-size="14.00">处理.register_mask情况</text>
<text text-anchor="middle" x="130" y="-657.8" font-family="Times,serif" font-size="14.00">处理寄存器掩码位宽匹配</text>
</g>
<!-- pred_switch&#45;&gt;reg_mask -->
<g id="edge6" class="edge">
<title>pred_switch&#45;&gt;reg_mask</title>
<path fill="none" stroke="black" d="M545.2,-735.38C492.02,-728.85 423.2,-718.8 397,-708 369.62,-696.71 342.58,-676.54 323.7,-660.57"/>
<polygon fill="black" stroke="black" points="325.98,-657.92 316.13,-654.02 321.4,-663.21 325.98,-657.92"/>
<text text-anchor="middle" x="450" y="-696.8" font-family="Times,serif" font-size="14.00">.register_mask</text>
</g>
<!-- reg_general -->
<g id="node9" class="node">
<title>reg_general</title>
<polygon fill="none" stroke="black" points="616.5,-654 405.5,-654 405.5,-618 616.5,-618 616.5,-654"/>
<text text-anchor="middle" x="511" y="-632.3" font-family="Times,serif" font-size="14.00">处理.general_purpose寄存器</text>
</g>
<!-- pred_switch&#45;&gt;reg_general -->
<g id="edge7" class="edge">
<title>pred_switch&#45;&gt;reg_general</title>
<path fill="none" stroke="black" d="M553.52,-734.27C538.3,-729.11 523.59,-720.93 514,-708 504.92,-695.76 503.91,-678.8 505.28,-664.53"/>
<polygon fill="black" stroke="black" points="508.8,-664.65 506.71,-654.26 501.87,-663.68 508.8,-664.65"/>
<text text-anchor="middle" x="577.5" y="-696.8" font-family="Times,serif" font-size="14.00">.register(general)</text>
</g>
<!-- reg_sse -->
<g id="node10" class="node">
<title>reg_sse</title>
<polygon fill="none" stroke="black" points="751,-654 635,-654 635,-618 751,-618 751,-654"/>
<text text-anchor="middle" x="693" y="-632.3" font-family="Times,serif" font-size="14.00">处理.sse寄存器</text>
</g>
<!-- pred_switch&#45;&gt;reg_sse -->
<g id="edge8" class="edge">
<title>pred_switch&#45;&gt;reg_sse</title>
<path fill="none" stroke="black" d="M628.34,-727.69C633.74,-721.7 639.83,-714.67 645,-708 656.3,-693.44 667.9,-676.34 676.87,-662.58"/>
<polygon fill="black" stroke="black" points="679.87,-664.38 682.35,-654.07 673.99,-660.58 679.87,-664.38"/>
<text text-anchor="middle" x="702" y="-696.8" font-family="Times,serif" font-size="14.00">.register(sse)</text>
</g>
<!-- other_case -->
<g id="node11" class="node">
<title>other_case</title>
<polygon fill="none" stroke="black" points="843,-654 769,-654 769,-618 843,-618 843,-654"/>
<text text-anchor="middle" x="806" y="-632.3" font-family="Times,serif" font-size="14.00">其他情况</text>
</g>
<!-- pred_switch&#45;&gt;other_case -->
<g id="edge9" class="edge">
<title>pred_switch&#45;&gt;other_case</title>
<path fill="none" stroke="black" d="M683.44,-735.42C707.3,-730.37 733.21,-721.98 754,-708 770.7,-696.78 783.97,-678.32 792.93,-663.03"/>
<polygon fill="black" stroke="black" points="796.14,-664.46 797.94,-654.02 790.03,-661.06 796.14,-664.46"/>
<text text-anchor="middle" x="784.5" y="-696.8" font-family="Times,serif" font-size="14.00">其他</text>
</g>
<!-- mask_avx -->
<g id="node12" class="node">
<title>mask_avx</title>
<polygon fill="none" stroke="black" points="444.5,-219 341.5,-219 341.5,-183 444.5,-183 444.5,-219"/>
<text text-anchor="middle" x="393" y="-197.3" font-family="Times,serif" font-size="14.00">AVX特性处理</text>
</g>
<!-- reg_mask&#45;&gt;mask_avx -->
<g id="edge10" class="edge">
<title>reg_mask&#45;&gt;mask_avx</title>
<path fill="none" stroke="black" d="M322.09,-617.87C342.34,-601.27 368,-574.11 368,-543 368,-543 368,-543 368,-308 368,-280.54 376.05,-250.12 383.01,-228.94"/>
<polygon fill="black" stroke="black" points="386.37,-229.93 386.3,-219.33 379.75,-227.66 386.37,-229.93"/>
<text text-anchor="middle" x="397" y="-421.8" font-family="Times,serif" font-size="14.00">AVX可用</text>
</g>
<!-- mask_sse -->
<g id="node13" class="node">
<title>mask_sse</title>
<polygon fill="none" stroke="black" points="323.5,-219 220.5,-219 220.5,-183 323.5,-183 323.5,-219"/>
<text text-anchor="middle" x="272" y="-197.3" font-family="Times,serif" font-size="14.00">SSE特性处理</text>
</g>
<!-- reg_mask&#45;&gt;mask_sse -->
<g id="edge11" class="edge">
<title>reg_mask&#45;&gt;mask_sse</title>
<path fill="none" stroke="black" d="M296.8,-617.71C295.62,-599.23 294,-569.06 294,-543 294,-543 294,-543 294,-308 294,-280.54 286.84,-249.9 280.68,-228.65"/>
<polygon fill="black" stroke="black" points="284.02,-227.6 277.78,-219.03 277.32,-229.62 284.02,-227.6"/>
<text text-anchor="middle" x="316" y="-421.8" font-family="Times,serif" font-size="14.00">仅SSE</text>
</g>
<!-- check_blend -->
<g id="node20" class="node">
<title>check_blend</title>
<polygon fill="none" stroke="black" points="753,-327 665.86,-309 753,-291 840.14,-309 753,-327"/>
<text text-anchor="middle" x="753" y="-305.3" font-family="Times,serif" font-size="14.00">has_blend?</text>
</g>
<!-- reg_sse&#45;&gt;check_blend -->
<g id="edge17" class="edge">
<title>reg_sse&#45;&gt;check_blend</title>
<path fill="none" stroke="black" d="M699.6,-618C706.08,-599.75 715,-569.77 715,-543 715,-543 715,-543 715,-381 715,-363.22 724.37,-345.59 733.81,-332.34"/>
<polygon fill="black" stroke="black" points="736.65,-334.39 739.92,-324.31 731.08,-330.15 736.65,-334.39"/>
</g>
<!-- get_lhs -->
<g id="node16" class="node">
<title>get_lhs</title>
<polygon fill="none" stroke="black" points="672.5,-560 563.5,-560 563.5,-524 672.5,-524 672.5,-560"/>
<text text-anchor="middle" x="618" y="-538.3" font-family="Times,serif" font-size="14.00">解析lhs操作数</text>
</g>
<!-- other_case&#45;&gt;get_lhs -->
<g id="edge16" class="edge">
<title>other_case&#45;&gt;get_lhs</title>
<path fill="none" stroke="black" d="M774.95,-617.81C769.97,-615.15 764.86,-612.47 760,-610 728.55,-594.05 692.62,-577.11 664.77,-564.25"/>
<polygon fill="black" stroke="black" points="666.2,-561.06 655.65,-560.06 663.27,-567.42 666.2,-561.06"/>
</g>
<!-- mask_broadcast -->
<g id="node14" class="node">
<title>mask_broadcast</title>
<polygon fill="none" stroke="black" points="348,-125 232,-125 232,-89 348,-89 348,-125"/>
<text text-anchor="middle" x="290" y="-103.3" font-family="Times,serif" font-size="14.00">广播掩码到向量</text>
</g>
<!-- mask_avx&#45;&gt;mask_broadcast -->
<g id="edge12" class="edge">
<title>mask_avx&#45;&gt;mask_broadcast</title>
<path fill="none" stroke="black" d="M373.63,-182.7C357.66,-168.43 334.83,-148.04 317.05,-132.16"/>
<polygon fill="black" stroke="black" points="319.08,-129.28 309.29,-125.23 314.41,-134.5 319.08,-129.28"/>
</g>
<!-- mask_sse&#45;&gt;mask_broadcast -->
<g id="edge14" class="edge">
<title>mask_sse&#45;&gt;mask_broadcast</title>
<path fill="none" stroke="black" d="M275.39,-182.7C278,-169.33 281.67,-150.59 284.67,-135.22"/>
<polygon fill="black" stroke="black" points="288.14,-135.71 286.63,-125.23 281.27,-134.37 288.14,-135.71"/>
</g>
<!-- mask_shuffle -->
<g id="node15" class="node">
<title>mask_shuffle</title>
<polygon fill="none" stroke="black" points="377,-52 203,-52 203,-16 377,-16 377,-52"/>
<text text-anchor="middle" x="290" y="-30.3" font-family="Times,serif" font-size="14.00">使用SHUF指令调整掩码</text>
<text text-anchor="middle" x="101.5" y="-55.8" font-family="Times,serif" font-size="14.00">根据elem_size选择shuffle模式</text>
</g>
<!-- mask_broadcast&#45;&gt;mask_shuffle -->
<g id="edge13" class="edge">
<title>mask_broadcast&#45;&gt;mask_shuffle</title>
<path fill="none" stroke="black" d="M284.12,-88.81C283.28,-80.79 283.05,-71.05 283.42,-62.07"/>
<polygon fill="black" stroke="black" points="286.92,-62.25 284.14,-52.03 279.94,-61.75 286.92,-62.25"/>
</g>
<!-- mask_broadcast&#45;&gt;mask_shuffle -->
<g id="edge15" class="edge">
<title>mask_broadcast&#45;&gt;mask_shuffle</title>
<path fill="none" stroke="black" d="M295.88,-88.81C296.72,-80.79 296.95,-71.05 296.58,-62.07"/>
<polygon fill="black" stroke="black" points="300.06,-61.75 295.86,-52.03 293.08,-62.25 300.06,-61.75"/>
</g>
<!-- get_rhs -->
<g id="node17" class="node">
<title>get_rhs</title>
<polygon fill="none" stroke="black" points="672.5,-487 561.5,-487 561.5,-451 672.5,-451 672.5,-487"/>
<text text-anchor="middle" x="617" y="-465.3" font-family="Times,serif" font-size="14.00">解析rhs操作数</text>
</g>
<!-- get_lhs&#45;&gt;get_rhs -->
<g id="edge20" class="edge">
<title>get_lhs&#45;&gt;get_rhs</title>
<path fill="none" stroke="black" d="M617.76,-523.81C617.64,-515.79 617.51,-506.05 617.38,-497.07"/>
<polygon fill="black" stroke="black" points="620.88,-496.98 617.24,-487.03 613.88,-497.08 620.88,-496.98"/>
</g>
<!-- lock_ops -->
<g id="node18" class="node">
<title>lock_ops</title>
<polygon fill="none" stroke="black" points="674,-400 558,-400 558,-364 674,-364 674,-400"/>
<text text-anchor="middle" x="616" y="-378.3" font-family="Times,serif" font-size="14.00">锁定相关寄存器</text>
</g>
<!-- get_rhs&#45;&gt;lock_ops -->
<g id="edge21" class="edge">
<title>get_rhs&#45;&gt;lock_ops</title>
<path fill="none" stroke="black" d="M616.8,-450.8C616.66,-439.16 616.48,-423.55 616.32,-410.24"/>
<polygon fill="black" stroke="black" points="619.82,-410.13 616.2,-400.18 612.82,-410.22 619.82,-410.13"/>
</g>
<!-- check_avx -->
<g id="node19" class="node">
<title>check_avx</title>
<polygon fill="none" stroke="black" points="557,-327 483.43,-309 557,-291 630.57,-309 557,-327"/>
<text text-anchor="middle" x="557" y="-305.3" font-family="Times,serif" font-size="14.00">has_avx?</text>
</g>
<!-- lock_ops&#45;&gt;check_avx -->
<g id="edge22" class="edge">
<title>lock_ops&#45;&gt;check_avx</title>
<path fill="none" stroke="black" d="M601.72,-363.81C593.75,-354.23 583.75,-342.19 575.22,-331.93"/>
<polygon fill="black" stroke="black" points="577.85,-329.62 568.77,-324.17 572.47,-334.09 577.85,-329.62"/>
</g>
<!-- check_avx&#45;&gt;check_blend -->
<g id="edge24" class="edge">
<title>check_avx&#45;&gt;check_blend</title>
<path fill="none" stroke="black" d="M630.54,-309C638.73,-309 647.16,-309 655.58,-309"/>
<polygon fill="black" stroke="black" points="655.83,-312.5 665.83,-309 655.83,-305.5 655.83,-312.5"/>
<text text-anchor="middle" x="648.11" y="-315.8" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- avx_path -->
<g id="node21" class="node">
<title>avx_path</title>
<polygon fill="none" stroke="black" points="651,-219 463,-219 463,-183 651,-183 651,-219"/>
<text text-anchor="middle" x="557" y="-197.3" font-family="Times,serif" font-size="14.00">生成AVX指令(vpblendvb)</text>
</g>
<!-- check_avx&#45;&gt;avx_path -->
<g id="edge23" class="edge">
<title>check_avx&#45;&gt;avx_path</title>
<path fill="none" stroke="black" d="M557,-290.97C557,-274.38 557,-248.88 557,-229.43"/>
<polygon fill="black" stroke="black" points="560.5,-229.34 557,-219.34 553.5,-229.34 560.5,-229.34"/>
<text text-anchor="middle" x="564.5" y="-261.8" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- check_blend&#45;&gt;mask_avx -->
<g id="edge18" class="edge">
<title>check_blend&#45;&gt;mask_avx</title>
<path fill="none" stroke="black" d="M722.44,-297.23C687.51,-285.43 628.4,-266.97 576,-258 548.56,-253.3 476.87,-260.26 451,-250 437.96,-244.83 425.66,-235.56 415.77,-226.53"/>
<polygon fill="black" stroke="black" points="418.03,-223.84 408.39,-219.43 413.17,-228.89 418.03,-223.84"/>
<text text-anchor="middle" x="673.5" y="-261.8" font-family="Times,serif" font-size="14.00">有SSE4.1</text>
</g>
<!-- manual_path -->
<g id="node23" class="node">
<title>manual_path</title>
<polygon fill="none" stroke="black" points="880.5,-219 669.5,-219 669.5,-183 880.5,-183 880.5,-219"/>
<text text-anchor="middle" x="775" y="-197.3" font-family="Times,serif" font-size="14.00">手动组合AND/ANDN/OR指令</text>
<text text-anchor="middle" x="586.5" y="-222.8" font-family="Times,serif" font-size="14.00">使用AND/ANDN/OR组合</text>
</g>
<!-- check_blend&#45;&gt;manual_path -->
<g id="edge19" class="edge">
<title>check_blend&#45;&gt;manual_path</title>
<path fill="none" stroke="black" d="M756.44,-291.44C759.9,-274.75 765.3,-248.74 769.38,-229.06"/>
<polygon fill="black" stroke="black" points="772.84,-229.65 771.44,-219.15 765.98,-228.23 772.84,-229.65"/>
<text text-anchor="middle" x="796.5" y="-261.8" font-family="Times,serif" font-size="14.00">无SSE4.1</text>
</g>
<!-- avx_path&#45;&gt;end -->
<g id="edge25" class="edge">
<title>avx_path&#45;&gt;end</title>
<path fill="none" stroke="black" d="M597.49,-182.91C635.18,-167.01 691.24,-143.35 730.24,-126.89"/>
<polygon fill="black" stroke="black" points="731.91,-129.98 739.77,-122.87 729.19,-123.53 731.91,-129.98"/>
</g>
<!-- blend_path -->
<g id="node22" class="node">
<title>blend_path</title>
<polygon fill="none" stroke="black" points="1035.5,-219 898.5,-219 898.5,-183 1035.5,-183 1035.5,-219"/>
<text text-anchor="middle" x="967" y="-197.3" font-family="Times,serif" font-size="14.00">生成BLENDV指令</text>
</g>
<!-- blend_path&#45;&gt;end -->
<g id="edge26" class="edge">
<title>blend_path&#45;&gt;end</title>
<path fill="none" stroke="black" d="M931.34,-182.91C898.72,-167.28 850.49,-144.17 816.23,-127.76"/>
<polygon fill="black" stroke="black" points="817.5,-124.48 806.97,-123.32 814.47,-130.79 817.5,-124.48"/>
</g>
<!-- manual_path&#45;&gt;end -->
<g id="edge27" class="edge">
<title>manual_path&#45;&gt;end</title>
<path fill="none" stroke="black" d="M775,-182.7C775,-169.46 775,-150.95 775,-135.66"/>
<polygon fill="black" stroke="black" points="778.5,-135.23 775,-125.23 771.5,-135.23 778.5,-135.23"/>
</g>
</g>
</svg>
