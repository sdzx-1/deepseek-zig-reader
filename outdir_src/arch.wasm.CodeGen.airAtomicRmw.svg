<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: airAtomicRmw Pages: 1 -->
<svg width="1056pt" height="403pt"
 viewBox="0.00 0.00 1056.34 403.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 399)">
<title>airAtomicRmw</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-399 1052.34,-399 1052.34,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_atomic</title>
<polygon fill="none" stroke="black" points="94.34,-79 94.34,-245 310.34,-245 310.34,-79 94.34,-79"/>
<text text-anchor="middle" x="202.34" y="-229.8" font-family="Times,serif" font-size="14.00">原子特性分支</text>
</g>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<path fill="none" stroke="black" d="M493.34,-395C493.34,-395 363.34,-395 363.34,-395 357.34,-395 351.34,-389 351.34,-383 351.34,-383 351.34,-371 351.34,-371 351.34,-365 357.34,-359 363.34,-359 363.34,-359 493.34,-359 493.34,-359 499.34,-359 505.34,-365 505.34,-371 505.34,-371 505.34,-383 505.34,-383 505.34,-389 499.34,-395 493.34,-395"/>
<text text-anchor="middle" x="428.34" y="-373.3" font-family="Times,serif" font-size="14.00">开始 airAtomicRmw</text>
</g>
<!-- check_atomic_feature -->
<g id="node2" class="node">
<title>check_atomic_feature</title>
<path fill="none" stroke="black" d="M510.84,-322C510.84,-322 345.84,-322 345.84,-322 339.84,-322 333.84,-316 333.84,-310 333.84,-310 333.84,-298 333.84,-298 333.84,-292 339.84,-286 345.84,-286 345.84,-286 510.84,-286 510.84,-286 516.84,-286 522.84,-292 522.84,-298 522.84,-298 522.84,-310 522.84,-310 522.84,-316 516.84,-322 510.84,-322"/>
<text text-anchor="middle" x="428.34" y="-300.3" font-family="Times,serif" font-size="14.00">检查 useAtomicFeature()</text>
</g>
<!-- start&#45;&gt;check_atomic_feature -->
<g id="edge1" class="edge">
<title>start&#45;&gt;check_atomic_feature</title>
<path fill="none" stroke="black" d="M428.34,-358.81C428.34,-350.79 428.34,-341.05 428.34,-332.07"/>
<polygon fill="black" stroke="black" points="431.84,-332.03 428.34,-322.03 424.84,-332.03 431.84,-332.03"/>
</g>
<!-- handle_max_min_nand -->
<g id="node3" class="node">
<title>handle_max_min_nand</title>
<path fill="none" stroke="black" d="M283.34,-214C283.34,-214 137.34,-214 137.34,-214 131.34,-214 125.34,-208 125.34,-202 125.34,-202 125.34,-188 125.34,-188 125.34,-182 131.34,-176 137.34,-176 137.34,-176 283.34,-176 283.34,-176 289.34,-176 295.34,-182 295.34,-188 295.34,-188 295.34,-202 295.34,-202 295.34,-208 289.34,-214 283.34,-214"/>
<text text-anchor="middle" x="210.34" y="-198.8" font-family="Times,serif" font-size="14.00">处理 Max/Min/Nand</text>
<text text-anchor="middle" x="210.34" y="-183.8" font-family="Times,serif" font-size="14.00">创建循环使用 cmpxchg</text>
</g>
<!-- check_atomic_feature&#45;&gt;handle_max_min_nand -->
<g id="edge2" class="edge">
<title>check_atomic_feature&#45;&gt;handle_max_min_nand</title>
<path fill="none" stroke="black" d="M393.32,-285.81C356.13,-267.56 297.21,-238.63 256.31,-218.56"/>
<polygon fill="black" stroke="black" points="257.62,-215.31 247.1,-214.04 254.54,-221.59 257.62,-215.31"/>
<text text-anchor="middle" x="358.84" y="-256.8" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- handle_non_atomic -->
<g id="node5" class="node">
<title>handle_non_atomic</title>
<path fill="none" stroke="black" d="M693.34,-213C693.34,-213 601.34,-213 601.34,-213 595.34,-213 589.34,-207 589.34,-201 589.34,-201 589.34,-189 589.34,-189 589.34,-183 595.34,-177 601.34,-177 601.34,-177 693.34,-177 693.34,-177 699.34,-177 705.34,-183 705.34,-189 705.34,-189 705.34,-201 705.34,-201 705.34,-207 699.34,-213 693.34,-213"/>
<text text-anchor="middle" x="647.34" y="-191.3" font-family="Times,serif" font-size="14.00">非原子模式处理</text>
</g>
<!-- check_atomic_feature&#45;&gt;handle_non_atomic -->
<g id="edge3" class="edge">
<title>check_atomic_feature&#45;&gt;handle_non_atomic</title>
<path fill="none" stroke="black" d="M463.53,-285.81C501.44,-267.28 561.86,-237.76 603,-217.66"/>
<polygon fill="black" stroke="black" points="604.8,-220.68 612.24,-213.15 601.72,-214.39 604.8,-220.68"/>
<text text-anchor="middle" x="531.84" y="-256.8" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- handle_other_ops -->
<g id="node4" class="node">
<title>handle_other_ops</title>
<path fill="none" stroke="black" d="M290.34,-125C290.34,-125 114.34,-125 114.34,-125 108.34,-125 102.34,-119 102.34,-113 102.34,-113 102.34,-99 102.34,-99 102.34,-93 108.34,-87 114.34,-87 114.34,-87 290.34,-87 290.34,-87 296.34,-87 302.34,-93 302.34,-99 302.34,-99 302.34,-113 302.34,-113 302.34,-119 296.34,-125 290.34,-125"/>
<text text-anchor="middle" x="202.34" y="-109.8" font-family="Times,serif" font-size="14.00">其他操作选择指令</text>
<text text-anchor="middle" x="202.34" y="-94.8" font-family="Times,serif" font-size="14.00">Xchg/Add/Sub/And/Or/Xor</text>
</g>
<!-- handle_max_min_nand&#45;&gt;handle_other_ops -->
<!-- end -->
<g id="node10" class="node">
<title>end</title>
<path fill="none" stroke="black" d="M621.34,-36C621.34,-36 529.34,-36 529.34,-36 523.34,-36 517.34,-30 517.34,-24 517.34,-24 517.34,-12 517.34,-12 517.34,-6 523.34,0 529.34,0 529.34,0 621.34,0 621.34,0 627.34,0 633.34,-6 633.34,-12 633.34,-12 633.34,-24 633.34,-24 633.34,-30 627.34,-36 621.34,-36"/>
<text text-anchor="middle" x="575.34" y="-14.3" font-family="Times,serif" font-size="14.00">结束并返回结果</text>
</g>
<!-- handle_max_min_nand&#45;&gt;end -->
<g id="edge4" class="edge">
<title>handle_max_min_nand&#45;&gt;end</title>
<path fill="none" stroke="black" d="M241.68,-175.94C262.56,-163.13 289.98,-144.75 311.34,-125 330.6,-107.19 325.71,-92.28 348.34,-79 371.28,-65.54 381.44,-75.03 407.34,-69 443.2,-60.66 482.69,-49.03 514.37,-39.09"/>
<polygon fill="black" stroke="black" points="515.46,-42.42 523.93,-36.07 513.34,-35.74 515.46,-42.42"/>
<text text-anchor="middle" x="391.34" y="-102.3" font-family="Times,serif" font-size="14.00">完成循环操作</text>
</g>
<!-- error_exit -->
<g id="node11" class="node">
<title>error_exit</title>
<ellipse fill="none" stroke="red" cx="51.34" cy="-18" rx="48.19" ry="18"/>
<text text-anchor="middle" x="51.34" y="-14.3" font-family="Times,serif" font-size="14.00">返回错误</text>
</g>
<!-- handle_max_min_nand&#45;&gt;error_exit -->
<g id="edge15" class="edge">
<title>handle_max_min_nand&#45;&gt;error_exit</title>
<path fill="none" stroke="black" d="M125.27,-187.76C82.49,-179.82 34.17,-162.45 7.34,-125 -10.84,-99.61 9.74,-65.57 28.43,-42.99"/>
<polygon fill="black" stroke="black" points="31.25,-45.08 35.15,-35.23 25.96,-40.5 31.25,-45.08"/>
<text text-anchor="middle" x="50.34" y="-102.3" font-family="Times,serif" font-size="14.00">不支持的类型</text>
</g>
<!-- handle_other_ops&#45;&gt;end -->
<g id="edge5" class="edge">
<title>handle_other_ops&#45;&gt;end</title>
<path fill="none" stroke="black" d="M187.04,-86.68C180.08,-76.07 175.05,-63.06 183.34,-54 204.7,-30.65 400.47,-22.76 507,-20.19"/>
<polygon fill="black" stroke="black" points="507.11,-23.69 517.03,-19.96 506.95,-16.69 507.11,-23.69"/>
<text text-anchor="middle" x="240.84" y="-57.8" font-family="Times,serif" font-size="14.00">直接使用原子指令</text>
</g>
<!-- handle_other_ops&#45;&gt;error_exit -->
<g id="edge17" class="edge">
<title>handle_other_ops&#45;&gt;error_exit</title>
<path fill="none" stroke="black" d="M122.69,-86.94C87.47,-78.77 53.62,-70.58 52.34,-69 47.21,-62.63 45.73,-54.17 45.89,-46.03"/>
<polygon fill="black" stroke="black" points="49.38,-46.35 46.84,-36.07 42.41,-45.69 49.38,-46.35"/>
<text text-anchor="middle" x="106.34" y="-57.8" font-family="Times,serif" font-size="14.00">不支持的abi大小</text>
</g>
<!-- handle_xchg -->
<g id="node6" class="node">
<title>handle_xchg</title>
<path fill="none" stroke="black" d="M700.84,-124C700.84,-124 593.84,-124 593.84,-124 587.84,-124 581.84,-118 581.84,-112 581.84,-112 581.84,-100 581.84,-100 581.84,-94 587.84,-88 593.84,-88 593.84,-88 700.84,-88 700.84,-88 706.84,-88 712.84,-94 712.84,-100 712.84,-100 712.84,-112 712.84,-112 712.84,-118 706.84,-124 700.84,-124"/>
<text text-anchor="middle" x="647.34" y="-102.3" font-family="Times,serif" font-size="14.00">存储操作数到指针</text>
</g>
<!-- handle_non_atomic&#45;&gt;handle_xchg -->
<g id="edge6" class="edge">
<title>handle_non_atomic&#45;&gt;handle_xchg</title>
<path fill="none" stroke="black" d="M647.34,-176.81C647.34,-164.66 647.34,-148.11 647.34,-134.18"/>
<polygon fill="black" stroke="black" points="650.84,-134.15 647.34,-124.15 643.84,-134.15 650.84,-134.15"/>
<text text-anchor="middle" x="700.84" y="-146.8" font-family="Times,serif" font-size="14.00">操作类型为Xchg</text>
</g>
<!-- handle_arithmetic -->
<g id="node7" class="node">
<title>handle_arithmetic</title>
<path fill="none" stroke="black" d="M839.84,-125C839.84,-125 742.84,-125 742.84,-125 736.84,-125 730.84,-119 730.84,-113 730.84,-113 730.84,-99 730.84,-99 730.84,-93 736.84,-87 742.84,-87 742.84,-87 839.84,-87 839.84,-87 845.84,-87 851.84,-93 851.84,-99 851.84,-99 851.84,-113 851.84,-113 851.84,-119 845.84,-125 839.84,-125"/>
<text text-anchor="middle" x="791.34" y="-109.8" font-family="Times,serif" font-size="14.00">执行算术/位操作</text>
<text text-anchor="middle" x="791.34" y="-94.8" font-family="Times,serif" font-size="14.00">并存储结果</text>
</g>
<!-- handle_non_atomic&#45;&gt;handle_arithmetic -->
<g id="edge7" class="edge">
<title>handle_non_atomic&#45;&gt;handle_arithmetic</title>
<path fill="none" stroke="black" d="M705.43,-183.19C723.66,-177.79 743,-169.79 758.34,-158 766.54,-151.71 773.29,-142.76 778.51,-134.11"/>
<polygon fill="black" stroke="black" points="781.59,-135.78 783.39,-125.34 775.47,-132.38 781.59,-135.78"/>
<text text-anchor="middle" x="843.84" y="-146.8" font-family="Times,serif" font-size="14.00">Add/Sub/And/Or/Xor</text>
</g>
<!-- handle_max_min -->
<g id="node8" class="node">
<title>handle_max_min</title>
<path fill="none" stroke="black" d="M1036.34,-125C1036.34,-125 882.34,-125 882.34,-125 876.34,-125 870.34,-119 870.34,-113 870.34,-113 870.34,-99 870.34,-99 870.34,-93 876.34,-87 882.34,-87 882.34,-87 1036.34,-87 1036.34,-87 1042.34,-87 1048.34,-93 1048.34,-99 1048.34,-99 1048.34,-113 1048.34,-113 1048.34,-119 1042.34,-125 1036.34,-125"/>
<text text-anchor="middle" x="959.34" y="-109.8" font-family="Times,serif" font-size="14.00">比较并选择最大值/最小值</text>
<text text-anchor="middle" x="959.34" y="-94.8" font-family="Times,serif" font-size="14.00">存储结果</text>
</g>
<!-- handle_non_atomic&#45;&gt;handle_max_min -->
<g id="edge8" class="edge">
<title>handle_non_atomic&#45;&gt;handle_max_min</title>
<path fill="none" stroke="black" d="M705.64,-191.52C774.72,-187.68 884.91,-178.5 920.34,-158 930.29,-152.25 938.54,-142.86 944.86,-133.7"/>
<polygon fill="black" stroke="black" points="947.91,-135.43 950.32,-125.11 942,-131.67 947.91,-135.43"/>
<text text-anchor="middle" x="969.34" y="-146.8" font-family="Times,serif" font-size="14.00">Max/Min</text>
</g>
<!-- handle_nand -->
<g id="node9" class="node">
<title>handle_nand</title>
<path fill="none" stroke="black" d="M551.84,-125C551.84,-125 454.84,-125 454.84,-125 448.84,-125 442.84,-119 442.84,-113 442.84,-113 442.84,-99 442.84,-99 442.84,-93 448.84,-87 454.84,-87 454.84,-87 551.84,-87 551.84,-87 557.84,-87 563.84,-93 563.84,-99 563.84,-99 563.84,-113 563.84,-113 563.84,-119 557.84,-125 551.84,-125"/>
<text text-anchor="middle" x="503.34" y="-109.8" font-family="Times,serif" font-size="14.00">执行AND后取反</text>
<text text-anchor="middle" x="503.34" y="-94.8" font-family="Times,serif" font-size="14.00">存储结果</text>
</g>
<!-- handle_non_atomic&#45;&gt;handle_nand -->
<g id="edge9" class="edge">
<title>handle_non_atomic&#45;&gt;handle_nand</title>
<path fill="none" stroke="black" d="M618.89,-176.81C596.85,-163.49 566.08,-144.9 541.83,-130.25"/>
<polygon fill="black" stroke="black" points="543.59,-127.23 533.22,-125.05 539.97,-133.22 543.59,-127.23"/>
<text text-anchor="middle" x="602.84" y="-146.8" font-family="Times,serif" font-size="14.00">Nand</text>
</g>
<!-- handle_xchg&#45;&gt;end -->
<g id="edge10" class="edge">
<title>handle_xchg&#45;&gt;end</title>
<path fill="none" stroke="black" d="M632.77,-87.6C622.26,-75.04 607.92,-57.91 596.2,-43.91"/>
<polygon fill="black" stroke="black" points="598.75,-41.5 589.65,-36.08 593.38,-46 598.75,-41.5"/>
</g>
<!-- handle_arithmetic&#45;&gt;end -->
<g id="edge11" class="edge">
<title>handle_arithmetic&#45;&gt;end</title>
<path fill="none" stroke="black" d="M746.06,-86.97C711.54,-73.23 663.93,-54.27 627.76,-39.87"/>
<polygon fill="black" stroke="black" points="628.94,-36.57 618.36,-36.13 626.35,-43.08 628.94,-36.57"/>
</g>
<!-- handle_max_min&#45;&gt;end -->
<g id="edge12" class="edge">
<title>handle_max_min&#45;&gt;end</title>
<path fill="none" stroke="black" d="M893.3,-86.97C882.64,-84.21 871.7,-81.46 861.34,-79 787.3,-61.42 701.84,-43.85 643.76,-32.3"/>
<polygon fill="black" stroke="black" points="644.09,-28.8 633.6,-30.29 642.73,-35.67 644.09,-28.8"/>
</g>
<!-- handle_nand&#45;&gt;end -->
<g id="edge13" class="edge">
<title>handle_nand&#45;&gt;end</title>
<path fill="none" stroke="black" d="M518.61,-86.76C529.1,-74.23 543.15,-57.45 554.65,-43.72"/>
<polygon fill="black" stroke="black" points="557.34,-45.96 561.07,-36.04 551.97,-41.46 557.34,-45.96"/>
</g>
<!-- handle_nand&#45;&gt;error_exit -->
<g id="edge16" class="edge">
<title>handle_nand&#45;&gt;error_exit</title>
<path fill="none" stroke="black" d="M454.44,-86.92C445.81,-84.05 436.86,-81.28 428.34,-79 316.61,-49.06 181.99,-32.05 107.63,-24.26"/>
<polygon fill="black" stroke="black" points="107.85,-20.77 97.54,-23.23 107.13,-27.73 107.85,-20.77"/>
<text text-anchor="middle" x="430.34" y="-57.8" font-family="Times,serif" font-size="14.00">不支持的类型</text>
</g>
</g>
</svg>
