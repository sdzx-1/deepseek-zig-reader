<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="609pt" height="886pt"
 viewBox="0.00 0.00 609.00 886.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 882)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-882 605,-882 605,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_comptime</title>
<polygon fill="none" stroke="black" points="340,-65 340,-393 593,-393 593,-65 340,-65"/>
<text text-anchor="middle" x="466.5" y="-377.8" font-family="Times,serif" font-size="14.00">处理.inferred_alloc_comptime分支</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_alloc</title>
<polygon fill="none" stroke="black" points="8,-65 8,-578 332,-578 332,-65 8,-65"/>
<text text-anchor="middle" x="170" y="-562.8" font-family="Times,serif" font-size="14.00">处理.inferred_alloc分支</text>
</g>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<path fill="none" stroke="black" d="M384,-878C384,-878 354,-878 354,-878 348,-878 342,-872 342,-866 342,-866 342,-854 342,-854 342,-848 348,-842 354,-842 354,-842 384,-842 384,-842 390,-842 396,-848 396,-854 396,-854 396,-866 396,-866 396,-872 390,-878 384,-878"/>
<text text-anchor="middle" x="369" y="-856.3" font-family="Helvetica,sans-Serif" font-size="14.00">开始</text>
</g>
<!-- init -->
<g id="node2" class="node">
<title>init</title>
<path fill="none" stroke="black" d="M436,-805C436,-805 302,-805 302,-805 296,-805 290,-799 290,-793 290,-793 290,-779 290,-779 290,-773 296,-767 302,-767 302,-767 436,-767 436,-767 442,-767 448,-773 448,-779 448,-779 448,-793 448,-793 448,-799 442,-805 436,-805"/>
<text text-anchor="middle" x="369" y="-789.8" font-family="Helvetica,sans-Serif" font-size="14.00">初始化变量</text>
<text text-anchor="middle" x="369" y="-774.8" font-family="Helvetica,sans-Serif" font-size="14.00">tracy, pt, zcu, gpa等</text>
</g>
<!-- start&#45;&gt;init -->
<g id="edge1" class="edge">
<title>start&#45;&gt;init</title>
<path fill="none" stroke="black" d="M369,-841.94C369,-833.99 369,-824.31 369,-815.31"/>
<polygon fill="black" stroke="black" points="372.5,-815.2 369,-805.2 365.5,-815.2 372.5,-815.2"/>
</g>
<!-- parse_inst -->
<g id="node3" class="node">
<title>parse_inst</title>
<path fill="none" stroke="black" d="M460,-730C460,-730 278,-730 278,-730 272,-730 266,-724 266,-718 266,-718 266,-704 266,-704 266,-698 272,-692 278,-692 278,-692 460,-692 460,-692 466,-692 472,-698 472,-704 472,-704 472,-718 472,-718 472,-724 466,-730 460,-730"/>
<text text-anchor="middle" x="369" y="-714.8" font-family="Helvetica,sans-Serif" font-size="14.00">解析指令数据</text>
<text text-anchor="middle" x="369" y="-699.8" font-family="Helvetica,sans-Serif" font-size="14.00">获取src, ty_src, ptr, ptr_inst</text>
</g>
<!-- init&#45;&gt;parse_inst -->
<g id="edge2" class="edge">
<title>init&#45;&gt;parse_inst</title>
<path fill="none" stroke="black" d="M369,-766.96C369,-758.88 369,-749.18 369,-740.18"/>
<polygon fill="black" stroke="black" points="372.5,-740.09 369,-730.09 365.5,-740.09 372.5,-740.09"/>
</g>
<!-- switch -->
<g id="node4" class="node">
<title>switch</title>
<path fill="none" stroke="black" d="M357.09,-653.55C357.09,-653.55 232.94,-638.45 232.94,-638.45 226.99,-637.72 226.99,-636.28 232.94,-635.55 232.94,-635.55 357.09,-620.45 357.09,-620.45 363.04,-619.72 374.96,-619.72 380.91,-620.45 380.91,-620.45 505.06,-635.55 505.06,-635.55 511.01,-636.28 511.01,-637.72 505.06,-638.45 505.06,-638.45 380.91,-653.55 380.91,-653.55 374.96,-654.28 363.04,-654.28 357.09,-653.55"/>
<text text-anchor="middle" x="369" y="-633.3" font-family="Helvetica,sans-Serif" font-size="14.00">switch(ptr_inst的tag)</text>
</g>
<!-- parse_inst&#45;&gt;switch -->
<g id="edge3" class="edge">
<title>parse_inst&#45;&gt;switch</title>
<path fill="none" stroke="black" d="M369,-691.83C369,-683.89 369,-674.41 369,-665.63"/>
<polygon fill="black" stroke="black" points="372.5,-665.42 369,-655.42 365.5,-665.42 372.5,-665.42"/>
</g>
<!-- comptime_start -->
<g id="node5" class="node">
<title>comptime_start</title>
<path fill="none" stroke="black" d="M486.5,-362C486.5,-362 361.5,-362 361.5,-362 355.5,-362 349.5,-356 349.5,-350 349.5,-350 349.5,-336 349.5,-336 349.5,-330 355.5,-324 361.5,-324 361.5,-324 486.5,-324 486.5,-324 492.5,-324 498.5,-330 498.5,-336 498.5,-336 498.5,-350 498.5,-350 498.5,-356 492.5,-362 486.5,-362"/>
<text text-anchor="middle" x="424" y="-346.8" font-family="Helvetica,sans-Serif" font-size="14.00">检查runtime_safety</text>
<text text-anchor="middle" x="424" y="-331.8" font-family="Helvetica,sans-Serif" font-size="14.00">重置指令数据</text>
</g>
<!-- switch&#45;&gt;comptime_start -->
<g id="edge4" class="edge">
<title>switch&#45;&gt;comptime_start</title>
<path fill="none" stroke="black" d="M371.17,-619.1C374.37,-594.7 380.79,-548.25 388,-509 396.89,-460.6 409.6,-404.74 417.29,-372.01"/>
<polygon fill="black" stroke="black" points="420.71,-372.77 419.61,-362.23 413.9,-371.16 420.71,-372.77"/>
<text text-anchor="middle" x="480.5" y="-479.8" font-family="Helvetica,sans-Serif" font-size="14.00">.inferred_alloc_comptime</text>
</g>
<!-- alloc_start -->
<g id="node9" class="node">
<title>alloc_start</title>
<path fill="none" stroke="black" d="M288.5,-547C288.5,-547 201.5,-547 201.5,-547 195.5,-547 189.5,-541 189.5,-535 189.5,-535 189.5,-521 189.5,-521 189.5,-515 195.5,-509 201.5,-509 201.5,-509 288.5,-509 288.5,-509 294.5,-509 300.5,-515 300.5,-521 300.5,-521 300.5,-535 300.5,-535 300.5,-541 294.5,-547 288.5,-547"/>
<text text-anchor="middle" x="245" y="-531.8" font-family="Helvetica,sans-Serif" font-size="14.00">获取ia1/ia2</text>
<text text-anchor="middle" x="245" y="-516.8" font-family="Helvetica,sans-Serif" font-size="14.00">收集peer_vals</text>
</g>
<!-- switch&#45;&gt;alloc_start -->
<g id="edge10" class="edge">
<title>switch&#45;&gt;alloc_start</title>
<path fill="none" stroke="black" d="M301.49,-627.18C285.21,-621.98 269.28,-613.81 258,-601 247.6,-589.19 244.22,-571.94 243.5,-557.29"/>
<polygon fill="black" stroke="black" points="247,-557.15 243.39,-547.19 240,-557.23 247,-557.15"/>
<text text-anchor="middle" x="306.5" y="-589.8" font-family="Helvetica,sans-Serif" font-size="14.00">.inferred_alloc</text>
</g>
<!-- unreachable -->
<g id="node16" class="node">
<title>unreachable</title>
<path fill="none" stroke="black" d="M487,-546C487,-546 409,-546 409,-546 403,-546 397,-540 397,-534 397,-534 397,-522 397,-522 397,-516 403,-510 409,-510 409,-510 487,-510 487,-510 493,-510 499,-516 499,-522 499,-522 499,-534 499,-534 499,-540 493,-546 487,-546"/>
<text text-anchor="middle" x="448" y="-524.3" font-family="Helvetica,sans-Serif" font-size="14.00">unreachable</text>
</g>
<!-- switch&#45;&gt;unreachable -->
<g id="edge19" class="edge">
<title>switch&#45;&gt;unreachable</title>
<path fill="none" stroke="black" d="M380.66,-620.21C393.43,-602.92 414.09,-574.93 429.17,-554.51"/>
<polygon fill="black" stroke="black" points="432.12,-556.4 435.25,-546.27 426.49,-552.24 432.12,-556.4"/>
<text text-anchor="middle" x="429" y="-589.8" font-family="Helvetica,sans-Serif" font-size="14.00">其他tag</text>
</g>
<!-- handle_val -->
<g id="node6" class="node">
<title>handle_val</title>
<path fill="none" stroke="black" d="M492,-287C492,-287 360,-287 360,-287 354,-287 348,-281 348,-275 348,-275 348,-261 348,-261 348,-255 354,-249 360,-249 360,-249 492,-249 492,-249 498,-249 504,-255 504,-261 504,-261 504,-275 504,-275 504,-281 498,-287 492,-287"/>
<text text-anchor="middle" x="426" y="-271.8" font-family="Helvetica,sans-Serif" font-size="14.00">处理val类型</text>
<text text-anchor="middle" x="426" y="-256.8" font-family="Helvetica,sans-Serif" font-size="14.00">检查是否为FuncBody</text>
</g>
<!-- comptime_start&#45;&gt;handle_val -->
<g id="edge5" class="edge">
<title>comptime_start&#45;&gt;handle_val</title>
<path fill="none" stroke="black" d="M424.49,-323.96C424.72,-315.88 424.98,-306.18 425.23,-297.18"/>
<polygon fill="black" stroke="black" points="428.73,-297.18 425.5,-287.09 421.73,-296.99 428.73,-297.18"/>
</g>
<!-- add_ref -->
<g id="node7" class="node">
<title>add_ref</title>
<path fill="none" stroke="black" d="M456,-198C456,-198 364,-198 364,-198 358,-198 352,-192 352,-186 352,-186 352,-172 352,-172 352,-166 358,-160 364,-160 364,-160 456,-160 456,-160 462,-160 468,-166 468,-172 468,-172 468,-186 468,-186 468,-192 462,-198 456,-198"/>
<text text-anchor="middle" x="410" y="-182.8" font-family="Helvetica,sans-Serif" font-size="14.00">添加到分析队列</text>
<text text-anchor="middle" x="410" y="-167.8" font-family="Helvetica,sans-Serif" font-size="14.00">确保函数体分析</text>
</g>
<!-- handle_val&#45;&gt;add_ref -->
<g id="edge6" class="edge">
<title>handle_val&#45;&gt;add_ref</title>
<path fill="none" stroke="black" d="M420.36,-248.82C418.77,-243.15 417.15,-236.86 416,-231 414.55,-223.63 413.41,-215.58 412.52,-208.1"/>
<polygon fill="black" stroke="black" points="415.99,-207.61 411.44,-198.04 409.03,-208.36 415.99,-207.61"/>
<text text-anchor="middle" x="457.5" y="-219.8" font-family="Helvetica,sans-Serif" font-size="14.00">是FuncBody</text>
</g>
<!-- return_comptime -->
<g id="node8" class="node">
<title>return_comptime</title>
<path fill="none" stroke="black" d="M467.5,-109C467.5,-109 360.5,-109 360.5,-109 354.5,-109 348.5,-103 348.5,-97 348.5,-97 348.5,-85 348.5,-85 348.5,-79 354.5,-73 360.5,-73 360.5,-73 467.5,-73 467.5,-73 473.5,-73 479.5,-79 479.5,-85 479.5,-85 479.5,-97 479.5,-97 479.5,-103 473.5,-109 467.5,-109"/>
<text text-anchor="middle" x="414" y="-87.3" font-family="Helvetica,sans-Serif" font-size="14.00">返回resolved_ptr</text>
</g>
<!-- handle_val&#45;&gt;return_comptime -->
<g id="edge8" class="edge">
<title>handle_val&#45;&gt;return_comptime</title>
<path fill="none" stroke="black" d="M480.62,-248.9C487.92,-244.2 494.45,-238.32 499,-231 502.52,-225.34 500.24,-222.55 499,-216 494.02,-189.73 491.22,-182.64 477,-160 467.01,-144.09 453.02,-128.54 440.77,-116.34"/>
<polygon fill="black" stroke="black" points="443.03,-113.66 433.41,-109.2 438.15,-118.68 443.03,-113.66"/>
<text text-anchor="middle" x="524" y="-175.3" font-family="Helvetica,sans-Serif" font-size="14.00">其他情况</text>
</g>
<!-- add_ref&#45;&gt;return_comptime -->
<g id="edge7" class="edge">
<title>add_ref&#45;&gt;return_comptime</title>
<path fill="none" stroke="black" d="M410.85,-159.76C411.4,-147.93 412.12,-132.32 412.74,-119.05"/>
<polygon fill="black" stroke="black" points="416.24,-119.19 413.21,-109.04 409.25,-118.87 416.24,-119.19"/>
</g>
<!-- end -->
<g id="node17" class="node">
<title>end</title>
<path fill="none" stroke="black" d="M362,-36C362,-36 332,-36 332,-36 326,-36 320,-30 320,-24 320,-24 320,-12 320,-12 320,-6 326,0 332,0 332,0 362,0 362,0 368,0 374,-6 374,-12 374,-12 374,-24 374,-24 374,-30 368,-36 362,-36"/>
<text text-anchor="middle" x="347" y="-14.3" font-family="Helvetica,sans-Serif" font-size="14.00">结束</text>
</g>
<!-- return_comptime&#45;&gt;end -->
<g id="edge9" class="edge">
<title>return_comptime&#45;&gt;end</title>
<path fill="none" stroke="black" d="M397.78,-72.81C389.47,-64 379.2,-53.13 370.08,-43.46"/>
<polygon fill="black" stroke="black" points="372.48,-40.9 363.07,-36.03 367.39,-45.7 372.48,-40.9"/>
</g>
<!-- resolve_peer -->
<g id="node10" class="node">
<title>resolve_peer</title>
<path fill="none" stroke="black" d="M298,-458C298,-458 186,-458 186,-458 180,-458 174,-452 174,-446 174,-446 174,-432 174,-432 174,-426 180,-420 186,-420 186,-420 298,-420 298,-420 304,-420 310,-426 310,-432 310,-432 310,-446 310,-446 310,-452 304,-458 298,-458"/>
<text text-anchor="middle" x="242" y="-442.8" font-family="Helvetica,sans-Serif" font-size="14.00">解析final_elem_ty</text>
<text text-anchor="middle" x="242" y="-427.8" font-family="Helvetica,sans-Serif" font-size="14.00">构造final_ptr_ty</text>
</g>
<!-- alloc_start&#45;&gt;resolve_peer -->
<g id="edge11" class="edge">
<title>alloc_start&#45;&gt;resolve_peer</title>
<path fill="none" stroke="black" d="M244.38,-508.97C243.97,-497.19 243.43,-481.56 242.97,-468.16"/>
<polygon fill="black" stroke="black" points="246.46,-467.88 242.62,-458 239.47,-468.12 246.46,-467.88"/>
</g>
<!-- validate -->
<g id="node11" class="node">
<title>validate</title>
<path fill="none" stroke="black" d="M265.5,-362C265.5,-362 140.5,-362 140.5,-362 134.5,-362 128.5,-356 128.5,-350 128.5,-350 128.5,-336 128.5,-336 128.5,-330 134.5,-324 140.5,-324 140.5,-324 265.5,-324 265.5,-324 271.5,-324 277.5,-330 277.5,-336 277.5,-336 277.5,-350 277.5,-350 277.5,-356 271.5,-362 265.5,-362"/>
<text text-anchor="middle" x="203" y="-346.8" font-family="Helvetica,sans-Serif" font-size="14.00">验证var类型</text>
<text text-anchor="middle" x="203" y="-331.8" font-family="Helvetica,sans-Serif" font-size="14.00">检查comptime&#45;only</text>
</g>
<!-- resolve_peer&#45;&gt;validate -->
<g id="edge12" class="edge">
<title>resolve_peer&#45;&gt;validate</title>
<path fill="none" stroke="black" d="M234.48,-419.88C228.82,-406.22 220.95,-387.26 214.5,-371.71"/>
<polygon fill="black" stroke="black" points="217.56,-369.96 210.5,-362.07 211.1,-372.65 217.56,-369.96"/>
</g>
<!-- replace_inst -->
<g id="node12" class="node">
<title>replace_inst</title>
<path fill="none" stroke="black" d="M233,-286C233,-286 133,-286 133,-286 127,-286 121,-280 121,-274 121,-274 121,-262 121,-262 121,-256 127,-250 133,-250 133,-250 233,-250 233,-250 239,-250 245,-256 245,-262 245,-262 245,-274 245,-274 245,-280 239,-286 233,-286"/>
<text text-anchor="middle" x="183" y="-264.3" font-family="Helvetica,sans-Serif" font-size="14.00">替换指令为.alloc</text>
</g>
<!-- validate&#45;&gt;replace_inst -->
<g id="edge13" class="edge">
<title>validate&#45;&gt;replace_inst</title>
<path fill="none" stroke="black" d="M198.06,-323.96C195.77,-315.61 193.01,-305.52 190.47,-296.28"/>
<polygon fill="black" stroke="black" points="193.77,-295.05 187.75,-286.33 187.02,-296.9 193.77,-295.05"/>
</g>
<!-- loop_stores -->
<g id="node13" class="node">
<title>loop_stores</title>
<path fill="none" stroke="black" d="M245.5,-197C245.5,-197 100.5,-197 100.5,-197 94.5,-197 88.5,-191 88.5,-185 88.5,-185 88.5,-173 88.5,-173 88.5,-167 94.5,-161 100.5,-161 100.5,-161 245.5,-161 245.5,-161 251.5,-161 257.5,-167 257.5,-173 257.5,-173 257.5,-185 257.5,-185 257.5,-191 251.5,-197 245.5,-197"/>
<text text-anchor="middle" x="173" y="-175.3" font-family="Helvetica,sans-Serif" font-size="14.00">循环处理每个store_inst</text>
</g>
<!-- replace_inst&#45;&gt;loop_stores -->
<g id="edge14" class="edge">
<title>replace_inst&#45;&gt;loop_stores</title>
<path fill="none" stroke="black" d="M181.02,-249.81C179.63,-237.66 177.73,-221.11 176.12,-207.18"/>
<polygon fill="black" stroke="black" points="179.59,-206.69 174.97,-197.15 172.64,-207.49 179.59,-206.69"/>
</g>
<!-- replace_store -->
<g id="node14" class="node">
<title>replace_store</title>
<path fill="none" stroke="black" d="M135.5,-109C135.5,-109 28.5,-109 28.5,-109 22.5,-109 16.5,-103 16.5,-97 16.5,-97 16.5,-85 16.5,-85 16.5,-79 22.5,-73 28.5,-73 28.5,-73 135.5,-73 135.5,-73 141.5,-73 147.5,-79 147.5,-85 147.5,-85 147.5,-97 147.5,-97 147.5,-103 141.5,-109 135.5,-109"/>
<text text-anchor="middle" x="82" y="-87.3" font-family="Helvetica,sans-Serif" font-size="14.00">生成替换指令或块</text>
</g>
<!-- loop_stores&#45;&gt;replace_store -->
<g id="edge15" class="edge">
<title>loop_stores&#45;&gt;replace_store</title>
<path fill="none" stroke="black" d="M88.48,-163.63C66.37,-158.08 46.8,-150.88 40,-142 33.27,-133.21 37.79,-123.85 45.95,-115.63"/>
<polygon fill="black" stroke="black" points="48.27,-118.25 53.5,-109.04 43.66,-112.98 48.27,-118.25"/>
<text text-anchor="middle" x="95" y="-130.8" font-family="Helvetica,sans-Serif" font-size="14.00">下一个store_inst</text>
</g>
<!-- return_alloc -->
<g id="node15" class="node">
<title>return_alloc</title>
<path fill="none" stroke="black" d="M312,-109C312,-109 178,-109 178,-109 172,-109 166,-103 166,-97 166,-97 166,-85 166,-85 166,-79 172,-73 178,-73 178,-73 312,-73 312,-73 318,-73 324,-79 324,-85 324,-85 324,-97 324,-97 324,-103 318,-109 312,-109"/>
<text text-anchor="middle" x="245" y="-87.3" font-family="Helvetica,sans-Serif" font-size="14.00">根据is_const返回指针</text>
</g>
<!-- loop_stores&#45;&gt;return_alloc -->
<g id="edge17" class="edge">
<title>loop_stores&#45;&gt;return_alloc</title>
<path fill="none" stroke="black" d="M257.69,-162.96C267.58,-157.84 276.45,-151.03 283,-142 289.12,-133.55 285.36,-124.43 278.24,-116.32"/>
<polygon fill="black" stroke="black" points="280.55,-113.69 270.95,-109.21 275.66,-118.7 280.55,-113.69"/>
</g>
<!-- replace_store&#45;&gt;loop_stores -->
<g id="edge16" class="edge">
<title>replace_store&#45;&gt;loop_stores</title>
<path fill="none" stroke="black" d="M125.98,-109.11C134.7,-113.94 143.23,-119.88 150,-127 156.44,-133.78 161.29,-142.68 164.84,-151.14"/>
<polygon fill="black" stroke="black" points="161.64,-152.58 168.41,-160.72 168.19,-150.13 161.64,-152.58"/>
<text text-anchor="middle" x="216" y="-130.8" font-family="Helvetica,sans-Serif" font-size="14.00">下一个store_inst</text>
</g>
<!-- return_alloc&#45;&gt;end -->
<g id="edge18" class="edge">
<title>return_alloc&#45;&gt;end</title>
<path fill="none" stroke="black" d="M269.43,-72.99C282.83,-63.67 299.63,-51.97 314.16,-41.86"/>
<polygon fill="black" stroke="black" points="316.21,-44.7 322.41,-36.11 312.21,-38.95 316.21,-44.7"/>
</g>
</g>
</svg>
