<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="1629pt" height="283pt"
 viewBox="0.00 0.00 1629.00 283.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 279)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-279 1625,-279 1625,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="skyblue" stroke="black" cx="847.5" cy="-257" rx="81.47" ry="18"/>
<text text-anchor="middle" x="847.5" y="-254.5" font-family="Courier,monospace" font-size="10.00">categorizeOperand开始</text>
</g>
<!-- switch_inst -->
<g id="node2" class="node">
<title>switch_inst</title>
<polygon fill="lightyellow" stroke="black" points="847.5,-202 685.33,-184 847.5,-166 1009.67,-184 847.5,-202"/>
<text text-anchor="middle" x="847.5" y="-181.5" font-family="Courier,monospace" font-size="10.00">根据air_tags[inst]进行switch判断</text>
</g>
<!-- start&#45;&gt;switch_inst -->
<g id="edge1" class="edge">
<title>start&#45;&gt;switch_inst</title>
<path fill="none" stroke="black" d="M847.5,-238.81C847.5,-230.79 847.5,-221.05 847.5,-212.07"/>
<polygon fill="black" stroke="black" points="851,-212.03 847.5,-202.03 844,-212.03 851,-212.03"/>
</g>
<!-- bin_ops -->
<g id="node3" class="node">
<title>bin_ops</title>
<polygon fill="white" stroke="black" points="173,-119 0,-119 0,-83 173,-83 173,-119"/>
<text text-anchor="middle" x="86.5" y="-104" font-family="Courier,monospace" font-size="10.00">处理二元操作（add/sub/mul等）</text>
<text text-anchor="middle" x="86.5" y="-93" font-family="Courier,monospace" font-size="10.00">检查lhs/rhs是否为operand_ref</text>
</g>
<!-- switch_inst&#45;&gt;bin_ops -->
<g id="edge2" class="edge">
<title>switch_inst&#45;&gt;bin_ops</title>
<path fill="none" stroke="black" d="M750.49,-176.73C622.76,-167.78 391.07,-149.18 183.26,-119.06"/>
<polygon fill="black" stroke="black" points="183.47,-115.55 173.07,-117.57 182.46,-122.48 183.47,-115.55"/>
<text text-anchor="middle" x="431" y="-140" font-family="Courier,monospace" font-size="10.00">二元运算指令</text>
</g>
<!-- store_ops -->
<g id="node4" class="node">
<title>store_ops</title>
<polygon fill="white" stroke="black" points="413.5,-119 191.5,-119 191.5,-83 413.5,-83 413.5,-119"/>
<text text-anchor="middle" x="302.5" y="-104" font-family="Courier,monospace" font-size="10.00">处理存储类指令（store/atomic_store等）</text>
<text text-anchor="middle" x="302.5" y="-93" font-family="Courier,monospace" font-size="10.00">标记为.write</text>
</g>
<!-- switch_inst&#45;&gt;store_ops -->
<g id="edge3" class="edge">
<title>switch_inst&#45;&gt;store_ops</title>
<path fill="none" stroke="black" d="M767.73,-174.82C708.71,-168.43 626.43,-158.85 554.5,-148 502.67,-140.18 445.14,-129.81 398.16,-120.9"/>
<polygon fill="black" stroke="black" points="398.78,-117.45 388.3,-119.02 397.47,-124.33 398.78,-117.45"/>
<text text-anchor="middle" x="579" y="-140" font-family="Courier,monospace" font-size="10.00">存储类指令</text>
</g>
<!-- vector_store_elem -->
<g id="node5" class="node">
<title>vector_store_elem</title>
<polygon fill="white" stroke="black" points="587,-119 432,-119 432,-83 587,-83 587,-119"/>
<text text-anchor="middle" x="509.5" y="-104" font-family="Courier,monospace" font-size="10.00">处理vector_store_elem</text>
<text text-anchor="middle" x="509.5" y="-93" font-family="Courier,monospace" font-size="10.00">检查vector_ptr和额外操作数</text>
</g>
<!-- switch_inst&#45;&gt;vector_store_elem -->
<g id="edge4" class="edge">
<title>switch_inst&#45;&gt;vector_store_elem</title>
<path fill="none" stroke="black" d="M777.4,-173.7C738.02,-167.78 688.17,-159.13 644.5,-148 617.28,-141.06 587.68,-131.24 563.14,-122.45"/>
<polygon fill="black" stroke="black" points="564.26,-119.13 553.66,-119.02 561.87,-125.71 564.26,-119.13"/>
<text text-anchor="middle" x="696" y="-140" font-family="Courier,monospace" font-size="10.00">vector_store_elem</text>
</g>
<!-- arg_alloc_etc -->
<g id="node6" class="node">
<title>arg_alloc_etc</title>
<polygon fill="white" stroke="black" points="744,-119 605,-119 605,-83 744,-83 744,-119"/>
<text text-anchor="middle" x="674.5" y="-104" font-family="Courier,monospace" font-size="10.00">处理arg/alloc等简单指令</text>
<text text-anchor="middle" x="674.5" y="-93" font-family="Courier,monospace" font-size="10.00">直接返回.none</text>
</g>
<!-- switch_inst&#45;&gt;arg_alloc_etc -->
<g id="edge5" class="edge">
<title>switch_inst&#45;&gt;arg_alloc_etc</title>
<path fill="none" stroke="black" d="M817.76,-169.08C790.97,-156.53 751.17,-137.9 720.32,-123.45"/>
<polygon fill="black" stroke="black" points="721.6,-120.19 711.06,-119.12 718.63,-126.53 721.6,-120.19"/>
<text text-anchor="middle" x="803.5" y="-140" font-family="Courier,monospace" font-size="10.00">arg/alloc等</text>
</g>
<!-- ty_op_unary -->
<g id="node7" class="node">
<title>ty_op_unary</title>
<polygon fill="white" stroke="black" points="932.5,-119 762.5,-119 762.5,-83 932.5,-83 932.5,-119"/>
<text text-anchor="middle" x="847.5" y="-104" font-family="Courier,monospace" font-size="10.00">处理一元操作（not/bitcast等）</text>
<text text-anchor="middle" x="847.5" y="-93" font-family="Courier,monospace" font-size="10.00">检查ty_op.operand</text>
</g>
<!-- switch_inst&#45;&gt;ty_op_unary -->
<g id="edge6" class="edge">
<title>switch_inst&#45;&gt;ty_op_unary</title>
<path fill="none" stroke="black" d="M847.5,-165.82C847.5,-155.19 847.5,-141.31 847.5,-129.2"/>
<polygon fill="black" stroke="black" points="851,-129.15 847.5,-119.15 844,-129.15 851,-129.15"/>
<text text-anchor="middle" x="867.5" y="-140" font-family="Courier,monospace" font-size="10.00">一元操作</text>
</g>
<!-- ret_ops -->
<g id="node8" class="node">
<title>ret_ops</title>
<polygon fill="white" stroke="black" points="1068.5,-119 950.5,-119 950.5,-83 1068.5,-83 1068.5,-119"/>
<text text-anchor="middle" x="1009.5" y="-104" font-family="Courier,monospace" font-size="10.00">处理ret/ret_safe等</text>
<text text-anchor="middle" x="1009.5" y="-93" font-family="Courier,monospace" font-size="10.00">标记.noret</text>
</g>
<!-- switch_inst&#45;&gt;ret_ops -->
<g id="edge7" class="edge">
<title>switch_inst&#45;&gt;ret_ops</title>
<path fill="none" stroke="black" d="M875.35,-169.08C900.33,-156.59 937.38,-138.06 966.22,-123.64"/>
<polygon fill="black" stroke="black" points="967.89,-126.72 975.27,-119.12 964.76,-120.46 967.89,-126.72"/>
<text text-anchor="middle" x="957.5" y="-140" font-family="Courier,monospace" font-size="10.00">ret指令</text>
</g>
<!-- call_ops -->
<g id="node9" class="node">
<title>call_ops</title>
<polygon fill="white" stroke="black" points="1236,-119 1087,-119 1087,-83 1236,-83 1236,-119"/>
<text text-anchor="middle" x="1161.5" y="-104" font-family="Courier,monospace" font-size="10.00">处理call指令</text>
<text text-anchor="middle" x="1161.5" y="-93" font-family="Courier,monospace" font-size="10.00">遍历参数并处理大tombstone</text>
</g>
<!-- switch_inst&#45;&gt;call_ops -->
<g id="edge8" class="edge">
<title>switch_inst&#45;&gt;call_ops</title>
<path fill="none" stroke="black" d="M893.83,-171.05C944.33,-158.02 1025.91,-136.98 1085.75,-121.54"/>
<polygon fill="black" stroke="black" points="1086.73,-124.9 1095.53,-119.02 1084.98,-118.13 1086.73,-124.9"/>
<text text-anchor="middle" x="1045.5" y="-140" font-family="Courier,monospace" font-size="10.00">call指令</text>
</g>
<!-- block_peephole -->
<g id="node10" class="node">
<title>block_peephole</title>
<polygon fill="white" stroke="black" points="1421.5,-119 1253.5,-119 1253.5,-83 1421.5,-83 1421.5,-119"/>
<text text-anchor="middle" x="1337.5" y="-104" font-family="Courier,monospace" font-size="10.00">处理block/dbg_inline_block</text>
<text text-anchor="middle" x="1337.5" y="-93" font-family="Courier,monospace" font-size="10.00">进行条件分支优化检查</text>
</g>
<!-- switch_inst&#45;&gt;block_peephole -->
<g id="edge9" class="edge">
<title>switch_inst&#45;&gt;block_peephole</title>
<path fill="none" stroke="black" d="M912.23,-173.08C956.98,-166.18 1017.88,-156.68 1071.5,-148 1145.3,-136.05 1166.03,-132.72 1243.15,-119.23"/>
<polygon fill="black" stroke="black" points="1244.11,-122.61 1253.36,-117.44 1242.91,-115.72 1244.11,-122.61"/>
<text text-anchor="middle" x="1205" y="-140" font-family="Courier,monospace" font-size="10.00">block/dbg_inline_block</text>
</g>
<!-- complex_ops -->
<g id="node11" class="node">
<title>complex_ops</title>
<polygon fill="white" stroke="black" points="1621,-119 1440,-119 1440,-83 1621,-83 1621,-119"/>
<text text-anchor="middle" x="1530.5" y="-104" font-family="Courier,monospace" font-size="10.00">复杂指令（try/loop/cond_br等）</text>
<text text-anchor="middle" x="1530.5" y="-93" font-family="Courier,monospace" font-size="10.00">直接返回.complex</text>
</g>
<!-- switch_inst&#45;&gt;complex_ops -->
<g id="edge10" class="edge">
<title>switch_inst&#45;&gt;complex_ops</title>
<path fill="none" stroke="black" d="M950.27,-177.4C1037.16,-171.99 1164.8,-162.48 1275.5,-148 1329.53,-140.93 1389.52,-130.26 1437.74,-120.97"/>
<polygon fill="black" stroke="black" points="1438.69,-124.35 1447.84,-119.01 1437.36,-117.47 1438.69,-124.35"/>
<text text-anchor="middle" x="1381" y="-140" font-family="Courier,monospace" font-size="10.00">复杂控制流指令</text>
</g>
<!-- end -->
<g id="node12" class="node">
<title>end</title>
<ellipse fill="skyblue" stroke="black" cx="847.5" cy="-18" rx="85.89" ry="18"/>
<text text-anchor="middle" x="847.5" y="-15.5" font-family="Courier,monospace" font-size="10.00">返回对应OperandCategory</text>
</g>
<!-- bin_ops&#45;&gt;end -->
<g id="edge11" class="edge">
<title>bin_ops&#45;&gt;end</title>
<path fill="none" stroke="black" d="M159.18,-82.99C204.47,-73.03 264.09,-61.05 317.5,-54 468.94,-34.01 646.32,-25.23 752.65,-21.53"/>
<polygon fill="black" stroke="black" points="752.84,-25.03 762.72,-21.19 752.6,-18.03 752.84,-25.03"/>
<text text-anchor="middle" x="372" y="-57" font-family="Courier,monospace" font-size="10.00">返回.none或match结果</text>
</g>
<!-- store_ops&#45;&gt;end -->
<g id="edge12" class="edge">
<title>store_ops&#45;&gt;end</title>
<path fill="none" stroke="black" d="M358.59,-82.97C393.15,-73.1 438.54,-61.22 479.5,-54 572.31,-37.63 679.73,-28.53 754.46,-23.74"/>
<polygon fill="black" stroke="black" points="755.02,-27.21 764.78,-23.09 754.58,-20.22 755.02,-27.21"/>
<text text-anchor="middle" x="537" y="-57" font-family="Courier,monospace" font-size="10.00">返回.write或match结果</text>
</g>
<!-- vector_store_elem&#45;&gt;end -->
<g id="edge13" class="edge">
<title>vector_store_elem&#45;&gt;end</title>
<path fill="none" stroke="black" d="M549.02,-82.96C572.82,-73.26 603.97,-61.58 632.5,-54 675.12,-42.68 723.53,-34.41 763.6,-28.76"/>
<polygon fill="black" stroke="black" points="764.18,-32.21 773.61,-27.38 763.22,-25.28 764.18,-32.21"/>
<text text-anchor="middle" x="690" y="-57" font-family="Courier,monospace" font-size="10.00">返回.write或match结果</text>
</g>
<!-- arg_alloc_etc&#45;&gt;end -->
<g id="edge14" class="edge">
<title>arg_alloc_etc&#45;&gt;end</title>
<path fill="none" stroke="black" d="M711.19,-82.82C738.55,-70.01 775.99,-52.48 804.71,-39.04"/>
<polygon fill="black" stroke="black" points="806.51,-42.05 814.09,-34.64 803.55,-35.72 806.51,-42.05"/>
<text text-anchor="middle" x="796.5" y="-57" font-family="Courier,monospace" font-size="10.00">返回.none</text>
</g>
<!-- ty_op_unary&#45;&gt;end -->
<g id="edge15" class="edge">
<title>ty_op_unary&#45;&gt;end</title>
<path fill="none" stroke="black" d="M847.5,-82.82C847.5,-72.19 847.5,-58.31 847.5,-46.2"/>
<polygon fill="black" stroke="black" points="851,-46.15 847.5,-36.15 844,-46.15 851,-46.15"/>
<text text-anchor="middle" x="902" y="-57" font-family="Courier,monospace" font-size="10.00">返回.none或match结果</text>
</g>
<!-- ret_ops&#45;&gt;end -->
<g id="edge16" class="edge">
<title>ret_ops&#45;&gt;end</title>
<path fill="none" stroke="black" d="M994.68,-82.63C985.66,-73.01 973.41,-61.51 960.5,-54 946.46,-45.83 930.31,-39.37 914.7,-34.34"/>
<polygon fill="black" stroke="black" points="915.65,-30.97 905.07,-31.39 913.6,-37.66 915.65,-30.97"/>
<text text-anchor="middle" x="1004.5" y="-57" font-family="Courier,monospace" font-size="10.00">返回.noret</text>
</g>
<!-- call_ops&#45;&gt;end -->
<g id="edge17" class="edge">
<title>call_ops&#45;&gt;end</title>
<path fill="none" stroke="black" d="M1120.69,-82.99C1096.54,-73.42 1065.15,-61.86 1036.5,-54 1000.77,-44.19 960.47,-36.31 926.3,-30.52"/>
<polygon fill="black" stroke="black" points="926.81,-27.06 916.37,-28.87 925.66,-33.97 926.81,-27.06"/>
<text text-anchor="middle" x="1117.5" y="-57" font-family="Courier,monospace" font-size="10.00">返回.write/.tomb</text>
</g>
<!-- block_peephole&#45;&gt;end -->
<g id="edge18" class="edge">
<title>block_peephole&#45;&gt;end</title>
<path fill="none" stroke="black" d="M1282.88,-82.9C1249.79,-73.12 1206.56,-61.37 1167.5,-54 1090.87,-39.53 1002.71,-30.44 938.35,-25.16"/>
<polygon fill="black" stroke="black" points="938.48,-21.66 928.23,-24.34 937.92,-28.63 938.48,-21.66"/>
<text text-anchor="middle" x="1285.5" y="-57" font-family="Courier,monospace" font-size="10.00">返回.complex/.tomb/.none</text>
</g>
<!-- complex_ops&#45;&gt;end -->
<g id="edge19" class="edge">
<title>complex_ops&#45;&gt;end</title>
<path fill="none" stroke="black" d="M1477.56,-82.9C1444.07,-72.8 1399.68,-60.71 1359.5,-54 1215.77,-29.99 1046.71,-22.37 943.35,-20"/>
<polygon fill="black" stroke="black" points="943.32,-16.5 933.25,-19.78 943.17,-23.5 943.32,-16.5"/>
<text text-anchor="middle" x="1446.5" y="-57" font-family="Courier,monospace" font-size="10.00">返回.complex</text>
</g>
</g>
</svg>
