<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="511pt" height="1140pt"
 viewBox="0.00 0.00 511.00 1140.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1136)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1136 507,-1136 507,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<path fill="none" stroke="black" d="M191,-1132C191,-1132 33,-1132 33,-1132 27,-1132 21,-1126 21,-1120 21,-1120 21,-1108 21,-1108 21,-1102 27,-1096 33,-1096 33,-1096 191,-1096 191,-1096 197,-1096 203,-1102 203,-1108 203,-1108 203,-1120 203,-1120 203,-1126 197,-1132 191,-1132"/>
<text text-anchor="middle" x="112" y="-1110.3" font-family="Helvetica,sans-Serif" font-size="14.00">开始 airShlWithOverflow</text>
</g>
<!-- check_unused -->
<g id="node2" class="node">
<title>check_unused</title>
<path fill="none" stroke="black" d="M212,-1059C212,-1059 12,-1059 12,-1059 6,-1059 0,-1053 0,-1047 0,-1047 0,-1035 0,-1035 0,-1029 6,-1023 12,-1023 12,-1023 212,-1023 212,-1023 218,-1023 224,-1029 224,-1035 224,-1035 224,-1047 224,-1047 224,-1053 218,-1059 212,-1059"/>
<text text-anchor="middle" x="112" y="-1037.3" font-family="Helvetica,sans-Serif" font-size="14.00">检查指令是否未使用 (isUnused)</text>
</g>
<!-- start&#45;&gt;check_unused -->
<g id="edge1" class="edge">
<title>start&#45;&gt;check_unused</title>
<path fill="none" stroke="black" d="M112,-1095.81C112,-1087.79 112,-1078.05 112,-1069.07"/>
<polygon fill="black" stroke="black" points="115.5,-1069.03 112,-1059.03 108.5,-1069.03 115.5,-1069.03"/>
</g>
<!-- mark_dead -->
<g id="node3" class="node">
<title>mark_dead</title>
<path fill="none" stroke="black" d="M130.5,-901C130.5,-901 47.5,-901 47.5,-901 41.5,-901 35.5,-895 35.5,-889 35.5,-889 35.5,-875 35.5,-875 35.5,-869 41.5,-863 47.5,-863 47.5,-863 130.5,-863 130.5,-863 136.5,-863 142.5,-869 142.5,-875 142.5,-875 142.5,-889 142.5,-889 142.5,-895 136.5,-901 130.5,-901"/>
<text text-anchor="middle" x="89" y="-885.8" font-family="Helvetica,sans-Serif" font-size="14.00">标记为 dead</text>
<text text-anchor="middle" x="89" y="-870.8" font-family="Helvetica,sans-Serif" font-size="14.00">finishAir 返回</text>
</g>
<!-- check_unused&#45;&gt;mark_dead -->
<g id="edge2" class="edge">
<title>check_unused&#45;&gt;mark_dead</title>
<path fill="none" stroke="black" d="M109.49,-1022.9C105.56,-996.05 97.9,-943.73 93.14,-911.24"/>
<polygon fill="black" stroke="black" points="96.56,-910.43 91.64,-901.04 89.63,-911.45 96.56,-910.43"/>
<text text-anchor="middle" x="114.5" y="-986.3" font-family="Helvetica,sans-Serif" font-size="14.00">是</text>
</g>
<!-- handle_vector -->
<g id="node4" class="node">
<title>handle_vector</title>
<path fill="none" stroke="black" d="M233,-957C233,-957 135,-957 135,-957 129,-957 123,-951 123,-945 123,-945 123,-931 123,-931 123,-925 129,-919 135,-919 135,-919 233,-919 233,-919 239,-919 245,-925 245,-931 245,-931 245,-945 245,-945 245,-951 239,-957 233,-957"/>
<text text-anchor="middle" x="184" y="-941.8" font-family="Helvetica,sans-Serif" font-size="14.00">处理向量类型</text>
<text text-anchor="middle" x="184" y="-926.8" font-family="Helvetica,sans-Serif" font-size="14.00">返回 TODO 错误</text>
</g>
<!-- check_unused&#45;&gt;handle_vector -->
<g id="edge3" class="edge">
<title>check_unused&#45;&gt;handle_vector</title>
<path fill="none" stroke="black" d="M124.21,-1022.87C135.38,-1007.2 152.09,-983.77 165,-965.65"/>
<polygon fill="black" stroke="black" points="168.04,-967.42 171,-957.24 162.34,-963.35 168.04,-967.42"/>
<text text-anchor="middle" x="196.5" y="-993.8" font-family="Helvetica,sans-Serif" font-size="14.00">否</text>
<text text-anchor="middle" x="196.5" y="-978.8" font-family="Helvetica,sans-Serif" font-size="14.00">类型是向量?</text>
</g>
<!-- finish -->
<g id="node18" class="node">
<title>finish</title>
<path fill="none" stroke="black" d="M150,-38C150,-38 100,-38 100,-38 94,-38 88,-32 88,-26 88,-26 88,-12 88,-12 88,-6 94,0 100,0 100,0 150,0 150,0 156,0 162,-6 162,-12 162,-12 162,-26 162,-26 162,-32 156,-38 150,-38"/>
<text text-anchor="middle" x="125" y="-22.8" font-family="Helvetica,sans-Serif" font-size="14.00">返回结果</text>
<text text-anchor="middle" x="125" y="-7.8" font-family="Helvetica,sans-Serif" font-size="14.00">finishAir</text>
</g>
<!-- mark_dead&#45;&gt;finish -->
<g id="edge19" class="edge">
<title>mark_dead&#45;&gt;finish</title>
<path fill="none" stroke="black" d="M86.6,-862.9C84.24,-843.53 81,-811.9 81,-784.5 81,-784.5 81,-784.5 81,-92 81,-75.06 89.98,-58.73 99.83,-45.91"/>
<polygon fill="black" stroke="black" points="102.67,-47.97 106.34,-38.03 97.27,-43.51 102.67,-47.97"/>
</g>
<!-- check_int_bits -->
<g id="node5" class="node">
<title>check_int_bits</title>
<path fill="none" stroke="black" d="M252.5,-845C252.5,-845 121.5,-845 121.5,-845 115.5,-845 109.5,-839 109.5,-833 109.5,-833 109.5,-821 109.5,-821 109.5,-815 115.5,-809 121.5,-809 121.5,-809 252.5,-809 252.5,-809 258.5,-809 264.5,-815 264.5,-821 264.5,-821 264.5,-833 264.5,-833 264.5,-839 258.5,-845 252.5,-845"/>
<text text-anchor="middle" x="187" y="-823.3" font-family="Helvetica,sans-Serif" font-size="14.00">检查整数位数 (≤64?)</text>
</g>
<!-- handle_vector&#45;&gt;check_int_bits -->
<g id="edge4" class="edge">
<title>handle_vector&#45;&gt;check_int_bits</title>
<path fill="none" stroke="black" d="M184.51,-918.51C184.99,-901.19 185.7,-875.08 186.25,-855.35"/>
<polygon fill="black" stroke="black" points="189.75,-855.23 186.53,-845.14 182.75,-855.04 189.75,-855.23"/>
<text text-anchor="middle" x="230" y="-885.8" font-family="Helvetica,sans-Serif" font-size="14.00">否</text>
<text text-anchor="middle" x="230" y="-870.8" font-family="Helvetica,sans-Serif" font-size="14.00">继续处理整数</text>
</g>
<!-- handle_large_int -->
<g id="node6" class="node">
<title>handle_large_int</title>
<path fill="none" stroke="black" d="M219.5,-702C219.5,-702 108.5,-702 108.5,-702 102.5,-702 96.5,-696 96.5,-690 96.5,-690 96.5,-676 96.5,-676 96.5,-670 102.5,-664 108.5,-664 108.5,-664 219.5,-664 219.5,-664 225.5,-664 231.5,-670 231.5,-676 231.5,-676 231.5,-690 231.5,-690 231.5,-696 225.5,-702 219.5,-702"/>
<text text-anchor="middle" x="164" y="-686.8" font-family="Helvetica,sans-Serif" font-size="14.00">返回错误</text>
<text text-anchor="middle" x="164" y="-671.8" font-family="Helvetica,sans-Serif" font-size="14.00">TODO &gt;64位处理</text>
</g>
<!-- check_int_bits&#45;&gt;handle_large_int -->
<g id="edge5" class="edge">
<title>check_int_bits&#45;&gt;handle_large_int</title>
<path fill="none" stroke="black" d="M180.85,-808.73C179.05,-803.13 177.24,-796.86 176,-791 170.45,-764.71 167.35,-734.22 165.7,-712.53"/>
<polygon fill="black" stroke="black" points="169.17,-712.07 164.98,-702.35 162.19,-712.57 169.17,-712.07"/>
<text text-anchor="middle" x="191.5" y="-779.8" font-family="Helvetica,sans-Serif" font-size="14.00">&gt;64</text>
</g>
<!-- alloc_stack -->
<g id="node7" class="node">
<title>alloc_stack</title>
<path fill="none" stroke="black" d="M287,-758C287,-758 205,-758 205,-758 199,-758 193,-752 193,-746 193,-746 193,-732 193,-732 193,-726 199,-720 205,-720 205,-720 287,-720 287,-720 293,-720 299,-726 299,-732 299,-732 299,-746 299,-746 299,-752 293,-758 287,-758"/>
<text text-anchor="middle" x="246" y="-742.8" font-family="Helvetica,sans-Serif" font-size="14.00">分配栈空间</text>
<text text-anchor="middle" x="246" y="-727.8" font-family="Helvetica,sans-Serif" font-size="14.00">try allocMem</text>
</g>
<!-- check_int_bits&#45;&gt;alloc_stack -->
<g id="edge6" class="edge">
<title>check_int_bits&#45;&gt;alloc_stack</title>
<path fill="none" stroke="black" d="M198.94,-808.6C207.17,-796.6 218.27,-780.42 227.62,-766.79"/>
<polygon fill="black" stroke="black" points="230.7,-768.49 233.47,-758.27 224.92,-764.53 230.7,-768.49"/>
<text text-anchor="middle" x="235.5" y="-779.8" font-family="Helvetica,sans-Serif" font-size="14.00">≤64</text>
</g>
<!-- handle_large_int&#45;&gt;finish -->
<g id="edge20" class="edge">
<title>handle_large_int&#45;&gt;finish</title>
<path fill="none" stroke="black" d="M151.66,-663.66C140.23,-644.88 125,-614.41 125,-585.5 125,-585.5 125,-585.5 125,-92 125,-77.64 125,-61.68 125,-48.44"/>
<polygon fill="black" stroke="black" points="128.5,-48.05 125,-38.05 121.5,-48.05 128.5,-48.05"/>
</g>
<!-- check_rhs_immediate -->
<g id="node8" class="node">
<title>check_rhs_immediate</title>
<path fill="none" stroke="black" d="M288.5,-646C288.5,-646 205.5,-646 205.5,-646 199.5,-646 193.5,-640 193.5,-634 193.5,-634 193.5,-622 193.5,-622 193.5,-616 199.5,-610 205.5,-610 205.5,-610 288.5,-610 288.5,-610 294.5,-610 300.5,-616 300.5,-622 300.5,-622 300.5,-634 300.5,-634 300.5,-640 294.5,-646 288.5,-646"/>
<text text-anchor="middle" x="247" y="-624.3" font-family="Helvetica,sans-Serif" font-size="14.00">rhs 是立即数?</text>
</g>
<!-- alloc_stack&#45;&gt;check_rhs_immediate -->
<g id="edge7" class="edge">
<title>alloc_stack&#45;&gt;check_rhs_immediate</title>
<path fill="none" stroke="black" d="M246.17,-719.51C246.33,-702.19 246.57,-676.08 246.75,-656.35"/>
<polygon fill="black" stroke="black" points="250.25,-656.17 246.84,-646.14 243.25,-656.11 250.25,-656.17"/>
</g>
<!-- read_immediate_args -->
<g id="node9" class="node">
<title>read_immediate_args</title>
<path fill="none" stroke="black" d="M280,-559C280,-559 210,-559 210,-559 204,-559 198,-553 198,-547 198,-547 198,-533 198,-533 198,-527 204,-521 210,-521 210,-521 280,-521 280,-521 286,-521 292,-527 292,-533 292,-533 292,-547 292,-547 292,-553 286,-559 280,-559"/>
<text text-anchor="middle" x="245" y="-543.8" font-family="Helvetica,sans-Serif" font-size="14.00">分配寄存器</text>
<text text-anchor="middle" x="245" y="-528.8" font-family="Helvetica,sans-Serif" font-size="14.00">(仅 lhs_reg)</text>
</g>
<!-- check_rhs_immediate&#45;&gt;read_immediate_args -->
<g id="edge8" class="edge">
<title>check_rhs_immediate&#45;&gt;read_immediate_args</title>
<path fill="none" stroke="black" d="M246.6,-609.6C246.33,-598.06 245.97,-582.65 245.66,-569.36"/>
<polygon fill="black" stroke="black" points="249.16,-569.18 245.42,-559.27 242.16,-569.35 249.16,-569.18"/>
<text text-anchor="middle" x="253.5" y="-580.8" font-family="Helvetica,sans-Serif" font-size="14.00">是</text>
</g>
<!-- read_register_args -->
<g id="node10" class="node">
<title>read_register_args</title>
<path fill="none" stroke="black" d="M469.5,-559C469.5,-559 344.5,-559 344.5,-559 338.5,-559 332.5,-553 332.5,-547 332.5,-547 332.5,-533 332.5,-533 332.5,-527 338.5,-521 344.5,-521 344.5,-521 469.5,-521 469.5,-521 475.5,-521 481.5,-527 481.5,-533 481.5,-533 481.5,-547 481.5,-547 481.5,-553 475.5,-559 469.5,-559"/>
<text text-anchor="middle" x="407" y="-543.8" font-family="Helvetica,sans-Serif" font-size="14.00">分配寄存器</text>
<text text-anchor="middle" x="407" y="-528.8" font-family="Helvetica,sans-Serif" font-size="14.00">(lhs_reg + rhs_reg)</text>
</g>
<!-- check_rhs_immediate&#45;&gt;read_register_args -->
<g id="edge9" class="edge">
<title>check_rhs_immediate&#45;&gt;read_register_args</title>
<path fill="none" stroke="black" d="M278.99,-609.8C303.47,-596.65 337.45,-578.38 364.25,-563.98"/>
<polygon fill="black" stroke="black" points="366.26,-566.87 373.41,-559.06 362.94,-560.71 366.26,-566.87"/>
<text text-anchor="middle" x="343.5" y="-580.8" font-family="Helvetica,sans-Serif" font-size="14.00">否</text>
</g>
<!-- gen_lsl_imm -->
<g id="node11" class="node">
<title>gen_lsl_imm</title>
<path fill="none" stroke="black" d="M317,-484C317,-484 165,-484 165,-484 159,-484 153,-478 153,-472 153,-472 153,-460 153,-460 153,-454 159,-448 165,-448 165,-448 317,-448 317,-448 323,-448 329,-454 329,-460 329,-460 329,-472 329,-472 329,-478 323,-484 317,-484"/>
<text text-anchor="middle" x="241" y="-462.3" font-family="Helvetica,sans-Serif" font-size="14.00">生成 lsl_immediate 指令</text>
</g>
<!-- read_immediate_args&#45;&gt;gen_lsl_imm -->
<g id="edge10" class="edge">
<title>read_immediate_args&#45;&gt;gen_lsl_imm</title>
<path fill="none" stroke="black" d="M243.99,-520.83C243.55,-512.89 243.02,-503.41 242.53,-494.63"/>
<polygon fill="black" stroke="black" points="246.02,-494.21 241.97,-484.42 239.03,-494.6 246.02,-494.21"/>
</g>
<!-- gen_lsl_reg -->
<g id="node12" class="node">
<title>gen_lsl_reg</title>
<path fill="none" stroke="black" d="M491,-484C491,-484 359,-484 359,-484 353,-484 347,-478 347,-472 347,-472 347,-460 347,-460 347,-454 353,-448 359,-448 359,-448 491,-448 491,-448 497,-448 503,-454 503,-460 503,-460 503,-472 503,-472 503,-478 497,-484 491,-484"/>
<text text-anchor="middle" x="425" y="-462.3" font-family="Helvetica,sans-Serif" font-size="14.00">生成 lsl_register 指令</text>
</g>
<!-- read_register_args&#45;&gt;gen_lsl_reg -->
<g id="edge12" class="edge">
<title>read_register_args&#45;&gt;gen_lsl_reg</title>
<path fill="none" stroke="black" d="M411.54,-520.83C413.55,-512.81 415.95,-503.2 418.17,-494.34"/>
<polygon fill="black" stroke="black" points="421.62,-494.97 420.65,-484.42 414.82,-493.27 421.62,-494.97"/>
</g>
<!-- truncate_reg -->
<g id="node13" class="node">
<title>truncate_reg</title>
<path fill="none" stroke="black" d="M284,-411C284,-411 198,-411 198,-411 192,-411 186,-405 186,-399 186,-399 186,-385 186,-385 186,-379 192,-373 198,-373 198,-373 284,-373 284,-373 290,-373 296,-379 296,-385 296,-385 296,-399 296,-399 296,-405 290,-411 284,-411"/>
<text text-anchor="middle" x="241" y="-395.8" font-family="Helvetica,sans-Serif" font-size="14.00">截断寄存器</text>
<text text-anchor="middle" x="241" y="-380.8" font-family="Helvetica,sans-Serif" font-size="14.00">truncRegister</text>
</g>
<!-- gen_lsl_imm&#45;&gt;truncate_reg -->
<g id="edge11" class="edge">
<title>gen_lsl_imm&#45;&gt;truncate_reg</title>
<path fill="none" stroke="black" d="M241,-447.94C241,-439.99 241,-430.31 241,-421.31"/>
<polygon fill="black" stroke="black" points="244.5,-421.2 241,-411.2 237.5,-421.2 244.5,-421.2"/>
</g>
<!-- gen_lsl_reg&#45;&gt;truncate_reg -->
<g id="edge13" class="edge">
<title>gen_lsl_reg&#45;&gt;truncate_reg</title>
<path fill="none" stroke="black" d="M381.39,-447.94C356.01,-438 323.76,-425.38 296.57,-414.75"/>
<polygon fill="black" stroke="black" points="297.77,-411.46 287.18,-411.07 295.22,-417.98 297.77,-411.46"/>
</g>
<!-- gen_shift_back -->
<g id="node14" class="node">
<title>gen_shift_back</title>
<path fill="none" stroke="black" d="M288.5,-336C288.5,-336 187.5,-336 187.5,-336 181.5,-336 175.5,-330 175.5,-324 175.5,-324 175.5,-310 175.5,-310 175.5,-304 181.5,-298 187.5,-298 187.5,-298 288.5,-298 288.5,-298 294.5,-298 300.5,-304 300.5,-310 300.5,-310 300.5,-324 300.5,-324 300.5,-330 294.5,-336 288.5,-336"/>
<text text-anchor="middle" x="238" y="-320.8" font-family="Helvetica,sans-Serif" font-size="14.00">生成 asr/lsr 指令</text>
<text text-anchor="middle" x="238" y="-305.8" font-family="Helvetica,sans-Serif" font-size="14.00">(根据符号性)</text>
</g>
<!-- truncate_reg&#45;&gt;gen_shift_back -->
<g id="edge14" class="edge">
<title>truncate_reg&#45;&gt;gen_shift_back</title>
<path fill="none" stroke="black" d="M240.26,-372.96C239.93,-364.88 239.53,-355.18 239.16,-346.18"/>
<polygon fill="black" stroke="black" points="242.65,-345.94 238.74,-336.09 235.66,-346.23 242.65,-345.94"/>
</g>
<!-- compare_values -->
<g id="node15" class="node">
<title>compare_values</title>
<path fill="none" stroke="black" d="M309,-261C309,-261 165,-261 165,-261 159,-261 153,-255 153,-249 153,-249 153,-235 153,-235 153,-229 159,-223 165,-223 165,-223 309,-223 309,-223 315,-223 321,-229 321,-235 321,-235 321,-249 321,-249 321,-255 315,-261 309,-261"/>
<text text-anchor="middle" x="237" y="-245.8" font-family="Helvetica,sans-Serif" font-size="14.00">生成 cmp 指令</text>
<text text-anchor="middle" x="237" y="-230.8" font-family="Helvetica,sans-Serif" font-size="14.00">(lhs vs reconstructed)</text>
</g>
<!-- gen_shift_back&#45;&gt;compare_values -->
<g id="edge15" class="edge">
<title>gen_shift_back&#45;&gt;compare_values</title>
<path fill="none" stroke="black" d="M237.75,-297.96C237.64,-289.88 237.51,-280.18 237.39,-271.18"/>
<polygon fill="black" stroke="black" points="240.88,-271.04 237.25,-261.09 233.89,-271.14 240.88,-271.04"/>
</g>
<!-- store_result -->
<g id="node16" class="node">
<title>store_result</title>
<path fill="none" stroke="black" d="M278,-186C278,-186 188,-186 188,-186 182,-186 176,-180 176,-174 176,-174 176,-160 176,-160 176,-154 182,-148 188,-148 188,-148 278,-148 278,-148 284,-148 290,-154 290,-160 290,-160 290,-174 290,-174 290,-180 284,-186 278,-186"/>
<text text-anchor="middle" x="233" y="-170.8" font-family="Helvetica,sans-Serif" font-size="14.00">存储结果到栈</text>
<text text-anchor="middle" x="233" y="-155.8" font-family="Helvetica,sans-Serif" font-size="14.00">(genSetStack)</text>
</g>
<!-- compare_values&#45;&gt;store_result -->
<g id="edge16" class="edge">
<title>compare_values&#45;&gt;store_result</title>
<path fill="none" stroke="black" d="M236.01,-222.96C235.57,-214.88 235.04,-205.18 234.54,-196.18"/>
<polygon fill="black" stroke="black" points="238.03,-195.88 233.99,-186.09 231.04,-196.27 238.03,-195.88"/>
</g>
<!-- set_overflow -->
<g id="node17" class="node">
<title>set_overflow</title>
<path fill="none" stroke="black" d="M276.5,-111C276.5,-111 169.5,-111 169.5,-111 163.5,-111 157.5,-105 157.5,-99 157.5,-99 157.5,-87 157.5,-87 157.5,-81 163.5,-75 169.5,-75 169.5,-75 276.5,-75 276.5,-75 282.5,-75 288.5,-81 288.5,-87 288.5,-87 288.5,-99 288.5,-99 288.5,-105 282.5,-111 276.5,-111"/>
<text text-anchor="middle" x="223" y="-89.3" font-family="Helvetica,sans-Serif" font-size="14.00">设置溢出标志到栈</text>
</g>
<!-- store_result&#45;&gt;set_overflow -->
<g id="edge17" class="edge">
<title>store_result&#45;&gt;set_overflow</title>
<path fill="none" stroke="black" d="M230.48,-147.83C229.36,-139.81 228.03,-130.2 226.8,-121.34"/>
<polygon fill="black" stroke="black" points="230.26,-120.84 225.42,-111.42 223.33,-121.8 230.26,-120.84"/>
</g>
<!-- set_overflow&#45;&gt;finish -->
<g id="edge18" class="edge">
<title>set_overflow&#45;&gt;finish</title>
<path fill="none" stroke="black" d="M199.78,-74.94C187.31,-65.78 171.73,-54.33 158.02,-44.26"/>
<polygon fill="black" stroke="black" points="159.9,-41.3 149.77,-38.2 155.76,-46.94 159.9,-41.3"/>
</g>
</g>
</svg>
