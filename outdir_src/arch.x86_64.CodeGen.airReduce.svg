<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="709pt" height="978pt"
 viewBox="0.00 0.00 708.59 978.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 974)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-974 704.59,-974 704.59,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<polygon fill="none" stroke="black" points="551,-970 444,-970 444,-934 551,-934 551,-970"/>
<text text-anchor="middle" x="497.5" y="-949.5" font-family="Courier,monospace" font-size="10.00">Start airReduce</text>
</g>
<!-- check_vector_bool -->
<g id="node2" class="node">
<title>check_vector_bool</title>
<polygon fill="none" stroke="black" points="593,-897 402,-897 402,-861 593,-861 593,-897"/>
<text text-anchor="middle" x="497.5" y="-882" font-family="Courier,monospace" font-size="10.00">Check if operand_ty is vector</text>
<text text-anchor="middle" x="497.5" y="-871" font-family="Courier,monospace" font-size="10.00">and child type is bool</text>
</g>
<!-- start&#45;&gt;check_vector_bool -->
<g id="edge1" class="edge">
<title>start&#45;&gt;check_vector_bool</title>
<path fill="none" stroke="black" d="M497.5,-933.81C497.5,-925.79 497.5,-916.05 497.5,-907.07"/>
<polygon fill="black" stroke="black" points="501,-907.03 497.5,-897.03 494,-907.03 501,-907.03"/>
</g>
<!-- mask_len_minus_one_cast -->
<g id="node3" class="node">
<title>mask_len_minus_one_cast</title>
<polygon fill="none" stroke="black" points="507,-814 316,-814 316,-778 507,-778 507,-814"/>
<text text-anchor="middle" x="411.5" y="-793.5" font-family="Courier,monospace" font-size="10.00">Attempt cast mask_len&#45;1 to u6</text>
</g>
<!-- check_vector_bool&#45;&gt;mask_len_minus_one_cast -->
<g id="edge2" class="edge">
<title>check_vector_bool&#45;&gt;mask_len_minus_one_cast</title>
<path fill="none" stroke="black" d="M479.26,-860.82C467.06,-849.33 450.83,-834.04 437.31,-821.31"/>
<polygon fill="black" stroke="black" points="439.39,-818.46 429.71,-814.15 434.59,-823.56 439.39,-818.46"/>
<text text-anchor="middle" x="472" y="-835" font-family="Courier,monospace" font-size="10.00">True</text>
</g>
<!-- fail_path -->
<g id="node11" class="node">
<title>fail_path</title>
<ellipse fill="none" stroke="black" cx="570.5" cy="-592" rx="130.19" ry="18"/>
<text text-anchor="middle" x="570.5" y="-589.5" font-family="Courier,monospace" font-size="10.00">Return fail() for unsupported type</text>
</g>
<!-- check_vector_bool&#45;&gt;fail_path -->
<g id="edge3" class="edge">
<title>check_vector_bool&#45;&gt;fail_path</title>
<path fill="none" stroke="black" d="M502.81,-860.95C506.75,-848.09 512.17,-830 516.5,-814 535.28,-744.55 554.67,-662.05 564.3,-620.23"/>
<polygon fill="black" stroke="black" points="567.76,-620.8 566.58,-610.27 560.94,-619.23 567.76,-620.8"/>
<text text-anchor="middle" x="548" y="-752" font-family="Courier,monospace" font-size="10.00">False</text>
</g>
<!-- handle_large_mask -->
<g id="node4" class="node">
<title>handle_large_mask</title>
<polygon fill="none" stroke="black" points="290,-731 87,-731 87,-657 290,-657 290,-731"/>
<text text-anchor="middle" x="188.5" y="-719" font-family="Courier,monospace" font-size="10.00">Handle large mask:</text>
<text text-anchor="middle" x="188.5" y="-708" font-family="Courier,monospace" font-size="10.00">&#45; Allocate acc_reg</text>
<text text-anchor="middle" x="188.5" y="-697" font-family="Courier,monospace" font-size="10.00">&#45; Calculate limb_offset</text>
<text text-anchor="middle" x="188.5" y="-686" font-family="Courier,monospace" font-size="10.00">&#45; Check need_mask</text>
<text text-anchor="middle" x="188.5" y="-675" font-family="Courier,monospace" font-size="10.00">&#45; Spill operand if needed</text>
<text text-anchor="middle" x="188.5" y="-664" font-family="Courier,monospace" font-size="10.00">&#45; Generate limb processing loop</text>
</g>
<!-- mask_len_minus_one_cast&#45;&gt;handle_large_mask -->
<g id="edge5" class="edge">
<title>mask_len_minus_one_cast&#45;&gt;handle_large_mask</title>
<path fill="none" stroke="black" d="M373.42,-777.92C347.27,-766.2 311.41,-750.12 278.23,-735.24"/>
<polygon fill="black" stroke="black" points="279.51,-731.98 268.96,-731.08 276.65,-738.37 279.51,-731.98"/>
<text text-anchor="middle" x="354" y="-752" font-family="Courier,monospace" font-size="10.00">Failure</text>
</g>
<!-- handle_operation -->
<g id="node5" class="node">
<title>handle_operation</title>
<polygon fill="none" stroke="black" points="495,-714.5 328,-714.5 328,-673.5 495,-673.5 495,-714.5"/>
<text text-anchor="middle" x="411.5" y="-702.5" font-family="Courier,monospace" font-size="10.00">Handle operation (Or/And)</text>
<text text-anchor="middle" x="411.5" y="-691.5" font-family="Courier,monospace" font-size="10.00">&#45; Generate test/cmp</text>
<text text-anchor="middle" x="411.5" y="-680.5" font-family="Courier,monospace" font-size="10.00">&#45; Set eflags</text>
</g>
<!-- mask_len_minus_one_cast&#45;&gt;handle_operation -->
<g id="edge4" class="edge">
<title>mask_len_minus_one_cast&#45;&gt;handle_operation</title>
<path fill="none" stroke="black" d="M411.5,-777.58C411.5,-763.03 411.5,-741.96 411.5,-724.74"/>
<polygon fill="black" stroke="black" points="415,-724.62 411.5,-714.62 408,-724.62 415,-724.62"/>
<text text-anchor="middle" x="433" y="-752" font-family="Courier,monospace" font-size="10.00">Success</text>
</g>
<!-- check_operation_type -->
<g id="node8" class="node">
<title>check_operation_type</title>
<polygon fill="none" stroke="black" points="231,-610 40,-610 40,-574 231,-574 231,-610"/>
<text text-anchor="middle" x="135.5" y="-589.5" font-family="Courier,monospace" font-size="10.00">Check operation type (Or/And)</text>
</g>
<!-- handle_large_mask&#45;&gt;check_operation_type -->
<g id="edge6" class="edge">
<title>handle_large_mask&#45;&gt;check_operation_type</title>
<path fill="none" stroke="black" d="M169.37,-656.9C162.74,-644.4 155.45,-630.64 149.33,-619.1"/>
<polygon fill="black" stroke="black" points="152.29,-617.2 144.51,-610.01 146.1,-620.48 152.29,-617.2"/>
</g>
<!-- handle_operation&#45;&gt;fail_path -->
<g id="edge25" class="edge">
<title>handle_operation&#45;&gt;fail_path</title>
<path fill="none" stroke="black" d="M411.21,-673.35C412.08,-658.91 415.66,-639.83 427.5,-628 435.5,-620.02 455.03,-613.37 477.17,-608.09"/>
<polygon fill="black" stroke="black" points="478.16,-611.46 487.14,-605.84 476.62,-604.63 478.16,-611.46"/>
<text text-anchor="middle" x="491" y="-631" font-family="Courier,monospace" font-size="10.00">Unsupported operation</text>
</g>
<!-- check_operation_type_small -->
<g id="node19" class="node">
<title>check_operation_type_small</title>
<polygon fill="none" stroke="black" points="422,-610 249,-610 249,-574 422,-574 422,-610"/>
<text text-anchor="middle" x="335.5" y="-589.5" font-family="Courier,monospace" font-size="10.00">check_operation_type_small</text>
</g>
<!-- handle_operation&#45;&gt;check_operation_type_small -->
<g id="edge13" class="edge">
<title>handle_operation&#45;&gt;check_operation_type_small</title>
<path fill="none" stroke="black" d="M375.55,-673.38C362.75,-664.57 349.53,-652.97 341.5,-639 338.31,-633.45 336.52,-626.92 335.58,-620.55"/>
<polygon fill="black" stroke="black" points="339.03,-619.83 334.67,-610.17 332.05,-620.44 339.03,-619.83"/>
<text text-anchor="middle" x="372" y="-631" font-family="Courier,monospace" font-size="10.00">Small mask</text>
</g>
<!-- handle_small_mask_or -->
<g id="node6" class="node">
<title>handle_small_mask_or</title>
<polygon fill="none" stroke="black" points="480,-527 343,-527 343,-486 480,-486 480,-527"/>
<text text-anchor="middle" x="411.5" y="-515" font-family="Courier,monospace" font-size="10.00">Handle OR operation:</text>
<text text-anchor="middle" x="411.5" y="-504" font-family="Courier,monospace" font-size="10.00">&#45; Test with mask</text>
<text text-anchor="middle" x="411.5" y="-493" font-family="Courier,monospace" font-size="10.00">&#45; Set eflags.nz</text>
</g>
<!-- operand_in_reg_check -->
<g id="node9" class="node">
<title>operand_in_reg_check</title>
<polygon fill="none" stroke="black" points="480,-398 343,-398 343,-362 480,-362 480,-398"/>
<text text-anchor="middle" x="411.5" y="-383" font-family="Courier,monospace" font-size="10.00">Check if operand_mcv</text>
<text text-anchor="middle" x="411.5" y="-372" font-family="Courier,monospace" font-size="10.00">is in register</text>
</g>
<!-- handle_small_mask_or&#45;&gt;operand_in_reg_check -->
<g id="edge16" class="edge">
<title>handle_small_mask_or&#45;&gt;operand_in_reg_check</title>
<path fill="none" stroke="black" d="M411.5,-485.77C411.5,-464.94 411.5,-431.93 411.5,-408.53"/>
<polygon fill="black" stroke="black" points="415,-408.23 411.5,-398.23 408,-408.23 415,-408.23"/>
</g>
<!-- handle_small_mask_and -->
<g id="node7" class="node">
<title>handle_small_mask_and</title>
<polygon fill="none" stroke="black" points="388,-468 239,-468 239,-416 388,-416 388,-468"/>
<text text-anchor="middle" x="313.5" y="-456" font-family="Courier,monospace" font-size="10.00">Handle AND operation:</text>
<text text-anchor="middle" x="313.5" y="-445" font-family="Courier,monospace" font-size="10.00">&#45; Use tmp_reg with NOT</text>
<text text-anchor="middle" x="313.5" y="-434" font-family="Courier,monospace" font-size="10.00">&#45; Test mask</text>
<text text-anchor="middle" x="313.5" y="-423" font-family="Courier,monospace" font-size="10.00">&#45; Set eflags.z</text>
</g>
<!-- set_eflags_z -->
<g id="node18" class="node">
<title>set_eflags_z</title>
<polygon fill="none" stroke="black" points="192,-290 103,-290 103,-254 192,-254 192,-290"/>
<text text-anchor="middle" x="147.5" y="-269.5" font-family="Courier,monospace" font-size="10.00">set_eflags_z</text>
</g>
<!-- handle_small_mask_and&#45;&gt;set_eflags_z -->
<g id="edge22" class="edge">
<title>handle_small_mask_and&#45;&gt;set_eflags_z</title>
<path fill="none" stroke="black" d="M312.91,-415.76C310.82,-385.92 302.79,-336.68 273.5,-308 254.61,-289.5 226.83,-280.59 202.16,-276.37"/>
<polygon fill="black" stroke="black" points="202.58,-272.9 192.17,-274.88 201.55,-279.82 202.58,-272.9"/>
</g>
<!-- handle_operation_or -->
<g id="node13" class="node">
<title>handle_operation_or</title>
<polygon fill="none" stroke="black" points="286,-524.5 155,-524.5 155,-488.5 286,-488.5 286,-524.5"/>
<text text-anchor="middle" x="220.5" y="-504" font-family="Courier,monospace" font-size="10.00">handle_operation_or</text>
</g>
<!-- check_operation_type&#45;&gt;handle_operation_or -->
<g id="edge7" class="edge">
<title>check_operation_type&#45;&gt;handle_operation_or</title>
<path fill="none" stroke="black" d="M153.11,-573.7C165.42,-561.61 182.03,-545.29 195.68,-531.88"/>
<polygon fill="black" stroke="black" points="198.23,-534.28 202.91,-524.78 193.32,-529.29 198.23,-534.28"/>
<text text-anchor="middle" x="187" y="-548" font-family="Courier,monospace" font-size="10.00">Or</text>
</g>
<!-- handle_operation_and -->
<g id="node14" class="node">
<title>handle_operation_and</title>
<polygon fill="none" stroke="black" points="137,-524.5 0,-524.5 0,-488.5 137,-488.5 137,-524.5"/>
<text text-anchor="middle" x="68.5" y="-504" font-family="Courier,monospace" font-size="10.00">handle_operation_and</text>
</g>
<!-- check_operation_type&#45;&gt;handle_operation_and -->
<g id="edge8" class="edge">
<title>check_operation_type&#45;&gt;handle_operation_and</title>
<path fill="none" stroke="black" d="M121.62,-573.7C112.1,-561.83 99.31,-545.89 88.67,-532.63"/>
<polygon fill="black" stroke="black" points="91.35,-530.39 82.36,-524.78 85.89,-534.77 91.35,-530.39"/>
<text text-anchor="middle" x="116" y="-548" font-family="Courier,monospace" font-size="10.00">And</text>
</g>
<!-- copy_to_tmp_reg -->
<g id="node10" class="node">
<title>copy_to_tmp_reg</title>
<polygon fill="none" stroke="black" points="508,-290 353,-290 353,-254 508,-254 508,-290"/>
<text text-anchor="middle" x="430.5" y="-269.5" font-family="Courier,monospace" font-size="10.00">Copy operand to tmp_reg</text>
</g>
<!-- operand_in_reg_check&#45;&gt;copy_to_tmp_reg -->
<g id="edge18" class="edge">
<title>operand_in_reg_check&#45;&gt;copy_to_tmp_reg</title>
<path fill="none" stroke="black" d="M414.55,-361.97C417.53,-345.38 422.1,-319.88 425.58,-300.43"/>
<polygon fill="black" stroke="black" points="429.07,-300.8 427.39,-290.34 422.18,-299.57 429.07,-300.8"/>
<text text-anchor="middle" x="454" y="-323.5" font-family="Courier,monospace" font-size="10.00">Not in reg</text>
</g>
<!-- handle_small_mask_or_direct -->
<g id="node20" class="node">
<title>handle_small_mask_or_direct</title>
<polygon fill="none" stroke="black" points="415,-236 236,-236 236,-200 415,-200 415,-236"/>
<text text-anchor="middle" x="325.5" y="-215.5" font-family="Courier,monospace" font-size="10.00">handle_small_mask_or_direct</text>
</g>
<!-- operand_in_reg_check&#45;&gt;handle_small_mask_or_direct -->
<g id="edge17" class="edge">
<title>operand_in_reg_check&#45;&gt;handle_small_mask_or_direct</title>
<path fill="none" stroke="black" d="M392.42,-361.64C386.98,-356.25 381.24,-350.11 376.5,-344 359.39,-321.96 355.32,-315.71 344.5,-290 338.6,-275.99 334.08,-259.64 330.93,-246.16"/>
<polygon fill="black" stroke="black" points="334.27,-245.08 328.7,-236.07 327.44,-246.59 334.27,-245.08"/>
<text text-anchor="middle" x="395" y="-323.5" font-family="Courier,monospace" font-size="10.00">In reg</text>
</g>
<!-- handle_small_mask_or_indirect -->
<g id="node21" class="node">
<title>handle_small_mask_or_indirect</title>
<polygon fill="none" stroke="black" points="514,-182 323,-182 323,-146 514,-146 514,-182"/>
<text text-anchor="middle" x="418.5" y="-161.5" font-family="Courier,monospace" font-size="10.00">handle_small_mask_or_indirect</text>
</g>
<!-- copy_to_tmp_reg&#45;&gt;handle_small_mask_or_indirect -->
<g id="edge19" class="edge">
<title>copy_to_tmp_reg&#45;&gt;handle_small_mask_or_indirect</title>
<path fill="none" stroke="black" d="M428.57,-253.97C426.69,-237.38 423.81,-211.88 421.61,-192.43"/>
<polygon fill="black" stroke="black" points="425.07,-191.88 420.46,-182.34 418.11,-192.67 425.07,-191.88"/>
</g>
<!-- finish_air -->
<g id="node12" class="node">
<title>finish_air</title>
<ellipse fill="none" stroke="black" cx="176.5" cy="-18" rx="73.67" ry="18"/>
<text text-anchor="middle" x="176.5" y="-15.5" font-family="Courier,monospace" font-size="10.00">Return finishAir()</text>
</g>
<!-- generate_test -->
<g id="node15" class="node">
<title>generate_test</title>
<polygon fill="none" stroke="black" points="268,-344 173,-344 173,-308 268,-308 268,-344"/>
<text text-anchor="middle" x="220.5" y="-323.5" font-family="Courier,monospace" font-size="10.00">generate_test</text>
</g>
<!-- handle_operation_or&#45;&gt;generate_test -->
<g id="edge9" class="edge">
<title>handle_operation_or&#45;&gt;generate_test</title>
<path fill="none" stroke="black" d="M218.84,-488.34C218.3,-481.96 217.77,-474.66 217.5,-468 215.92,-428.52 217.53,-382.78 218.93,-354.37"/>
<polygon fill="black" stroke="black" points="222.42,-354.54 219.45,-344.37 215.43,-354.18 222.42,-354.54"/>
<text text-anchor="middle" x="224" y="-439.5" font-family="Courier,monospace" font-size="10.00">Or</text>
</g>
<!-- generate_cmp -->
<g id="node16" class="node">
<title>generate_cmp</title>
<polygon fill="none" stroke="black" points="172,-398 83,-398 83,-362 172,-362 172,-398"/>
<text text-anchor="middle" x="127.5" y="-377.5" font-family="Courier,monospace" font-size="10.00">generate_cmp</text>
</g>
<!-- handle_operation_and&#45;&gt;generate_cmp -->
<g id="edge10" class="edge">
<title>handle_operation_and&#45;&gt;generate_cmp</title>
<path fill="none" stroke="black" d="M76.58,-488.45C86.5,-467.52 103.43,-431.8 115.02,-407.33"/>
<polygon fill="black" stroke="black" points="118.21,-408.78 119.33,-398.24 111.88,-405.78 118.21,-408.78"/>
<text text-anchor="middle" x="120" y="-439.5" font-family="Courier,monospace" font-size="10.00">And</text>
</g>
<!-- set_eflags_nz -->
<g id="node17" class="node">
<title>set_eflags_nz</title>
<polygon fill="none" stroke="black" points="297,-109 202,-109 202,-73 297,-73 297,-109"/>
<text text-anchor="middle" x="249.5" y="-88.5" font-family="Courier,monospace" font-size="10.00">set_eflags_nz</text>
</g>
<!-- generate_test&#45;&gt;set_eflags_nz -->
<g id="edge11" class="edge">
<title>generate_test&#45;&gt;set_eflags_nz</title>
<path fill="none" stroke="black" d="M222.26,-308C224.78,-283.93 229.66,-238.57 234.5,-200 237.95,-172.52 242.35,-141.18 245.5,-119.37"/>
<polygon fill="black" stroke="black" points="249,-119.59 246.97,-109.19 242.07,-118.58 249,-119.59"/>
</g>
<!-- generate_cmp&#45;&gt;set_eflags_z -->
<g id="edge12" class="edge">
<title>generate_cmp&#45;&gt;set_eflags_z</title>
<path fill="none" stroke="black" d="M130.71,-361.97C133.84,-345.38 138.65,-319.88 142.32,-300.43"/>
<polygon fill="black" stroke="black" points="145.81,-300.82 144.23,-290.34 138.93,-299.52 145.81,-300.82"/>
</g>
<!-- set_eflags_nz&#45;&gt;finish_air -->
<g id="edge23" class="edge">
<title>set_eflags_nz&#45;&gt;finish_air</title>
<path fill="none" stroke="black" d="M231.83,-72.81C222.55,-63.79 211.03,-52.59 200.91,-42.74"/>
<polygon fill="black" stroke="black" points="203.11,-40 193.51,-35.54 198.23,-45.02 203.11,-40"/>
</g>
<!-- set_eflags_z&#45;&gt;finish_air -->
<g id="edge24" class="edge">
<title>set_eflags_z&#45;&gt;finish_air</title>
<path fill="none" stroke="black" d="M149.49,-253.68C154.45,-210.6 167.37,-98.33 173.36,-46.26"/>
<polygon fill="black" stroke="black" points="176.86,-46.44 174.53,-36.11 169.91,-45.64 176.86,-46.44"/>
</g>
<!-- check_operation_type_small&#45;&gt;handle_small_mask_or -->
<g id="edge14" class="edge">
<title>check_operation_type_small&#45;&gt;handle_small_mask_or</title>
<path fill="none" stroke="black" d="M351.25,-573.7C361.47,-562.46 375.02,-547.58 386.67,-534.78"/>
<polygon fill="black" stroke="black" points="389.5,-536.87 393.64,-527.12 384.32,-532.16 389.5,-536.87"/>
<text text-anchor="middle" x="382" y="-548" font-family="Courier,monospace" font-size="10.00">Or</text>
</g>
<!-- check_operation_type_small&#45;&gt;handle_small_mask_and -->
<g id="edge15" class="edge">
<title>check_operation_type_small&#45;&gt;handle_small_mask_and</title>
<path fill="none" stroke="black" d="M332.93,-573.73C329.47,-550.41 323.2,-508.28 318.72,-478.15"/>
<polygon fill="black" stroke="black" points="322.15,-477.42 317.22,-468.04 315.23,-478.45 322.15,-477.42"/>
<text text-anchor="middle" x="339" y="-548" font-family="Courier,monospace" font-size="10.00">And</text>
</g>
<!-- handle_small_mask_or_direct&#45;&gt;set_eflags_nz -->
<g id="edge20" class="edge">
<title>handle_small_mask_or_direct&#45;&gt;set_eflags_nz</title>
<path fill="none" stroke="black" d="M315.09,-199.88C302.26,-178.77 280.32,-142.69 265.38,-118.11"/>
<polygon fill="black" stroke="black" points="268.21,-116.04 260.03,-109.31 262.23,-119.68 268.21,-116.04"/>
</g>
<!-- handle_small_mask_or_indirect&#45;&gt;set_eflags_nz -->
<g id="edge21" class="edge">
<title>handle_small_mask_or_indirect&#45;&gt;set_eflags_nz</title>
<path fill="none" stroke="black" d="M378.02,-145.99C354.47,-136.1 324.59,-123.54 299.56,-113.03"/>
<polygon fill="black" stroke="black" points="300.81,-109.76 290.24,-109.11 298.1,-116.21 300.81,-109.76"/>
</g>
</g>
</svg>
