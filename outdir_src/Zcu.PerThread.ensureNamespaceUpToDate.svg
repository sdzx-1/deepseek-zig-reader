<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="996pt" height="819pt"
 viewBox="0.00 0.00 996.08 819.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 815)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-815 992.08,-815 992.08,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<path fill="none" stroke="black" d="M425.19,-811C425.19,-811 207.19,-811 207.19,-811 201.19,-811 195.19,-805 195.19,-799 195.19,-799 195.19,-787 195.19,-787 195.19,-781 201.19,-775 207.19,-775 207.19,-775 425.19,-775 425.19,-775 431.19,-775 437.19,-781 437.19,-787 437.19,-787 437.19,-799 437.19,-799 437.19,-805 431.19,-811 425.19,-811"/>
<text text-anchor="middle" x="316.19" y="-789.3" font-family="Helvetica,sans-Serif" font-size="14.00">开始 ensureNamespaceUpToDate</text>
</g>
<!-- check_generation -->
<g id="node2" class="node">
<title>check_generation</title>
<path fill="none" stroke="black" d="M304.21,-737.32C304.21,-737.32 11.79,-720.68 11.79,-720.68 5.8,-720.34 5.8,-719.66 11.79,-719.32 11.79,-719.32 304.21,-702.68 304.21,-702.68 310.2,-702.34 322.18,-702.34 328.17,-702.68 328.17,-702.68 620.59,-719.32 620.59,-719.32 626.58,-719.66 626.58,-720.34 620.59,-720.68 620.59,-720.68 328.17,-737.32 328.17,-737.32 322.18,-737.66 310.2,-737.66 304.21,-737.32"/>
<text text-anchor="middle" x="316.19" y="-716.3" font-family="Helvetica,sans-Serif" font-size="14.00">检查 namespace.generation == zcu.generation</text>
</g>
<!-- start&#45;&gt;check_generation -->
<g id="edge1" class="edge">
<title>start&#45;&gt;check_generation</title>
<path fill="none" stroke="black" d="M316.19,-774.81C316.19,-766.79 316.19,-757.05 316.19,-748.07"/>
<polygon fill="black" stroke="black" points="319.69,-748.03 316.19,-738.03 312.69,-748.03 319.69,-748.03"/>
</g>
<!-- return_early -->
<g id="node3" class="node">
<title>return_early</title>
<path fill="none" stroke="black" d="M322.19,-595C322.19,-595 272.19,-595 272.19,-595 266.19,-595 260.19,-589 260.19,-583 260.19,-583 260.19,-571 260.19,-571 260.19,-565 266.19,-559 272.19,-559 272.19,-559 322.19,-559 322.19,-559 328.19,-559 334.19,-565 334.19,-571 334.19,-571 334.19,-583 334.19,-583 334.19,-589 328.19,-595 322.19,-595"/>
<text text-anchor="middle" x="297.19" y="-573.3" font-family="Helvetica,sans-Serif" font-size="14.00">直接返回</text>
</g>
<!-- check_generation&#45;&gt;return_early -->
<g id="edge2" class="edge">
<title>check_generation&#45;&gt;return_early</title>
<path fill="none" stroke="black" d="M313.9,-701.99C310.66,-677.96 304.71,-633.81 300.86,-605.2"/>
<polygon fill="black" stroke="black" points="304.29,-604.51 299.49,-595.07 297.36,-605.45 304.29,-604.51"/>
<text text-anchor="middle" x="319.69" y="-672.8" font-family="Helvetica,sans-Serif" font-size="14.00">是</text>
</g>
<!-- determine_container -->
<g id="node4" class="node">
<title>determine_container</title>
<path fill="none" stroke="black" d="M499.19,-651C499.19,-651 337.19,-651 337.19,-651 331.19,-651 325.19,-645 325.19,-639 325.19,-639 325.19,-625 325.19,-625 325.19,-619 331.19,-613 337.19,-613 337.19,-613 499.19,-613 499.19,-613 505.19,-613 511.19,-619 511.19,-625 511.19,-625 511.19,-639 511.19,-639 511.19,-645 505.19,-651 499.19,-651"/>
<text text-anchor="middle" x="418.19" y="-635.8" font-family="Helvetica,sans-Serif" font-size="14.00">确定容器类型和full_key</text>
<text text-anchor="middle" x="418.19" y="-620.8" font-family="Helvetica,sans-Serif" font-size="14.00">(根据 ip.indexToKey 结果)</text>
</g>
<!-- check_generation&#45;&gt;determine_container -->
<g id="edge3" class="edge">
<title>check_generation&#45;&gt;determine_container</title>
<path fill="none" stroke="black" d="M335.38,-702.82C350.35,-690.2 371.42,-672.43 388.56,-657.98"/>
<polygon fill="black" stroke="black" points="391.23,-660.31 396.62,-651.19 386.72,-654.96 391.23,-660.31"/>
<text text-anchor="middle" x="380.69" y="-672.8" font-family="Helvetica,sans-Serif" font-size="14.00">否</text>
</g>
<!-- end -->
<g id="node13" class="node">
<title>end</title>
<path fill="none" stroke="black" d="M449.19,-36C449.19,-36 399.19,-36 399.19,-36 393.19,-36 387.19,-30 387.19,-24 387.19,-24 387.19,-12 387.19,-12 387.19,-6 393.19,0 399.19,0 399.19,0 449.19,0 449.19,0 455.19,0 461.19,-6 461.19,-12 461.19,-12 461.19,-24 461.19,-24 461.19,-30 455.19,-36 449.19,-36"/>
<text text-anchor="middle" x="424.19" y="-14.3" font-family="Helvetica,sans-Serif" font-size="14.00">函数返回</text>
</g>
<!-- return_early&#45;&gt;end -->
<g id="edge15" class="edge">
<title>return_early&#45;&gt;end</title>
<path fill="none" stroke="black" d="M297.19,-558.74C297.19,-537.76 297.19,-501.28 297.19,-470 297.19,-470 297.19,-470 297.19,-90 297.19,-52.02 341,-34.16 377.16,-25.89"/>
<polygon fill="black" stroke="black" points="378.05,-29.28 387.12,-23.8 376.61,-22.43 378.05,-29.28"/>
</g>
<!-- handle_reified_generated -->
<g id="node5" class="node">
<title>handle_reified_generated</title>
<path fill="none" stroke="black" d="M470.19,-487C470.19,-487 324.19,-487 324.19,-487 318.19,-487 312.19,-481 312.19,-475 312.19,-475 312.19,-463 312.19,-463 312.19,-457 318.19,-451 324.19,-451 324.19,-451 470.19,-451 470.19,-451 476.19,-451 482.19,-457 482.19,-463 482.19,-463 482.19,-475 482.19,-475 482.19,-481 476.19,-487 470.19,-487"/>
<text text-anchor="middle" x="397.19" y="-465.3" font-family="Helvetica,sans-Serif" font-size="14.00">设置 generation 并返回</text>
</g>
<!-- determine_container&#45;&gt;handle_reified_generated -->
<g id="edge4" class="edge">
<title>determine_container&#45;&gt;handle_reified_generated</title>
<path fill="none" stroke="black" d="M402.97,-612.64C399.38,-607.27 396.06,-601.18 394.19,-595 384.34,-562.46 387.66,-522.95 391.73,-497.17"/>
<polygon fill="black" stroke="black" points="395.23,-497.48 393.48,-487.03 388.33,-496.29 395.23,-497.48"/>
<text text-anchor="middle" x="468.69" y="-573.3" font-family="Helvetica,sans-Serif" font-size="14.00">reified/generated_tag</text>
</g>
<!-- get_declared_key -->
<g id="node6" class="node">
<title>get_declared_key</title>
<path fill="none" stroke="black" d="M633.69,-541C633.69,-541 504.69,-541 504.69,-541 498.69,-541 492.69,-535 492.69,-529 492.69,-529 492.69,-517 492.69,-517 492.69,-511 498.69,-505 504.69,-505 504.69,-505 633.69,-505 633.69,-505 639.69,-505 645.69,-511 645.69,-517 645.69,-517 645.69,-529 645.69,-529 645.69,-535 639.69,-541 633.69,-541"/>
<text text-anchor="middle" x="569.19" y="-519.3" font-family="Helvetica,sans-Serif" font-size="14.00">获取 declared 的 key</text>
</g>
<!-- determine_container&#45;&gt;get_declared_key -->
<g id="edge5" class="edge">
<title>determine_container&#45;&gt;get_declared_key</title>
<path fill="none" stroke="black" d="M511.33,-617.24C524.58,-611.99 537.1,-604.81 547.19,-595 558.95,-583.56 564.46,-565.97 567.02,-551.16"/>
<polygon fill="black" stroke="black" points="570.52,-551.38 568.41,-541 563.59,-550.43 570.52,-551.38"/>
<text text-anchor="middle" x="594.19" y="-573.3" font-family="Helvetica,sans-Serif" font-size="14.00">declared</text>
</g>
<!-- handle_reified_generated&#45;&gt;end -->
<g id="edge14" class="edge">
<title>handle_reified_generated&#45;&gt;end</title>
<path fill="none" stroke="black" d="M388.22,-450.91C379.07,-431.84 366.19,-399.81 366.19,-370.5 366.19,-370.5 366.19,-370.5 366.19,-90 366.19,-71.51 378.14,-55.17 391.19,-42.85"/>
<polygon fill="black" stroke="black" points="393.71,-45.3 398.92,-36.07 389.09,-40.03 393.71,-45.3"/>
</g>
<!-- get_inst_info -->
<g id="node7" class="node">
<title>get_inst_info</title>
<path fill="none" stroke="black" d="M654.19,-433C654.19,-433 484.19,-433 484.19,-433 478.19,-433 472.19,-427 472.19,-421 472.19,-421 472.19,-407 472.19,-407 472.19,-401 478.19,-395 484.19,-395 484.19,-395 654.19,-395 654.19,-395 660.19,-395 666.19,-401 666.19,-407 666.19,-407 666.19,-421 666.19,-421 666.19,-427 660.19,-433 654.19,-433"/>
<text text-anchor="middle" x="569.19" y="-417.8" font-family="Helvetica,sans-Serif" font-size="14.00">解析 inst_info</text>
<text text-anchor="middle" x="569.19" y="-402.8" font-family="Helvetica,sans-Serif" font-size="14.00">(key.zir_index.resolveFull)</text>
</g>
<!-- get_declared_key&#45;&gt;get_inst_info -->
<g id="edge6" class="edge">
<title>get_declared_key&#45;&gt;get_inst_info</title>
<path fill="none" stroke="black" d="M569.19,-504.81C569.19,-488.26 569.19,-462.94 569.19,-443.39"/>
<polygon fill="black" stroke="black" points="572.69,-443.22 569.19,-433.22 565.69,-443.22 572.69,-443.22"/>
</g>
<!-- analysis_fail -->
<g id="node8" class="node">
<title>analysis_fail</title>
<path fill="none" stroke="black" d="M546.19,-344C546.19,-344 406.19,-344 406.19,-344 400.19,-344 394.19,-338 394.19,-332 394.19,-332 394.19,-320 394.19,-320 394.19,-314 400.19,-308 406.19,-308 406.19,-308 546.19,-308 546.19,-308 552.19,-308 558.19,-314 558.19,-320 558.19,-320 558.19,-332 558.19,-332 558.19,-338 552.19,-344 546.19,-344"/>
<text text-anchor="middle" x="476.19" y="-322.3" font-family="Helvetica,sans-Serif" font-size="14.00">返回 error.AnalysisFail</text>
</g>
<!-- get_inst_info&#45;&gt;analysis_fail -->
<g id="edge7" class="edge">
<title>get_inst_info&#45;&gt;analysis_fail</title>
<path fill="none" stroke="black" d="M549.47,-394.76C535.66,-382 517.09,-364.82 502.09,-350.95"/>
<polygon fill="black" stroke="black" points="504.34,-348.26 494.62,-344.04 499.59,-353.4 504.34,-348.26"/>
<text text-anchor="middle" x="542.69" y="-365.8" font-family="Helvetica,sans-Serif" font-size="14.00">失败</text>
</g>
<!-- check_extended -->
<g id="node9" class="node">
<title>check_extended</title>
<path fill="none" stroke="black" d="M770.24,-342.95C770.24,-342.95 588.36,-327.05 588.36,-327.05 582.38,-326.52 582.38,-325.48 588.36,-324.95 588.36,-324.95 770.24,-309.05 770.24,-309.05 776.21,-308.52 788.17,-308.52 794.14,-309.05 794.14,-309.05 976.02,-324.95 976.02,-324.95 982,-325.48 982,-326.52 976.02,-327.05 976.02,-327.05 794.14,-342.95 794.14,-342.95 788.17,-343.48 776.21,-343.48 770.24,-342.95"/>
<text text-anchor="middle" x="782.19" y="-322.3" font-family="Helvetica,sans-Serif" font-size="14.00">验证指令是否为 .extended 类型</text>
</g>
<!-- get_inst_info&#45;&gt;check_extended -->
<g id="edge8" class="edge">
<title>get_inst_info&#45;&gt;check_extended</title>
<path fill="none" stroke="black" d="M613.84,-394.97C650.35,-380.23 701.69,-359.5 738.06,-344.82"/>
<polygon fill="black" stroke="black" points="739.46,-348.03 747.43,-341.04 736.84,-341.54 739.46,-348.03"/>
<text text-anchor="middle" x="708.69" y="-365.8" font-family="Helvetica,sans-Serif" font-size="14.00">成功</text>
</g>
<!-- process_container -->
<g id="node10" class="node">
<title>process_container</title>
<path fill="none" stroke="black" d="M729.19,-257C729.19,-257 541.19,-257 541.19,-257 535.19,-257 529.19,-251 529.19,-245 529.19,-245 529.19,-231 529.19,-231 529.19,-225 535.19,-219 541.19,-219 541.19,-219 729.19,-219 729.19,-219 735.19,-219 741.19,-225 741.19,-231 741.19,-231 741.19,-245 741.19,-245 741.19,-251 735.19,-257 729.19,-257"/>
<text text-anchor="middle" x="635.19" y="-241.8" font-family="Helvetica,sans-Serif" font-size="14.00">根据容器类型处理声明</text>
<text text-anchor="middle" x="635.19" y="-226.8" font-family="Helvetica,sans-Serif" font-size="14.00">(struct/union/enum/opaque)</text>
</g>
<!-- check_extended&#45;&gt;process_container -->
<g id="edge9" class="edge">
<title>check_extended&#45;&gt;process_container</title>
<path fill="none" stroke="black" d="M756.58,-310.02C734.07,-296.85 700.93,-277.46 674.96,-262.27"/>
<polygon fill="black" stroke="black" points="676.51,-259.12 666.11,-257.09 672.97,-265.16 676.51,-259.12"/>
<text text-anchor="middle" x="728.69" y="-278.8" font-family="Helvetica,sans-Serif" font-size="14.00">是</text>
</g>
<!-- check_extended&#45;&gt;end -->
<g id="edge10" class="edge">
<title>check_extended&#45;&gt;end</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M779.98,-307.9C777.92,-290.57 775.19,-262.97 775.19,-239 775.19,-239 775.19,-239 775.19,-90 775.19,-28.74 567.19,-19.72 471.43,-18.82"/>
<polygon fill="black" stroke="black" points="471.44,-15.32 461.42,-18.75 471.4,-22.32 471.44,-15.32"/>
<text text-anchor="middle" x="782.69" y="-160.3" font-family="Helvetica,sans-Serif" font-size="14.00">否</text>
</g>
<!-- scan_namespace -->
<g id="node11" class="node">
<title>scan_namespace</title>
<path fill="none" stroke="black" d="M672.19,-182C672.19,-182 516.19,-182 516.19,-182 510.19,-182 504.19,-176 504.19,-170 504.19,-170 504.19,-158 504.19,-158 504.19,-152 510.19,-146 516.19,-146 516.19,-146 672.19,-146 672.19,-146 678.19,-146 684.19,-152 684.19,-158 684.19,-158 684.19,-170 684.19,-170 684.19,-176 678.19,-182 672.19,-182"/>
<text text-anchor="middle" x="594.19" y="-160.3" font-family="Helvetica,sans-Serif" font-size="14.00">调用 pt.scanNamespace</text>
</g>
<!-- process_container&#45;&gt;scan_namespace -->
<g id="edge11" class="edge">
<title>process_container&#45;&gt;scan_namespace</title>
<path fill="none" stroke="black" d="M624.84,-218.83C620.08,-210.46 614.33,-200.36 609.1,-191.19"/>
<polygon fill="black" stroke="black" points="612.1,-189.38 604.11,-182.42 606.02,-192.84 612.1,-189.38"/>
</g>
<!-- update_generation -->
<g id="node12" class="node">
<title>update_generation</title>
<path fill="none" stroke="black" d="M728.19,-109C728.19,-109 420.19,-109 420.19,-109 414.19,-109 408.19,-103 408.19,-97 408.19,-97 408.19,-85 408.19,-85 408.19,-79 414.19,-73 420.19,-73 420.19,-73 728.19,-73 728.19,-73 734.19,-73 740.19,-79 740.19,-85 740.19,-85 740.19,-97 740.19,-97 740.19,-103 734.19,-109 728.19,-109"/>
<text text-anchor="middle" x="574.19" y="-87.3" font-family="Helvetica,sans-Serif" font-size="14.00">更新 namespace.generation = zcu.generation</text>
</g>
<!-- scan_namespace&#45;&gt;update_generation -->
<g id="edge12" class="edge">
<title>scan_namespace&#45;&gt;update_generation</title>
<path fill="none" stroke="black" d="M589.35,-145.81C587.06,-137.7 584.28,-127.84 581.73,-118.78"/>
<polygon fill="black" stroke="black" points="585.07,-117.71 578.99,-109.03 578.33,-119.6 585.07,-117.71"/>
</g>
<!-- update_generation&#45;&gt;end -->
<g id="edge13" class="edge">
<title>update_generation&#45;&gt;end</title>
<path fill="none" stroke="black" d="M538.26,-72.99C517.63,-63.23 491.53,-50.88 469.51,-40.45"/>
<polygon fill="black" stroke="black" points="470.88,-37.23 460.35,-36.11 467.89,-43.56 470.88,-37.23"/>
</g>
</g>
</svg>
