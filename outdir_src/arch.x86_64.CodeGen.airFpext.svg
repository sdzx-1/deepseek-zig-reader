<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="582pt" height="714pt"
 viewBox="0.00 0.00 582.00 714.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 710)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-710 578,-710 578,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<polygon fill="none" stroke="black" points="390.5,-706 301.5,-706 301.5,-670 390.5,-670 390.5,-706"/>
<text text-anchor="middle" x="346" y="-685.5" font-family="Courier,monospace" font-size="10.00">开始 airFpext</text>
</g>
<!-- get_types -->
<g id="node2" class="node">
<title>get_types</title>
<polygon fill="none" stroke="black" points="456.5,-633 235.5,-633 235.5,-597 456.5,-597 456.5,-633"/>
<text text-anchor="middle" x="346" y="-618" font-family="Courier,monospace" font-size="10.00">获取类型信息</text>
<text text-anchor="middle" x="346" y="-607" font-family="Courier,monospace" font-size="10.00">dst_ty, src_ty, src_bits, dst_bits</text>
</g>
<!-- start&#45;&gt;get_types -->
<g id="edge1" class="edge">
<title>start&#45;&gt;get_types</title>
<path fill="none" stroke="black" d="M346,-669.81C346,-661.79 346,-652.05 346,-643.07"/>
<polygon fill="black" stroke="black" points="349.5,-643.03 346,-633.03 342.5,-643.03 349.5,-643.03"/>
</g>
<!-- check_combination -->
<g id="node3" class="node">
<title>check_combination</title>
<polygon fill="none" stroke="black" points="346,-560 184.49,-542 346,-524 507.51,-542 346,-560"/>
<text text-anchor="middle" x="346" y="-539.5" font-family="Courier,monospace" font-size="10.00">检查 src_bits 和 dst_bits 的组合</text>
</g>
<!-- get_types&#45;&gt;check_combination -->
<g id="edge2" class="edge">
<title>get_types&#45;&gt;check_combination</title>
<path fill="none" stroke="black" d="M346,-596.81C346,-588.79 346,-579.05 346,-570.07"/>
<polygon fill="black" stroke="black" points="349.5,-570.03 346,-560.03 342.5,-570.03 349.5,-570.03"/>
</g>
<!-- call_libfunc -->
<g id="node4" class="node">
<title>call_libfunc</title>
<polygon fill="none" stroke="black" points="557,-276 447,-276 447,-240 557,-240 557,-276"/>
<text text-anchor="middle" x="502" y="-261" font-family="Courier,monospace" font-size="10.00">生成库函数调用</text>
<text text-anchor="middle" x="502" y="-250" font-family="Courier,monospace" font-size="10.00">如 __extend?f?f2</text>
</g>
<!-- check_combination&#45;&gt;call_libfunc -->
<g id="edge3" class="edge">
<title>check_combination&#45;&gt;call_libfunc</title>
<path fill="none" stroke="black" d="M355.06,-524.62C381.06,-477.63 456.03,-342.1 487.66,-284.93"/>
<polygon fill="black" stroke="black" points="490.74,-286.58 492.52,-276.14 484.62,-283.19 490.74,-286.58"/>
<text text-anchor="middle" x="456.5" y="-415" font-family="Courier,monospace" font-size="10.00">条件满足</text>
<text text-anchor="middle" x="456.5" y="-404" font-family="Courier,monospace" font-size="10.00">需要调用库函数</text>
</g>
<!-- handle_registers -->
<g id="node5" class="node">
<title>handle_registers</title>
<polygon fill="none" stroke="black" points="281.5,-477 186.5,-477 186.5,-441 281.5,-441 281.5,-477"/>
<text text-anchor="middle" x="234" y="-462" font-family="Courier,monospace" font-size="10.00">处理寄存器分配</text>
<text text-anchor="middle" x="234" y="-451" font-family="Courier,monospace" font-size="10.00">重用或复制寄存器</text>
</g>
<!-- check_combination&#45;&gt;handle_registers -->
<g id="edge5" class="edge">
<title>check_combination&#45;&gt;handle_registers</title>
<path fill="none" stroke="black" d="M325.46,-526.14C308.73,-514.05 284.84,-496.77 265.67,-482.91"/>
<polygon fill="black" stroke="black" points="267.67,-480.03 257.51,-477 263.56,-485.7 267.67,-480.03"/>
<text text-anchor="middle" x="325.5" y="-498" font-family="Courier,monospace" font-size="10.00">直接生成指令</text>
</g>
<!-- check_vector -->
<g id="node8" class="node">
<title>check_vector</title>
<polygon fill="none" stroke="black" points="343,-203 263.83,-185 343,-167 422.17,-185 343,-203"/>
<text text-anchor="middle" x="343" y="-182.5" font-family="Courier,monospace" font-size="10.00">是否为向量类型？</text>
</g>
<!-- call_libfunc&#45;&gt;check_vector -->
<g id="edge4" class="edge">
<title>call_libfunc&#45;&gt;check_vector</title>
<path fill="none" stroke="black" d="M463.92,-239.99C437.68,-228.28 403.11,-212.84 377.65,-201.47"/>
<polygon fill="black" stroke="black" points="378.93,-198.21 368.37,-197.33 376.08,-204.6 378.93,-198.21"/>
</g>
<!-- result_null -->
<g id="node10" class="node">
<title>result_null</title>
<polygon fill="none" stroke="black" points="510.5,-109 385.5,-109 385.5,-73 510.5,-73 510.5,-109"/>
<text text-anchor="middle" x="448" y="-88.5" font-family="Courier,monospace" font-size="10.00">break :result null</text>
</g>
<!-- call_libfunc&#45;&gt;result_null -->
<g id="edge14" class="edge">
<title>call_libfunc&#45;&gt;result_null</title>
<path fill="none" stroke="black" d="M496.42,-239.96C487.05,-211.31 468.05,-153.25 456.84,-119"/>
<polygon fill="black" stroke="black" points="460.06,-117.61 453.63,-109.19 453.41,-119.78 460.06,-117.61"/>
<text text-anchor="middle" x="528.5" y="-182.5" font-family="Courier,monospace" font-size="10.00">dst_ty 是向量类型</text>
</g>
<!-- check_features -->
<g id="node9" class="node">
<title>check_features</title>
<polygon fill="none" stroke="black" points="234,-383 136,-353 234,-323 332,-353 234,-383"/>
<text text-anchor="middle" x="234" y="-356" font-family="Courier,monospace" font-size="10.00">检查 CPU 特性</text>
<text text-anchor="middle" x="234" y="-345" font-family="Courier,monospace" font-size="10.00">如 .f16c, .avx</text>
</g>
<!-- handle_registers&#45;&gt;check_features -->
<g id="edge6" class="edge">
<title>handle_registers&#45;&gt;check_features</title>
<path fill="none" stroke="black" d="M234,-440.83C234,-427.95 234,-409.81 234,-393.44"/>
<polygon fill="black" stroke="black" points="237.5,-393 234,-383 230.5,-393 237.5,-393"/>
</g>
<!-- handle_registers&#45;&gt;result_null -->
<g id="edge15" class="edge">
<title>handle_registers&#45;&gt;result_null</title>
<path fill="none" stroke="black" d="M186.36,-457.22C117.95,-453.29 0,-434.8 0,-354 0,-354 0,-354 0,-184 0,-101.5 273.84,-125.45 375.21,-109.05"/>
<polygon fill="black" stroke="black" points="376.13,-112.44 385.31,-107.15 374.84,-105.56 376.13,-112.44"/>
<text text-anchor="middle" x="24.5" y="-255.5" font-family="Courier,monospace" font-size="10.00">无法处理时</text>
</g>
<!-- gen_avx -->
<g id="node6" class="node">
<title>gen_avx</title>
<polygon fill="none" stroke="black" points="239,-276 67,-276 67,-240 239,-240 239,-276"/>
<text text-anchor="middle" x="153" y="-261" font-family="Courier,monospace" font-size="10.00">生成 AVX 指令</text>
<text text-anchor="middle" x="153" y="-250" font-family="Courier,monospace" font-size="10.00">根据 vec_len 和 src_mcv 类型</text>
</g>
<!-- gen_avx&#45;&gt;check_vector -->
<g id="edge9" class="edge">
<title>gen_avx&#45;&gt;check_vector</title>
<path fill="none" stroke="black" d="M198.51,-239.99C231.1,-227.81 274.48,-211.61 305.17,-200.14"/>
<polygon fill="black" stroke="black" points="306.52,-203.37 314.66,-196.59 304.07,-196.81 306.52,-203.37"/>
</g>
<!-- gen_non_avx -->
<g id="node7" class="node">
<title>gen_non_avx</title>
<polygon fill="none" stroke="black" points="429,-276 257,-276 257,-240 429,-240 429,-276"/>
<text text-anchor="middle" x="343" y="-261" font-family="Courier,monospace" font-size="10.00">生成非 AVX 指令</text>
<text text-anchor="middle" x="343" y="-250" font-family="Courier,monospace" font-size="10.00">根据 vec_len 和 src_mcv 类型</text>
</g>
<!-- gen_non_avx&#45;&gt;check_vector -->
<g id="edge10" class="edge">
<title>gen_non_avx&#45;&gt;check_vector</title>
<path fill="none" stroke="black" d="M343,-239.81C343,-231.79 343,-222.05 343,-213.07"/>
<polygon fill="black" stroke="black" points="346.5,-213.03 343,-203.03 339.5,-213.03 346.5,-213.03"/>
</g>
<!-- check_vector&#45;&gt;result_null -->
<g id="edge11" class="edge">
<title>check_vector&#45;&gt;result_null</title>
<path fill="none" stroke="black" d="M356.02,-169.79C367.22,-157.87 384.05,-140.65 400,-127 404.62,-123.05 409.65,-119.06 414.67,-115.26"/>
<polygon fill="black" stroke="black" points="417.06,-117.85 423.02,-109.09 412.9,-112.22 417.06,-117.85"/>
<text text-anchor="middle" x="429.5" y="-141" font-family="Courier,monospace" font-size="10.00">是向量类型</text>
<text text-anchor="middle" x="429.5" y="-130" font-family="Courier,monospace" font-size="10.00">或未处理情况</text>
</g>
<!-- finish -->
<g id="node12" class="node">
<title>finish</title>
<polygon fill="none" stroke="black" points="367.5,-109 236.5,-109 236.5,-73 367.5,-73 367.5,-109"/>
<text text-anchor="middle" x="302" y="-94" font-family="Courier,monospace" font-size="10.00">返回结果</text>
<text text-anchor="middle" x="302" y="-83" font-family="Courier,monospace" font-size="10.00">self.finishAir(...)</text>
</g>
<!-- check_vector&#45;&gt;finish -->
<g id="edge12" class="edge">
<title>check_vector&#45;&gt;finish</title>
<path fill="none" stroke="black" d="M324.87,-170.96C318.08,-165.06 311.04,-157.5 307,-149 302.65,-139.84 300.97,-128.92 300.53,-119.11"/>
<polygon fill="black" stroke="black" points="304.03,-119 300.47,-109.02 297.03,-119.04 304.03,-119"/>
<text text-anchor="middle" x="327" y="-135.5" font-family="Courier,monospace" font-size="10.00">处理完成</text>
</g>
<!-- check_features&#45;&gt;gen_avx -->
<g id="edge7" class="edge">
<title>check_features&#45;&gt;gen_avx</title>
<path fill="none" stroke="black" d="M213.98,-329.01C202.07,-315.34 186.96,-297.99 174.76,-283.99"/>
<polygon fill="black" stroke="black" points="177.17,-281.42 167.96,-276.18 171.89,-286.02 177.17,-281.42"/>
<text text-anchor="middle" x="213.5" y="-297" font-family="Courier,monospace" font-size="10.00">支持 AVX</text>
</g>
<!-- check_features&#45;&gt;gen_non_avx -->
<g id="edge8" class="edge">
<title>check_features&#45;&gt;gen_non_avx</title>
<path fill="none" stroke="black" d="M259.28,-330.43C275.93,-316.23 297.74,-297.62 314.92,-282.96"/>
<polygon fill="black" stroke="black" points="317.61,-285.27 322.94,-276.11 313.07,-279.94 317.61,-285.27"/>
<text text-anchor="middle" x="327.5" y="-297" font-family="Courier,monospace" font-size="10.00">不支持 AVX</text>
</g>
<!-- fail -->
<g id="node11" class="node">
<title>fail</title>
<polygon fill="none" stroke="black" points="498.5,-36 397.5,-36 397.5,0 498.5,0 498.5,-36"/>
<text text-anchor="middle" x="448" y="-21" font-family="Courier,monospace" font-size="10.00">返回错误</text>
<text text-anchor="middle" x="448" y="-10" font-family="Courier,monospace" font-size="10.00">self.fail(...)</text>
</g>
<!-- result_null&#45;&gt;fail -->
<g id="edge13" class="edge">
<title>result_null&#45;&gt;fail</title>
<path fill="none" stroke="black" d="M448,-72.81C448,-64.79 448,-55.05 448,-46.07"/>
<polygon fill="black" stroke="black" points="451.5,-46.03 448,-36.03 444.5,-46.03 451.5,-46.03"/>
</g>
</g>
</svg>
