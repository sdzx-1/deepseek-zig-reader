<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="820pt" height="1367pt"
 viewBox="0.00 0.00 820.00 1367.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1363)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1363 816,-1363 816,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<polygon fill="none" stroke="black" points="186.5,-1359 37.5,-1359 37.5,-1323 186.5,-1323 186.5,-1359"/>
<text text-anchor="middle" x="112" y="-1338.5" font-family="Courier,monospace" font-size="10.00">开始 airShlWithOverflow</text>
</g>
<!-- check_unused -->
<g id="node2" class="node">
<title>check_unused</title>
<polygon fill="none" stroke="black" points="224,-1286 0,-1286 0,-1250 224,-1250 224,-1286"/>
<text text-anchor="middle" x="112" y="-1265.5" font-family="Courier,monospace" font-size="10.00">检查指令是否未使用 (liveness.isUnused)</text>
</g>
<!-- start&#45;&gt;check_unused -->
<g id="edge1" class="edge">
<title>start&#45;&gt;check_unused</title>
<path fill="none" stroke="black" d="M112,-1322.81C112,-1314.79 112,-1305.05 112,-1296.07"/>
<polygon fill="black" stroke="black" points="115.5,-1296.03 112,-1286.03 108.5,-1296.03 115.5,-1296.03"/>
</g>
<!-- return_dead -->
<g id="node3" class="node">
<title>return_dead</title>
<polygon fill="none" stroke="black" points="144,-1149 48,-1149 48,-1113 144,-1113 144,-1149"/>
<text text-anchor="middle" x="96" y="-1134" font-family="Courier,monospace" font-size="10.00">标记为 dead</text>
<text text-anchor="middle" x="96" y="-1123" font-family="Courier,monospace" font-size="10.00">finishAir 返回</text>
</g>
<!-- check_unused&#45;&gt;return_dead -->
<g id="edge2" class="edge">
<title>check_unused&#45;&gt;return_dead</title>
<path fill="none" stroke="black" d="M109.97,-1249.9C107.27,-1227.1 102.46,-1186.48 99.25,-1159.39"/>
<polygon fill="black" stroke="black" points="102.71,-1158.9 98.06,-1149.39 95.76,-1159.73 102.71,-1158.9"/>
<text text-anchor="middle" x="113" y="-1224" font-family="Courier,monospace" font-size="10.00">是</text>
</g>
<!-- get_types -->
<g id="node4" class="node">
<title>get_types</title>
<polygon fill="none" stroke="black" points="321.5,-1203 124.5,-1203 124.5,-1167 321.5,-1167 321.5,-1203"/>
<text text-anchor="middle" x="223" y="-1188" font-family="Courier,monospace" font-size="10.00">获取类型信息</text>
<text text-anchor="middle" x="223" y="-1177" font-family="Courier,monospace" font-size="10.00">(ty_pl, extra, lhs_ty, rhs_ty)</text>
</g>
<!-- check_unused&#45;&gt;get_types -->
<g id="edge3" class="edge">
<title>check_unused&#45;&gt;get_types</title>
<path fill="none" stroke="black" d="M135.54,-1249.82C151.73,-1238.01 173.42,-1222.18 191.15,-1209.24"/>
<polygon fill="black" stroke="black" points="193.48,-1211.88 199.49,-1203.15 189.35,-1206.22 193.48,-1211.88"/>
<text text-anchor="middle" x="179" y="-1224" font-family="Courier,monospace" font-size="10.00">否</text>
</g>
<!-- end -->
<g id="node23" class="node">
<title>end</title>
<polygon fill="none" stroke="black" points="230.5,-36 105.5,-36 105.5,0 230.5,0 230.5,-36"/>
<text text-anchor="middle" x="168" y="-15.5" font-family="Courier,monospace" font-size="10.00">finishAir 并返回结果</text>
</g>
<!-- return_dead&#45;&gt;end -->
<g id="edge27" class="edge">
<title>return_dead&#45;&gt;end</title>
<path fill="none" stroke="black" d="M96,-1112.74C96,-1091.76 96,-1055.28 96,-1024 96,-1024 96,-1024 96,-90 96,-70.12 110.09,-53.93 125.81,-42.06"/>
<polygon fill="black" stroke="black" points="127.92,-44.85 134.11,-36.25 123.91,-39.12 127.92,-44.85"/>
</g>
<!-- handle_vector -->
<g id="node5" class="node">
<title>handle_vector</title>
<polygon fill="none" stroke="black" points="209.5,-1041 124.5,-1041 124.5,-1005 209.5,-1005 209.5,-1041"/>
<text text-anchor="middle" x="167" y="-1026" font-family="Courier,monospace" font-size="10.00">向量类型未实现</text>
<text text-anchor="middle" x="167" y="-1015" font-family="Courier,monospace" font-size="10.00">返回错误</text>
</g>
<!-- get_types&#45;&gt;handle_vector -->
<g id="edge4" class="edge">
<title>get_types&#45;&gt;handle_vector</title>
<path fill="none" stroke="black" d="M217.01,-1166.88C207.29,-1139.11 188.02,-1084.06 176.45,-1050.99"/>
<polygon fill="black" stroke="black" points="179.73,-1049.77 173.12,-1041.48 173.12,-1052.08 179.73,-1049.77"/>
<text text-anchor="middle" x="244.5" y="-1128.5" font-family="Courier,monospace" font-size="10.00">类型是 vector</text>
</g>
<!-- handle_int -->
<g id="node6" class="node">
<title>handle_int</title>
<polygon fill="none" stroke="black" points="446.5,-1095 357.5,-1095 357.5,-1059 446.5,-1059 446.5,-1095"/>
<text text-anchor="middle" x="402" y="-1080" font-family="Courier,monospace" font-size="10.00">处理整数类型</text>
<text text-anchor="middle" x="402" y="-1069" font-family="Courier,monospace" font-size="10.00">获取 int_info</text>
</g>
<!-- get_types&#45;&gt;handle_int -->
<g id="edge5" class="edge">
<title>get_types&#45;&gt;handle_int</title>
<path fill="none" stroke="black" d="M251.76,-1166.97C282.33,-1148.86 330.81,-1120.16 364.39,-1100.27"/>
<polygon fill="black" stroke="black" points="366.19,-1103.27 373.02,-1095.16 362.63,-1097.25 366.19,-1103.27"/>
<text text-anchor="middle" x="364.5" y="-1128.5" font-family="Courier,monospace" font-size="10.00">类型是 int</text>
</g>
<!-- handle_vector&#45;&gt;end -->
<g id="edge6" class="edge">
<title>handle_vector&#45;&gt;end</title>
<path fill="none" stroke="black" d="M156.92,-1004.72C147.21,-986.42 134,-956.39 134,-928.5 134,-928.5 134,-928.5 134,-90 134,-73.94 141.16,-57.67 148.91,-44.76"/>
<polygon fill="black" stroke="black" points="152.08,-46.31 154.56,-36.01 146.2,-42.51 152.08,-46.31"/>
<text text-anchor="middle" x="163.5" y="-505" font-family="Courier,monospace" font-size="10.00">直接返回错误</text>
</g>
<!-- check_bits -->
<g id="node7" class="node">
<title>check_bits</title>
<polygon fill="none" stroke="black" points="474.5,-987 337.5,-987 337.5,-951 474.5,-951 474.5,-987"/>
<text text-anchor="middle" x="406" y="-966.5" font-family="Courier,monospace" font-size="10.00">int_info.bits &lt;= 32?</text>
</g>
<!-- handle_int&#45;&gt;check_bits -->
<g id="edge7" class="edge">
<title>handle_int&#45;&gt;check_bits</title>
<path fill="none" stroke="black" d="M402.64,-1058.97C403.27,-1042.38 404.23,-1016.88 404.96,-997.43"/>
<polygon fill="black" stroke="black" points="408.47,-997.47 405.35,-987.34 401.47,-997.2 408.47,-997.47"/>
</g>
<!-- alloc_mem -->
<g id="node8" class="node">
<title>alloc_mem</title>
<polygon fill="none" stroke="black" points="456.5,-904 355.5,-904 355.5,-868 456.5,-868 456.5,-904"/>
<text text-anchor="middle" x="406" y="-889" font-family="Courier,monospace" font-size="10.00">分配栈内存</text>
<text text-anchor="middle" x="406" y="-878" font-family="Courier,monospace" font-size="10.00">(stack_offset)</text>
</g>
<!-- check_bits&#45;&gt;alloc_mem -->
<g id="edge9" class="edge">
<title>check_bits&#45;&gt;alloc_mem</title>
<path fill="none" stroke="black" d="M406,-950.82C406,-940.19 406,-926.31 406,-914.2"/>
<polygon fill="black" stroke="black" points="409.5,-914.15 406,-904.15 402.5,-914.15 409.5,-914.15"/>
<text text-anchor="middle" x="411" y="-925" font-family="Courier,monospace" font-size="10.00">是</text>
</g>
<!-- handle_large_int -->
<g id="node22" class="node">
<title>handle_large_int</title>
<polygon fill="none" stroke="black" points="768.5,-850 663.5,-850 663.5,-814 768.5,-814 768.5,-850"/>
<text text-anchor="middle" x="716" y="-835" font-family="Courier,monospace" font-size="10.00">整数 &gt;32 位未实现</text>
<text text-anchor="middle" x="716" y="-824" font-family="Courier,monospace" font-size="10.00">返回错误</text>
</g>
<!-- check_bits&#45;&gt;handle_large_int -->
<g id="edge8" class="edge">
<title>check_bits&#45;&gt;handle_large_int</title>
<path fill="none" stroke="black" d="M445.26,-950.9C501.71,-926.32 605.73,-881.02 667.1,-854.3"/>
<polygon fill="black" stroke="black" points="668.8,-857.37 676.57,-850.17 666,-850.96 668.8,-857.37"/>
<text text-anchor="middle" x="513" y="-925" font-family="Courier,monospace" font-size="10.00">否</text>
</g>
<!-- spill_flags -->
<g id="node9" class="node">
<title>spill_flags</title>
<polygon fill="none" stroke="black" points="501.5,-796 310.5,-796 310.5,-760 501.5,-760 501.5,-796"/>
<text text-anchor="middle" x="406" y="-781" font-family="Courier,monospace" font-size="10.00">溢出比较标志位</text>
<text text-anchor="middle" x="406" y="-770" font-family="Courier,monospace" font-size="10.00">(spillCompareFlagsIfOccupied)</text>
</g>
<!-- alloc_mem&#45;&gt;spill_flags -->
<g id="edge10" class="edge">
<title>alloc_mem&#45;&gt;spill_flags</title>
<path fill="none" stroke="black" d="M406,-867.97C406,-851.38 406,-825.88 406,-806.43"/>
<polygon fill="black" stroke="black" points="409.5,-806.34 406,-796.34 402.5,-806.34 409.5,-806.34"/>
</g>
<!-- check_rhs_immediate -->
<g id="node10" class="node">
<title>check_rhs_immediate</title>
<polygon fill="none" stroke="black" points="449,-723 363,-723 363,-687 449,-687 449,-723"/>
<text text-anchor="middle" x="406" y="-702.5" font-family="Courier,monospace" font-size="10.00">rhs 是立即数?</text>
</g>
<!-- spill_flags&#45;&gt;check_rhs_immediate -->
<g id="edge11" class="edge">
<title>spill_flags&#45;&gt;check_rhs_immediate</title>
<path fill="none" stroke="black" d="M406,-759.81C406,-751.79 406,-742.05 406,-733.07"/>
<polygon fill="black" stroke="black" points="409.5,-733.03 406,-723.03 402.5,-733.03 409.5,-733.03"/>
</g>
<!-- reg_alloc_imm -->
<g id="node11" class="node">
<title>reg_alloc_imm</title>
<polygon fill="none" stroke="black" points="407.5,-640 162.5,-640 162.5,-604 407.5,-604 407.5,-640"/>
<text text-anchor="middle" x="285" y="-625" font-family="Courier,monospace" font-size="10.00">分配寄存器</text>
<text text-anchor="middle" x="285" y="-614" font-family="Courier,monospace" font-size="10.00">(lhs_reg, dest_reg, reconstructed_reg)</text>
</g>
<!-- check_rhs_immediate&#45;&gt;reg_alloc_imm -->
<g id="edge12" class="edge">
<title>check_rhs_immediate&#45;&gt;reg_alloc_imm</title>
<path fill="none" stroke="black" d="M380.34,-686.82C362.53,-674.9 338.62,-658.89 319.19,-645.89"/>
<polygon fill="black" stroke="black" points="320.88,-642.81 310.62,-640.15 316.99,-648.62 320.88,-642.81"/>
<text text-anchor="middle" x="357" y="-661" font-family="Courier,monospace" font-size="10.00">是</text>
</g>
<!-- reg_alloc_reg -->
<g id="node15" class="node">
<title>reg_alloc_reg</title>
<polygon fill="none" stroke="black" points="724.5,-640 425.5,-640 425.5,-604 724.5,-604 724.5,-640"/>
<text text-anchor="middle" x="575" y="-625" font-family="Courier,monospace" font-size="10.00">分配寄存器</text>
<text text-anchor="middle" x="575" y="-614" font-family="Courier,monospace" font-size="10.00">(lhs_reg, rhs_reg, dest_reg, reconstructed_reg)</text>
</g>
<!-- check_rhs_immediate&#45;&gt;reg_alloc_reg -->
<g id="edge13" class="edge">
<title>check_rhs_immediate&#45;&gt;reg_alloc_reg</title>
<path fill="none" stroke="black" d="M441.84,-686.82C467.69,-674.43 502.77,-657.62 530.43,-644.36"/>
<polygon fill="black" stroke="black" points="532,-647.49 539.5,-640.01 528.97,-641.18 532,-647.49"/>
<text text-anchor="middle" x="505" y="-661" font-family="Courier,monospace" font-size="10.00">否</text>
</g>
<!-- gen_lsl_imm -->
<g id="node12" class="node">
<title>gen_lsl_imm</title>
<polygon fill="none" stroke="black" points="331.5,-567 246.5,-567 246.5,-531 331.5,-531 331.5,-567"/>
<text text-anchor="middle" x="289" y="-552" font-family="Courier,monospace" font-size="10.00">生成 LSL 指令</text>
<text text-anchor="middle" x="289" y="-541" font-family="Courier,monospace" font-size="10.00">(立即数移位)</text>
</g>
<!-- reg_alloc_imm&#45;&gt;gen_lsl_imm -->
<g id="edge14" class="edge">
<title>reg_alloc_imm&#45;&gt;gen_lsl_imm</title>
<path fill="none" stroke="black" d="M285.97,-603.81C286.42,-595.79 286.97,-586.05 287.47,-577.07"/>
<polygon fill="black" stroke="black" points="290.97,-577.21 288.04,-567.03 283.98,-576.82 290.97,-577.21"/>
</g>
<!-- truncate_reg -->
<g id="node13" class="node">
<title>truncate_reg</title>
<polygon fill="none" stroke="black" points="366.5,-484 271.5,-484 271.5,-448 366.5,-448 366.5,-484"/>
<text text-anchor="middle" x="319" y="-469" font-family="Courier,monospace" font-size="10.00">截断寄存器</text>
<text text-anchor="middle" x="319" y="-458" font-family="Courier,monospace" font-size="10.00">truncRegister</text>
</g>
<!-- gen_lsl_imm&#45;&gt;truncate_reg -->
<g id="edge15" class="edge">
<title>gen_lsl_imm&#45;&gt;truncate_reg</title>
<path fill="none" stroke="black" d="M295.36,-530.82C299.34,-520.08 304.55,-506.03 309.06,-493.84"/>
<polygon fill="black" stroke="black" points="312.46,-494.75 312.65,-484.15 305.89,-492.32 312.46,-494.75"/>
</g>
<!-- gen_shr_imm -->
<g id="node14" class="node">
<title>gen_shr_imm</title>
<polygon fill="none" stroke="black" points="294.5,-401 185.5,-401 185.5,-365 294.5,-365 294.5,-401"/>
<text text-anchor="middle" x="240" y="-386" font-family="Courier,monospace" font-size="10.00">生成 ASR/LSR 指令</text>
<text text-anchor="middle" x="240" y="-375" font-family="Courier,monospace" font-size="10.00">(立即数移位)</text>
</g>
<!-- truncate_reg&#45;&gt;gen_shr_imm -->
<g id="edge16" class="edge">
<title>truncate_reg&#45;&gt;gen_shr_imm</title>
<path fill="none" stroke="black" d="M302.25,-447.82C291.14,-436.44 276.4,-421.33 264.06,-408.66"/>
<polygon fill="black" stroke="black" points="266.22,-405.87 256.73,-401.15 261.21,-410.76 266.22,-405.87"/>
</g>
<!-- gen_shr_reg -->
<g id="node17" class="node">
<title>gen_shr_reg</title>
<polygon fill="none" stroke="black" points="421.5,-401 312.5,-401 312.5,-365 421.5,-365 421.5,-401"/>
<text text-anchor="middle" x="367" y="-386" font-family="Courier,monospace" font-size="10.00">生成 ASR/LSR 指令</text>
<text text-anchor="middle" x="367" y="-375" font-family="Courier,monospace" font-size="10.00">(寄存器移位)</text>
</g>
<!-- truncate_reg&#45;&gt;gen_shr_reg -->
<g id="edge20" class="edge">
<title>truncate_reg&#45;&gt;gen_shr_reg</title>
<path fill="none" stroke="black" d="M329.18,-447.82C335.67,-436.87 344.21,-422.46 351.53,-410.11"/>
<polygon fill="black" stroke="black" points="354.75,-411.54 356.84,-401.15 348.73,-407.97 354.75,-411.54"/>
</g>
<!-- compare -->
<g id="node18" class="node">
<title>compare</title>
<polygon fill="none" stroke="black" points="344,-328 162,-328 162,-292 344,-292 344,-328"/>
<text text-anchor="middle" x="253" y="-313" font-family="Courier,monospace" font-size="10.00">生成 CMP 指令</text>
<text text-anchor="middle" x="253" y="-302" font-family="Courier,monospace" font-size="10.00">比较 lhs 和 reconstructed_reg</text>
</g>
<!-- gen_shr_imm&#45;&gt;compare -->
<g id="edge17" class="edge">
<title>gen_shr_imm&#45;&gt;compare</title>
<path fill="none" stroke="black" d="M243.15,-364.81C244.62,-356.79 246.4,-347.05 248.04,-338.07"/>
<polygon fill="black" stroke="black" points="251.52,-338.5 249.88,-328.03 244.64,-337.23 251.52,-338.5"/>
</g>
<!-- gen_lsl_reg -->
<g id="node16" class="node">
<title>gen_lsl_reg</title>
<polygon fill="none" stroke="black" points="501.5,-567 416.5,-567 416.5,-531 501.5,-531 501.5,-567"/>
<text text-anchor="middle" x="459" y="-552" font-family="Courier,monospace" font-size="10.00">生成 LSL 指令</text>
<text text-anchor="middle" x="459" y="-541" font-family="Courier,monospace" font-size="10.00">(寄存器移位)</text>
</g>
<!-- reg_alloc_reg&#45;&gt;gen_lsl_reg -->
<g id="edge18" class="edge">
<title>reg_alloc_reg&#45;&gt;gen_lsl_reg</title>
<path fill="none" stroke="black" d="M547.22,-603.99C531.83,-594.58 512.52,-582.76 495.88,-572.57"/>
<polygon fill="black" stroke="black" points="497.32,-569.35 486.96,-567.11 493.66,-575.32 497.32,-569.35"/>
</g>
<!-- gen_lsl_reg&#45;&gt;truncate_reg -->
<g id="edge19" class="edge">
<title>gen_lsl_reg&#45;&gt;truncate_reg</title>
<path fill="none" stroke="black" d="M429.31,-530.82C408.34,-518.69 380.04,-502.31 357.35,-489.19"/>
<polygon fill="black" stroke="black" points="359.06,-486.13 348.65,-484.15 355.55,-492.19 359.06,-486.13"/>
</g>
<!-- gen_shr_reg&#45;&gt;compare -->
<g id="edge21" class="edge">
<title>gen_shr_reg&#45;&gt;compare</title>
<path fill="none" stroke="black" d="M339.69,-364.99C324.58,-355.58 305.59,-343.76 289.25,-333.57"/>
<polygon fill="black" stroke="black" points="290.82,-330.43 280.48,-328.11 287.12,-336.37 290.82,-330.43"/>
</g>
<!-- set_stack -->
<g id="node19" class="node">
<title>set_stack</title>
<polygon fill="none" stroke="black" points="299.5,-255 204.5,-255 204.5,-219 299.5,-219 299.5,-255"/>
<text text-anchor="middle" x="252" y="-240" font-family="Courier,monospace" font-size="10.00">存储结果到栈</text>
<text text-anchor="middle" x="252" y="-229" font-family="Courier,monospace" font-size="10.00">(genSetStack)</text>
</g>
<!-- compare&#45;&gt;set_stack -->
<g id="edge22" class="edge">
<title>compare&#45;&gt;set_stack</title>
<path fill="none" stroke="black" d="M252.76,-291.81C252.64,-283.79 252.51,-274.05 252.38,-265.07"/>
<polygon fill="black" stroke="black" points="255.88,-264.98 252.24,-255.03 248.88,-265.08 255.88,-264.98"/>
</g>
<!-- set_overflow -->
<g id="node20" class="node">
<title>set_overflow</title>
<polygon fill="none" stroke="black" points="299,-182 195,-182 195,-146 299,-146 299,-182"/>
<text text-anchor="middle" x="247" y="-161.5" font-family="Courier,monospace" font-size="10.00">设置溢出标志位到栈</text>
</g>
<!-- set_stack&#45;&gt;set_overflow -->
<g id="edge23" class="edge">
<title>set_stack&#45;&gt;set_overflow</title>
<path fill="none" stroke="black" d="M250.79,-218.81C250.22,-210.79 249.54,-201.05 248.91,-192.07"/>
<polygon fill="black" stroke="black" points="252.39,-191.76 248.2,-182.03 245.41,-192.25 252.39,-191.76"/>
</g>
<!-- result_stack -->
<g id="node21" class="node">
<title>result_stack</title>
<polygon fill="none" stroke="black" points="324.5,-109 163.5,-109 163.5,-73 324.5,-73 324.5,-109"/>
<text text-anchor="middle" x="244" y="-88.5" font-family="Courier,monospace" font-size="10.00">返回 MCValue.stack_offset</text>
</g>
<!-- set_overflow&#45;&gt;result_stack -->
<g id="edge24" class="edge">
<title>set_overflow&#45;&gt;result_stack</title>
<path fill="none" stroke="black" d="M246.27,-145.81C245.93,-137.79 245.52,-128.05 245.14,-119.07"/>
<polygon fill="black" stroke="black" points="248.64,-118.87 244.72,-109.03 241.64,-119.17 248.64,-118.87"/>
</g>
<!-- result_stack&#45;&gt;end -->
<g id="edge25" class="edge">
<title>result_stack&#45;&gt;end</title>
<path fill="none" stroke="black" d="M225.6,-72.81C215.99,-63.83 204.07,-52.69 193.57,-42.89"/>
<polygon fill="black" stroke="black" points="195.92,-40.3 186.23,-36.03 191.15,-45.41 195.92,-40.3"/>
</g>
<!-- handle_large_int&#45;&gt;end -->
<g id="edge26" class="edge">
<title>handle_large_int&#45;&gt;end</title>
<path fill="none" stroke="black" d="M727.91,-813.81C738.73,-796.49 753,-768.61 753,-742 753,-742 753,-742 753,-90 753,-38.94 397.31,-24.34 240.63,-20.39"/>
<polygon fill="black" stroke="black" points="240.69,-16.89 230.61,-20.14 240.52,-23.88 240.69,-16.89"/>
<text text-anchor="middle" x="782.5" y="-422" font-family="Courier,monospace" font-size="10.00">直接返回错误</text>
</g>
</g>
</svg>
