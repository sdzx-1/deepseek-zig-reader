flowchart TD
    A[开始] --> B[初始化变量和参数]
    B --> C[解析命令行参数和环境变量]
    C --> D[处理构建目标和输出配置]
    D --> E[设置Zig库目录和缓存目录]
    E --> F[初始化线程池和HTTP客户端]
    F --> G{是否有未解析的依赖?}
    G -- 是 --> H[获取依赖包并创建模块]
    H --> I[生成依赖关系源码]
    I --> J[创建编译配置]
    J --> K[执行编译]
    K --> L{编译成功?}
    L -- 否 --> M[输出错误并退出]
    L -- 是 --> N[生成子进程执行构建脚本]
    N --> O{子进程退出状态}
    O -- 0 --> P[退出成功]
    O -- 3 --> Q[处理缺失依赖]
    Q --> G
    O -- 其他错误码 --> R[输出错误信息]
    G -- 否 --> N
    M --> S[结束]
    R --> S
    P --> S
