<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: G Pages: 1 -->
<svg width="421pt" height="1283pt"
 viewBox="0.00 0.00 420.50 1283.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1279)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1279 416.5,-1279 416.5,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<path fill="none" stroke="black" d="M232,-1275C232,-1275 68,-1275 68,-1275 62,-1275 56,-1269 56,-1263 56,-1263 56,-1251 56,-1251 56,-1245 62,-1239 68,-1239 68,-1239 232,-1239 232,-1239 238,-1239 244,-1245 244,-1251 244,-1251 244,-1263 244,-1263 244,-1269 238,-1275 232,-1275"/>
<text text-anchor="middle" x="150" y="-1253.3" font-family="Arial" font-size="14.00">开始 performAllAllWorkInner</text>
</g>
<!-- init_vars -->
<g id="node2" class="node">
<title>init_vars</title>
<path fill="none" stroke="black" d="M220,-1202C220,-1202 80,-1202 80,-1202 74,-1202 68,-1196 68,-1190 68,-1190 68,-1161 68,-1161 68,-1155 74,-1149 80,-1149 80,-1149 220,-1149 220,-1149 226,-1149 232,-1155 232,-1161 232,-1161 232,-1190 232,-1190 232,-1196 226,-1202 220,-1202"/>
<text text-anchor="middle" x="150" y="-1186.8" font-family="Arial" font-size="14.00">初始化变量:</text>
<text text-anchor="middle" x="150" y="-1171.8" font-family="Arial" font-size="14.00">work_queue_wait_group</text>
<text text-anchor="middle" x="150" y="-1156.8" font-family="Arial" font-size="14.00">link_task_wait_group</text>
</g>
<!-- start&#45;&gt;init_vars -->
<g id="edge1" class="edge">
<title>start&#45;&gt;init_vars</title>
<path fill="none" stroke="black" d="M150,-1238.75C150,-1230.99 150,-1221.51 150,-1212.32"/>
<polygon fill="black" stroke="black" points="153.5,-1212.18 150,-1202.18 146.5,-1212.18 153.5,-1212.18"/>
</g>
<!-- link_task_queue -->
<g id="node3" class="node">
<title>link_task_queue</title>
<path fill="none" stroke="black" d="M223,-1112C223,-1112 77,-1112 77,-1112 71,-1112 65,-1106 65,-1100 65,-1100 65,-1086 65,-1086 65,-1080 71,-1074 77,-1074 77,-1074 223,-1074 223,-1074 229,-1074 235,-1080 235,-1086 235,-1086 235,-1100 235,-1100 235,-1106 229,-1112 223,-1112"/>
<text text-anchor="middle" x="150" y="-1096.8" font-family="Arial" font-size="14.00">启动 link_task_queue</text>
<text text-anchor="middle" x="150" y="-1081.8" font-family="Arial" font-size="14.00">生成 link.flushTaskQueue</text>
</g>
<!-- init_vars&#45;&gt;link_task_queue -->
<g id="edge2" class="edge">
<title>init_vars&#45;&gt;link_task_queue</title>
<path fill="none" stroke="black" d="M150,-1148.59C150,-1140.31 150,-1131.11 150,-1122.65"/>
<polygon fill="black" stroke="black" points="153.5,-1122.47 150,-1112.47 146.5,-1122.47 153.5,-1122.47"/>
</g>
<!-- docs_emit_check -->
<g id="node4" class="node">
<title>docs_emit_check</title>
<path fill="none" stroke="black" d="M242.5,-1037C242.5,-1037 57.5,-1037 57.5,-1037 51.5,-1037 45.5,-1031 45.5,-1025 45.5,-1025 45.5,-1013 45.5,-1013 45.5,-1007 51.5,-1001 57.5,-1001 57.5,-1001 242.5,-1001 242.5,-1001 248.5,-1001 254.5,-1007 254.5,-1013 254.5,-1013 254.5,-1025 254.5,-1025 254.5,-1031 248.5,-1037 242.5,-1037"/>
<text text-anchor="middle" x="150" y="-1015.3" font-family="Arial" font-size="14.00">检查 comp.docs_emit 是否存在</text>
</g>
<!-- link_task_queue&#45;&gt;docs_emit_check -->
<g id="edge3" class="edge">
<title>link_task_queue&#45;&gt;docs_emit_check</title>
<path fill="none" stroke="black" d="M150,-1073.83C150,-1065.89 150,-1056.41 150,-1047.63"/>
<polygon fill="black" stroke="black" points="153.5,-1047.42 150,-1037.42 146.5,-1047.42 153.5,-1047.42"/>
</g>
<!-- spawn_docs_tasks -->
<g id="node5" class="node">
<title>spawn_docs_tasks</title>
<path fill="none" stroke="black" d="M164,-950C164,-950 12,-950 12,-950 6,-950 0,-944 0,-938 0,-938 0,-924 0,-924 0,-918 6,-912 12,-912 12,-912 164,-912 164,-912 170,-912 176,-918 176,-924 176,-924 176,-938 176,-938 176,-944 170,-950 164,-950"/>
<text text-anchor="middle" x="88" y="-934.8" font-family="Arial" font-size="14.00">生成 workerDocsCopy</text>
<text text-anchor="middle" x="88" y="-919.8" font-family="Arial" font-size="14.00">和 workerDocsWasm 任务</text>
</g>
<!-- docs_emit_check&#45;&gt;spawn_docs_tasks -->
<g id="edge4" class="edge">
<title>docs_emit_check&#45;&gt;spawn_docs_tasks</title>
<path fill="none" stroke="black" d="M137.45,-1000.6C128.72,-988.48 116.92,-972.11 107.03,-958.4"/>
<polygon fill="black" stroke="black" points="109.86,-956.33 101.17,-950.27 104.18,-960.43 109.86,-956.33"/>
<text text-anchor="middle" x="132.5" y="-971.8" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- rt_checks -->
<g id="node6" class="node">
<title>rt_checks</title>
<path fill="none" stroke="black" d="M243,-875C243,-875 57,-875 57,-875 51,-875 45,-869 45,-863 45,-863 45,-849 45,-849 45,-843 51,-837 57,-837 57,-837 243,-837 243,-837 249,-837 255,-843 255,-849 255,-849 255,-863 255,-863 255,-869 249,-875 243,-875"/>
<text text-anchor="middle" x="150" y="-859.8" font-family="Arial" font-size="14.00">检查并生成多个运行时库任务</text>
<text text-anchor="middle" x="150" y="-844.8" font-family="Arial" font-size="14.00">(compiler_rt, fuzzer, ubsan, etc.)</text>
</g>
<!-- docs_emit_check&#45;&gt;rt_checks -->
<g id="edge5" class="edge">
<title>docs_emit_check&#45;&gt;rt_checks</title>
<path fill="none" stroke="black" d="M162.31,-1000.86C175.75,-980 194.21,-943.63 185,-912 182.09,-902 176.75,-892.08 171.1,-883.48"/>
<polygon fill="black" stroke="black" points="173.79,-881.23 165.19,-875.04 168.06,-885.24 173.79,-881.23"/>
<text text-anchor="middle" x="195.5" y="-927.3" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- spawn_docs_tasks&#45;&gt;rt_checks -->
<g id="edge6" class="edge">
<title>spawn_docs_tasks&#45;&gt;rt_checks</title>
<path fill="none" stroke="black" d="M103.33,-911.96C110.78,-903.18 119.87,-892.48 128.04,-882.85"/>
<polygon fill="black" stroke="black" points="130.83,-884.98 134.64,-875.09 125.49,-880.45 130.83,-884.98"/>
</g>
<!-- crt_files -->
<g id="node7" class="node">
<title>crt_files</title>
<path fill="none" stroke="black" d="M229.5,-800C229.5,-800 70.5,-800 70.5,-800 64.5,-800 58.5,-794 58.5,-788 58.5,-788 58.5,-759 58.5,-759 58.5,-753 64.5,-747 70.5,-747 70.5,-747 229.5,-747 229.5,-747 235.5,-747 241.5,-753 241.5,-759 241.5,-759 241.5,-788 241.5,-788 241.5,-794 235.5,-800 229.5,-800"/>
<text text-anchor="middle" x="150" y="-784.8" font-family="Arial" font-size="14.00">遍历并生成不同C运行库的</text>
<text text-anchor="middle" x="150" y="-769.8" font-family="Arial" font-size="14.00">CrtFile构建任务</text>
<text text-anchor="middle" x="150" y="-754.8" font-family="Arial" font-size="14.00">(musl, glibc, wasi, mingw)</text>
</g>
<!-- rt_checks&#45;&gt;crt_files -->
<g id="edge7" class="edge">
<title>rt_checks&#45;&gt;crt_files</title>
<path fill="none" stroke="black" d="M150,-836.73C150,-828.85 150,-819.34 150,-810.15"/>
<polygon fill="black" stroke="black" points="153.5,-810.02 150,-800.02 146.5,-810.02 153.5,-810.02"/>
</g>
<!-- astgen_phase -->
<g id="node8" class="node">
<title>astgen_phase</title>
<path fill="none" stroke="black" d="M202,-710C202,-710 98,-710 98,-710 92,-710 86,-704 86,-698 86,-698 86,-669 86,-669 86,-663 92,-657 98,-657 98,-657 202,-657 202,-657 208,-657 214,-663 214,-669 214,-669 214,-698 214,-698 214,-704 208,-710 202,-710"/>
<text text-anchor="middle" x="150" y="-694.8" font-family="Arial" font-size="14.00">进入AST生成阶段</text>
<text text-anchor="middle" x="150" y="-679.8" font-family="Arial" font-size="14.00">处理 builtin.zig</text>
<text text-anchor="middle" x="150" y="-664.8" font-family="Arial" font-size="14.00">和文件队列</text>
</g>
<!-- crt_files&#45;&gt;astgen_phase -->
<g id="edge8" class="edge">
<title>crt_files&#45;&gt;astgen_phase</title>
<path fill="none" stroke="black" d="M150,-746.57C150,-738.34 150,-729.08 150,-720.28"/>
<polygon fill="black" stroke="black" points="153.5,-720.24 150,-710.24 146.5,-720.24 153.5,-720.24"/>
</g>
<!-- c_objects -->
<g id="node9" class="node">
<title>c_objects</title>
<path fill="none" stroke="black" d="M235,-620C235,-620 65,-620 65,-620 59,-620 53,-614 53,-608 53,-608 53,-596 53,-596 53,-590 59,-584 65,-584 65,-584 235,-584 235,-584 241,-584 247,-590 247,-596 247,-596 247,-608 247,-608 247,-614 241,-620 235,-620"/>
<text text-anchor="middle" x="150" y="-598.3" font-family="Arial" font-size="14.00">处理C对象和Win32资源队列</text>
</g>
<!-- astgen_phase&#45;&gt;c_objects -->
<g id="edge9" class="edge">
<title>astgen_phase&#45;&gt;c_objects</title>
<path fill="none" stroke="black" d="M150,-656.91C150,-648.48 150,-639.08 150,-630.52"/>
<polygon fill="black" stroke="black" points="153.5,-630.26 150,-620.26 146.5,-630.26 153.5,-630.26"/>
</g>
<!-- zcu_processing -->
<g id="node10" class="node">
<title>zcu_processing</title>
<path fill="none" stroke="black" d="M215.5,-547C215.5,-547 84.5,-547 84.5,-547 78.5,-547 72.5,-541 72.5,-535 72.5,-535 72.5,-521 72.5,-521 72.5,-515 78.5,-509 84.5,-509 84.5,-509 215.5,-509 215.5,-509 221.5,-509 227.5,-515 227.5,-521 227.5,-521 227.5,-535 227.5,-535 227.5,-541 221.5,-547 215.5,-547"/>
<text text-anchor="middle" x="150" y="-531.8" font-family="Arial" font-size="14.00">Zig编译单元(zcu)处理:</text>
<text text-anchor="middle" x="150" y="-516.8" font-family="Arial" font-size="14.00">缓存管理、错误报告</text>
</g>
<!-- c_objects&#45;&gt;zcu_processing -->
<g id="edge10" class="edge">
<title>c_objects&#45;&gt;zcu_processing</title>
<path fill="none" stroke="black" d="M150,-583.94C150,-575.99 150,-566.31 150,-557.31"/>
<polygon fill="black" stroke="black" points="153.5,-557.2 150,-547.2 146.5,-557.2 153.5,-557.2"/>
</g>
<!-- check_errors -->
<g id="node11" class="node">
<title>check_errors</title>
<path fill="none" stroke="black" d="M239,-472C239,-472 61,-472 61,-472 55,-472 49,-466 49,-460 49,-460 49,-448 49,-448 49,-442 55,-436 61,-436 61,-436 239,-436 239,-436 245,-436 251,-442 251,-448 251,-448 251,-460 251,-460 251,-466 245,-472 239,-472"/>
<text text-anchor="middle" x="150" y="-450.3" font-family="Arial" font-size="14.00">检查致命错误或内存分配失败</text>
</g>
<!-- zcu_processing&#45;&gt;check_errors -->
<g id="edge11" class="edge">
<title>zcu_processing&#45;&gt;check_errors</title>
<path fill="none" stroke="black" d="M150,-508.83C150,-500.89 150,-491.41 150,-482.63"/>
<polygon fill="black" stroke="black" points="153.5,-482.42 150,-472.42 146.5,-482.42 153.5,-482.42"/>
</g>
<!-- skip_analysis -->
<g id="node12" class="node">
<title>skip_analysis</title>
<path fill="none" stroke="black" d="M147,-329C147,-329 69,-329 69,-329 63,-329 57,-323 57,-317 57,-317 57,-303 57,-303 57,-297 63,-291 69,-291 69,-291 147,-291 147,-291 153,-291 159,-297 159,-303 159,-303 159,-317 159,-317 159,-323 153,-329 147,-329"/>
<text text-anchor="middle" x="108" y="-313.8" font-family="Arial" font-size="14.00">跳过分析阶段</text>
<text text-anchor="middle" x="108" y="-298.8" font-family="Arial" font-size="14.00">直接返回</text>
</g>
<!-- check_errors&#45;&gt;skip_analysis -->
<g id="edge12" class="edge">
<title>check_errors&#45;&gt;skip_analysis</title>
<path fill="none" stroke="black" d="M124.11,-435.98C118.44,-430.92 113.19,-424.86 110,-418 98.43,-393.13 99.54,-361.36 102.55,-338.92"/>
<polygon fill="black" stroke="black" points="106.01,-339.44 104.08,-329.03 99.1,-338.37 106.01,-339.44"/>
<text text-anchor="middle" x="139" y="-406.8" font-family="Times,serif" font-size="14.00">存在错误</text>
</g>
<!-- incremental_phase -->
<g id="node13" class="node">
<title>incremental_phase</title>
<path fill="none" stroke="black" d="M239,-385C239,-385 161,-385 161,-385 155,-385 149,-379 149,-373 149,-373 149,-359 149,-359 149,-353 155,-347 161,-347 161,-347 239,-347 239,-347 245,-347 251,-353 251,-359 251,-359 251,-373 251,-373 251,-379 245,-385 239,-385"/>
<text text-anchor="middle" x="200" y="-369.8" font-family="Arial" font-size="14.00">增量编译阶段</text>
<text text-anchor="middle" x="200" y="-354.8" font-family="Arial" font-size="14.00">更新ZIR引用</text>
</g>
<!-- check_errors&#45;&gt;incremental_phase -->
<g id="edge13" class="edge">
<title>check_errors&#45;&gt;incremental_phase</title>
<path fill="none" stroke="black" d="M161.17,-435.68C164.71,-430.08 168.58,-423.82 172,-418 176.51,-410.32 181.24,-401.89 185.5,-394.12"/>
<polygon fill="black" stroke="black" points="188.71,-395.54 190.41,-385.08 182.56,-392.2 188.71,-395.54"/>
<text text-anchor="middle" x="201.5" y="-406.8" font-family="Times,serif" font-size="14.00">无错误</text>
</g>
<!-- end -->
<g id="node17" class="node">
<title>end</title>
<path fill="none" stroke="black" d="M148,-36C148,-36 98,-36 98,-36 92,-36 86,-30 86,-24 86,-24 86,-12 86,-12 86,-6 92,0 98,0 98,0 148,0 148,0 154,0 160,-6 160,-12 160,-12 160,-24 160,-24 160,-30 154,-36 148,-36"/>
<text text-anchor="middle" x="123" y="-14.3" font-family="Arial" font-size="14.00">函数结束</text>
</g>
<!-- skip_analysis&#45;&gt;end -->
<g id="edge14" class="edge">
<title>skip_analysis&#45;&gt;end</title>
<path fill="none" stroke="black" d="M107.68,-290.67C107.39,-272.11 107,-242.56 107,-217 107,-217 107,-217 107,-105 107,-85 111.23,-62.83 115.34,-46"/>
<polygon fill="black" stroke="black" points="118.74,-46.84 117.85,-36.28 111.96,-45.09 118.74,-46.84"/>
</g>
<!-- sema_codegen -->
<g id="node14" class="node">
<title>sema_codegen</title>
<path fill="none" stroke="black" d="M251,-273C251,-273 159,-273 159,-273 153,-273 147,-267 147,-261 147,-261 147,-247 147,-247 147,-241 153,-235 159,-235 159,-235 251,-235 251,-235 257,-235 263,-241 263,-247 263,-247 263,-261 263,-261 263,-267 257,-273 251,-273"/>
<text text-anchor="middle" x="205" y="-257.8" font-family="Arial" font-size="14.00">启动语义分析</text>
<text text-anchor="middle" x="205" y="-242.8" font-family="Arial" font-size="14.00">和代码生成节点</text>
</g>
<!-- incremental_phase&#45;&gt;sema_codegen -->
<g id="edge15" class="edge">
<title>incremental_phase&#45;&gt;sema_codegen</title>
<path fill="none" stroke="black" d="M200.83,-346.84C201.61,-329.56 202.8,-303.31 203.71,-283.29"/>
<polygon fill="black" stroke="black" points="207.22,-283.34 204.17,-273.19 200.22,-283.02 207.22,-283.34"/>
</g>
<!-- wait_link_tasks -->
<g id="node15" class="node">
<title>wait_link_tasks</title>
<path fill="none" stroke="black" d="M285.5,-198C285.5,-198 150.5,-198 150.5,-198 144.5,-198 138.5,-192 138.5,-186 138.5,-186 138.5,-174 138.5,-174 138.5,-168 144.5,-162 150.5,-162 150.5,-162 285.5,-162 285.5,-162 291.5,-162 297.5,-168 297.5,-174 297.5,-174 297.5,-186 297.5,-186 297.5,-192 291.5,-198 285.5,-198"/>
<text text-anchor="middle" x="218" y="-176.3" font-family="Arial" font-size="14.00">等待所有链接任务完成</text>
</g>
<!-- sema_codegen&#45;&gt;wait_link_tasks -->
<g id="edge16" class="edge">
<title>sema_codegen&#45;&gt;wait_link_tasks</title>
<path fill="none" stroke="black" d="M208.28,-234.83C209.73,-226.81 211.46,-217.2 213.06,-208.34"/>
<polygon fill="black" stroke="black" points="216.52,-208.88 214.86,-198.42 209.63,-207.64 216.52,-208.88"/>
</g>
<!-- work_loop -->
<g id="node16" class="node">
<title>work_loop</title>
<path fill="none" stroke="black" d="M296.5,-125C296.5,-125 147.5,-125 147.5,-125 141.5,-125 135.5,-119 135.5,-113 135.5,-113 135.5,-99 135.5,-99 135.5,-93 141.5,-87 147.5,-87 147.5,-87 296.5,-87 296.5,-87 302.5,-87 308.5,-93 308.5,-99 308.5,-99 308.5,-113 308.5,-113 308.5,-119 302.5,-125 296.5,-125"/>
<text text-anchor="middle" x="222" y="-109.8" font-family="Arial" font-size="14.00">主工作循环处理作业队列</text>
<text text-anchor="middle" x="222" y="-94.8" font-family="Arial" font-size="14.00">检查是否需要分析旧数据</text>
</g>
<!-- wait_link_tasks&#45;&gt;work_loop -->
<g id="edge17" class="edge">
<title>wait_link_tasks&#45;&gt;work_loop</title>
<path fill="none" stroke="black" d="M218.95,-161.94C219.39,-153.99 219.93,-144.31 220.43,-135.31"/>
<polygon fill="black" stroke="black" points="223.93,-135.38 220.99,-125.2 216.94,-134.99 223.93,-135.38"/>
</g>
<!-- work_loop&#45;&gt;work_loop -->
<g id="edge19" class="edge">
<title>work_loop&#45;&gt;work_loop</title>
<path fill="none" stroke="black" d="M308.89,-111.84C319.53,-110.79 326.5,-108.85 326.5,-106 326.5,-104.18 323.64,-102.72 318.78,-101.64"/>
<polygon fill="black" stroke="black" points="319.29,-98.17 308.89,-100.16 318.26,-105.1 319.29,-98.17"/>
<text text-anchor="middle" x="369.5" y="-102.3" font-family="Times,serif" font-size="14.00">继续处理作业</text>
</g>
<!-- work_loop&#45;&gt;end -->
<g id="edge18" class="edge">
<title>work_loop&#45;&gt;end</title>
<path fill="none" stroke="black" d="M201,-86.76C186.31,-74 166.53,-56.82 150.57,-42.95"/>
<polygon fill="black" stroke="black" points="152.46,-39.96 142.62,-36.04 147.87,-45.24 152.46,-39.96"/>
<text text-anchor="middle" x="222" y="-57.8" font-family="Times,serif" font-size="14.00">所有任务完成</text>
</g>
</g>
</svg>
