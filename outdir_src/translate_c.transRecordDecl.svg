<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="617pt" height="1157pt"
 viewBox="0.00 0.00 616.89 1157.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1153)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1153 612.89,-1153 612.89,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_fields</title>
<polygon fill="none" stroke="black" points="16.89,-221 16.89,-545 179.89,-545 179.89,-221 16.89,-221"/>
<text text-anchor="middle" x="98.39" y="-529.8" font-family="Times,serif" font-size="14.00">字段处理循环</text>
</g>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<polygon fill="none" stroke="black" points="546.39,-1149 415.39,-1149 415.39,-1113 546.39,-1113 546.39,-1149"/>
<text text-anchor="middle" x="480.89" y="-1128.5" font-family="Courier,monospace" font-size="10.00">开始 transRecordDecl</text>
</g>
<!-- check_processed -->
<g id="node2" class="node">
<title>check_processed</title>
<polygon fill="none" stroke="black" points="542.89,-1076 418.89,-1076 418.89,-1040 542.89,-1040 542.89,-1076"/>
<text text-anchor="middle" x="480.89" y="-1055.5" font-family="Courier,monospace" font-size="10.00">检查是否已处理过该声明</text>
</g>
<!-- start&#45;&gt;check_processed -->
<g id="edge1" class="edge">
<title>start&#45;&gt;check_processed</title>
<path fill="none" stroke="black" d="M480.89,-1112.81C480.89,-1104.79 480.89,-1095.05 480.89,-1086.07"/>
<polygon fill="black" stroke="black" points="484.39,-1086.03 480.89,-1076.03 477.39,-1086.03 484.39,-1086.03"/>
</g>
<!-- get_record_loc -->
<g id="node3" class="node">
<title>get_record_loc</title>
<polygon fill="none" stroke="black" points="496.89,-993 356.89,-993 356.89,-957 496.89,-957 496.89,-993"/>
<text text-anchor="middle" x="426.89" y="-972.5" font-family="Courier,monospace" font-size="10.00">获取声明位置 record_loc</text>
</g>
<!-- check_processed&#45;&gt;get_record_loc -->
<g id="edge2" class="edge">
<title>check_processed&#45;&gt;get_record_loc</title>
<path fill="none" stroke="black" d="M469.44,-1039.82C462.07,-1028.76 452.35,-1014.18 444.06,-1001.75"/>
<polygon fill="black" stroke="black" points="446.79,-999.53 438.33,-993.15 440.96,-1003.42 446.79,-999.53"/>
<text text-anchor="middle" x="471.89" y="-1014" font-family="Courier,monospace" font-size="10.00">未处理</text>
</g>
<!-- end -->
<g id="node16" class="node">
<title>end</title>
<polygon fill="none" stroke="black" points="523.89,-36 469.89,-36 469.89,0 523.89,0 523.89,-36"/>
<text text-anchor="middle" x="496.89" y="-15.5" font-family="Courier,monospace" font-size="10.00">结束</text>
</g>
<!-- check_processed&#45;&gt;end -->
<g id="edge3" class="edge">
<title>check_processed&#45;&gt;end</title>
<path fill="none" stroke="black" d="M498.86,-1039.82C512.85,-1024.54 529.89,-1000.82 529.89,-976 529.89,-976 529.89,-976 529.89,-90 529.89,-74.03 522.94,-57.77 515.42,-44.84"/>
<polygon fill="black" stroke="black" points="518.21,-42.69 509.94,-36.07 512.27,-46.4 518.21,-42.69"/>
<text text-anchor="middle" x="569.39" y="-556" font-family="Courier,monospace" font-size="10.00">已处理，直接返回</text>
</g>
<!-- determine_toplevel -->
<g id="node4" class="node">
<title>determine_toplevel</title>
<polygon fill="none" stroke="black" points="501.89,-920 321.89,-920 321.89,-884 501.89,-884 501.89,-920"/>
<text text-anchor="middle" x="411.89" y="-899.5" font-family="Courier,monospace" font-size="10.00">确定是否为顶层作用域 (toplevel)</text>
</g>
<!-- get_record_loc&#45;&gt;determine_toplevel -->
<g id="edge4" class="edge">
<title>get_record_loc&#45;&gt;determine_toplevel</title>
<path fill="none" stroke="black" d="M423.26,-956.81C421.57,-948.79 419.51,-939.05 417.61,-930.07"/>
<polygon fill="black" stroke="black" points="420.98,-929.09 415.49,-920.03 414.13,-930.54 420.98,-929.09"/>
</g>
<!-- handle_union_struct -->
<g id="node5" class="node">
<title>handle_union_struct</title>
<polygon fill="none" stroke="black" points="471.89,-847 351.89,-847 351.89,-811 471.89,-811 471.89,-847"/>
<text text-anchor="middle" x="411.89" y="-826.5" font-family="Courier,monospace" font-size="10.00">处理联合体/结构体类型</text>
</g>
<!-- determine_toplevel&#45;&gt;handle_union_struct -->
<g id="edge5" class="edge">
<title>determine_toplevel&#45;&gt;handle_union_struct</title>
<path fill="none" stroke="black" d="M411.89,-883.81C411.89,-875.79 411.89,-866.05 411.89,-857.07"/>
<polygon fill="black" stroke="black" points="415.39,-857.03 411.89,-847.03 408.39,-857.03 415.39,-857.03"/>
</g>
<!-- check_unnamed -->
<g id="node6" class="node">
<title>check_unnamed</title>
<polygon fill="none" stroke="black" points="468.89,-774 354.89,-774 354.89,-738 468.89,-738 468.89,-774"/>
<text text-anchor="middle" x="411.89" y="-753.5" font-family="Courier,monospace" font-size="10.00">检查是否为匿名结构体</text>
</g>
<!-- handle_union_struct&#45;&gt;check_unnamed -->
<g id="edge6" class="edge">
<title>handle_union_struct&#45;&gt;check_unnamed</title>
<path fill="none" stroke="black" d="M411.89,-810.81C411.89,-802.79 411.89,-793.05 411.89,-784.07"/>
<polygon fill="black" stroke="black" points="415.39,-784.03 411.89,-774.03 408.39,-784.03 415.39,-784.03"/>
</g>
<!-- handle_naming -->
<g id="node7" class="node">
<title>handle_naming</title>
<polygon fill="none" stroke="black" points="436.89,-691 338.89,-691 338.89,-655 436.89,-655 436.89,-691"/>
<text text-anchor="middle" x="387.89" y="-670.5" font-family="Courier,monospace" font-size="10.00">生成名称 (name)</text>
</g>
<!-- check_unnamed&#45;&gt;handle_naming -->
<g id="edge7" class="edge">
<title>check_unnamed&#45;&gt;handle_naming</title>
<path fill="none" stroke="black" d="M407.75,-737.88C405.57,-729.18 402.75,-718.48 399.89,-709 399.06,-706.23 398.15,-703.36 397.21,-700.5"/>
<polygon fill="black" stroke="black" points="400.52,-699.36 394.01,-691.01 393.89,-701.6 400.52,-699.36"/>
<text text-anchor="middle" x="416.89" y="-712" font-family="Courier,monospace" font-size="10.00">是匿名</text>
</g>
<!-- check_unnamed&#45;&gt;handle_naming -->
<g id="edge8" class="edge">
<title>check_unnamed&#45;&gt;handle_naming</title>
<path fill="none" stroke="black" d="M381.14,-737.94C375,-733 369.37,-727.01 365.89,-720 362.65,-713.46 363.78,-706.35 366.81,-699.73"/>
<polygon fill="black" stroke="black" points="369.83,-701.49 371.87,-691.09 363.79,-697.95 369.83,-701.49"/>
<text text-anchor="middle" x="380.89" y="-712" font-family="Courier,monospace" font-size="10.00">非匿名</text>
</g>
<!-- check_has_definition -->
<g id="node8" class="node">
<title>check_has_definition</title>
<polygon fill="none" stroke="black" points="469.39,-618 306.39,-618 306.39,-582 469.39,-582 469.39,-618"/>
<text text-anchor="middle" x="387.89" y="-597.5" font-family="Courier,monospace" font-size="10.00">检查是否有定义 (record_def)</text>
</g>
<!-- handle_naming&#45;&gt;check_has_definition -->
<g id="edge9" class="edge">
<title>handle_naming&#45;&gt;check_has_definition</title>
<path fill="none" stroke="black" d="M387.89,-654.81C387.89,-646.79 387.89,-637.05 387.89,-628.07"/>
<polygon fill="black" stroke="black" points="391.39,-628.03 387.89,-618.03 384.39,-628.03 391.39,-628.03"/>
</g>
<!-- process_fields -->
<g id="node9" class="node">
<title>process_fields</title>
<polygon fill="none" stroke="black" points="166.39,-514 91.39,-514 91.39,-478 166.39,-478 166.39,-514"/>
<text text-anchor="middle" x="128.89" y="-493.5" font-family="Courier,monospace" font-size="10.00">处理字段迭代</text>
</g>
<!-- check_has_definition&#45;&gt;process_fields -->
<g id="edge10" class="edge">
<title>check_has_definition&#45;&gt;process_fields</title>
<path fill="none" stroke="black" d="M344.54,-581.93C297.93,-563.57 224.06,-534.48 176.03,-515.56"/>
<polygon fill="black" stroke="black" points="177.07,-512.21 166.49,-511.81 174.51,-518.73 177.07,-512.21"/>
<text text-anchor="middle" x="310.89" y="-556" font-family="Courier,monospace" font-size="10.00">有定义</text>
</g>
<!-- build_var_decl -->
<g id="node14" class="node">
<title>build_var_decl</title>
<polygon fill="none" stroke="black" points="387.39,-182 292.39,-182 292.39,-146 387.39,-146 387.39,-182"/>
<text text-anchor="middle" x="339.89" y="-161.5" font-family="Courier,monospace" font-size="10.00">创建变量声明节点</text>
</g>
<!-- check_has_definition&#45;&gt;build_var_decl -->
<g id="edge11" class="edge">
<title>check_has_definition&#45;&gt;build_var_decl</title>
<path fill="none" stroke="black" d="M390.35,-581.72C393.02,-561.46 396.89,-526.87 396.89,-497 396.89,-497 396.89,-497 396.89,-246 396.89,-224.18 382.89,-204.09 368.77,-189.38"/>
<polygon fill="black" stroke="black" points="371.03,-186.7 361.44,-182.19 366.13,-191.7 371.03,-186.7"/>
<text text-anchor="middle" x="455.89" y="-369" font-family="Courier,monospace" font-size="10.00">无定义（生成不透明类型）</text>
</g>
<!-- check_bitfield -->
<g id="node10" class="node">
<title>check_bitfield</title>
<polygon fill="none" stroke="black" points="171.39,-431 86.39,-431 86.39,-395 171.39,-395 171.39,-431"/>
<text text-anchor="middle" x="128.89" y="-410.5" font-family="Courier,monospace" font-size="10.00">字段是否为位域</text>
</g>
<!-- process_fields&#45;&gt;check_bitfield -->
<g id="edge12" class="edge">
<title>process_fields&#45;&gt;check_bitfield</title>
<path fill="none" stroke="black" d="M123.26,-477.82C122.11,-467.19 121.85,-453.31 122.48,-441.2"/>
<polygon fill="black" stroke="black" points="125.97,-441.39 123.26,-431.15 118.99,-440.85 125.97,-441.39"/>
</g>
<!-- process_fields&#45;&gt;check_bitfield -->
<g id="edge22" class="edge">
<title>process_fields&#45;&gt;check_bitfield</title>
<path fill="none" stroke="black" d="M134.53,-477.82C135.68,-467.19 135.94,-453.31 135.31,-441.2"/>
<polygon fill="black" stroke="black" points="138.79,-440.85 134.53,-431.15 131.81,-441.39 138.79,-440.85"/>
</g>
<!-- build_record_payload -->
<g id="node13" class="node">
<title>build_record_payload</title>
<polygon fill="none" stroke="black" points="367.39,-431 190.39,-431 190.39,-395 367.39,-395 367.39,-431"/>
<text text-anchor="middle" x="278.89" y="-410.5" font-family="Courier,monospace" font-size="10.00">构建记录负载 (record_payload)</text>
</g>
<!-- process_fields&#45;&gt;build_record_payload -->
<g id="edge18" class="edge">
<title>process_fields&#45;&gt;build_record_payload</title>
<path fill="none" stroke="black" d="M160.7,-477.82C183.35,-465.59 213.97,-449.06 238.37,-435.88"/>
<polygon fill="black" stroke="black" points="240.25,-438.85 247.39,-431.01 236.92,-432.69 240.25,-438.85"/>
<text text-anchor="middle" x="251.39" y="-452" font-family="Courier,monospace" font-size="10.00">所有字段处理完成</text>
</g>
<!-- check_flexible_array -->
<g id="node11" class="node">
<title>check_flexible_array</title>
<polygon fill="none" stroke="black" points="169.89,-348 65.89,-348 65.89,-312 169.89,-312 169.89,-348"/>
<text text-anchor="middle" x="117.89" y="-327.5" font-family="Courier,monospace" font-size="10.00">是否为灵活数组字段</text>
</g>
<!-- check_bitfield&#45;&gt;check_flexible_array -->
<g id="edge14" class="edge">
<title>check_bitfield&#45;&gt;check_flexible_array</title>
<path fill="none" stroke="black" d="M126.56,-394.82C125.12,-384.19 123.23,-370.31 121.59,-358.2"/>
<polygon fill="black" stroke="black" points="125.04,-357.59 120.22,-348.15 118.1,-358.53 125.04,-357.59"/>
<text text-anchor="middle" x="138.89" y="-369" font-family="Courier,monospace" font-size="10.00">非位域</text>
</g>
<!-- check_bitfield&#45;&gt;check_flexible_array -->
<g id="edge23" class="edge">
<title>check_bitfield&#45;&gt;check_flexible_array</title>
<path fill="none" stroke="black" d="M125.75,-394.94C124.76,-389.25 123.71,-382.86 122.89,-377 122.04,-370.88 121.25,-364.29 120.56,-358.06"/>
<polygon fill="black" stroke="black" points="124.03,-357.65 119.5,-348.07 117.07,-358.38 124.03,-357.65"/>
</g>
<!-- check_bitfield&#45;&gt;build_var_decl -->
<g id="edge13" class="edge">
<title>check_bitfield&#45;&gt;build_var_decl</title>
<path fill="none" stroke="black" d="M143.58,-394.73C148.23,-389.14 153.35,-382.86 157.89,-377 167.64,-364.42 169.77,-361.04 178.89,-348 198.9,-319.42 193.97,-302.51 222.89,-283 254.55,-261.65 278.48,-290.51 306.89,-265 327.45,-246.55 335.23,-215.05 338.16,-192.33"/>
<polygon fill="black" stroke="black" points="341.66,-192.59 339.22,-182.28 334.69,-191.86 341.66,-192.59"/>
<text text-anchor="middle" x="281.89" y="-286" font-family="Courier,monospace" font-size="10.00">是位域（生成不透明类型）</text>
</g>
<!-- handle_field_type -->
<g id="node12" class="node">
<title>handle_field_type</title>
<polygon fill="none" stroke="black" points="99.39,-265 24.39,-265 24.39,-229 99.39,-229 99.39,-265"/>
<text text-anchor="middle" x="61.89" y="-244.5" font-family="Courier,monospace" font-size="10.00">转换字段类型</text>
</g>
<!-- check_flexible_array&#45;&gt;handle_field_type -->
<g id="edge15" class="edge">
<title>check_flexible_array&#45;&gt;handle_field_type</title>
<path fill="none" stroke="black" d="M88.68,-311.72C82.32,-306.73 76.21,-300.77 71.89,-294 68.32,-288.39 66.01,-281.7 64.52,-275.18"/>
<polygon fill="black" stroke="black" points="67.95,-274.51 62.79,-265.26 61.06,-275.71 67.95,-274.51"/>
<text text-anchor="middle" x="91.89" y="-286" font-family="Courier,monospace" font-size="10.00">普通字段</text>
</g>
<!-- check_flexible_array&#45;&gt;handle_field_type -->
<g id="edge24" class="edge">
<title>check_flexible_array&#45;&gt;handle_field_type</title>
<path fill="none" stroke="black" d="M118.88,-311.73C118.64,-302.6 117.07,-291.54 111.89,-283 109.38,-278.86 106.17,-275.08 102.6,-271.66"/>
<polygon fill="black" stroke="black" points="104.76,-268.91 94.84,-265.17 100.26,-274.27 104.76,-268.91"/>
</g>
<!-- check_flexible_array&#45;&gt;build_var_decl -->
<g id="edge16" class="edge">
<title>check_flexible_array&#45;&gt;build_var_decl</title>
<path fill="none" stroke="black" d="M118.14,-311.88C119.41,-288.2 125.26,-245.6 149.89,-221 184.74,-186.21 240.05,-172.81 282.03,-167.77"/>
<polygon fill="black" stroke="black" points="282.55,-171.23 292.12,-166.68 281.8,-164.27 282.55,-171.23"/>
<text text-anchor="middle" x="228.39" y="-244.5" font-family="Courier,monospace" font-size="10.00">灵活数组（处理失败时生成不透明）</text>
</g>
<!-- handle_field_type&#45;&gt;process_fields -->
<g id="edge17" class="edge">
<title>handle_field_type&#45;&gt;process_fields</title>
<path fill="none" stroke="black" d="M56.11,-265.4C48.65,-290.45 37.78,-337.97 47.89,-377 57.37,-413.58 84.17,-448.34 104.37,-470.53"/>
<polygon fill="black" stroke="black" points="101.81,-472.92 111.2,-477.84 106.93,-468.15 101.81,-472.92"/>
<text text-anchor="middle" x="82.39" y="-369" font-family="Courier,monospace" font-size="10.00">继续下一个字段</text>
</g>
<!-- handle_field_type&#45;&gt;build_var_decl -->
<g id="edge25" class="edge">
<title>handle_field_type&#45;&gt;build_var_decl</title>
<path fill="none" stroke="red" d="M24.23,-231.97C7.16,-223.54 -7.03,-212.12 3.89,-200 22.14,-179.76 190.96,-170.46 282.12,-166.88"/>
<polygon fill="red" stroke="red" points="282.45,-170.38 292.3,-166.5 282.18,-163.38 282.45,-170.38"/>
<text text-anchor="middle" x="62.89" y="-203" font-family="Courier,monospace" font-size="10.00">转换失败时生成不透明类型</text>
</g>
<!-- build_record_payload&#45;&gt;build_var_decl -->
<g id="edge19" class="edge">
<title>build_record_payload&#45;&gt;build_var_decl</title>
<path fill="none" stroke="black" d="M292.26,-394.84C308.42,-372.91 334.71,-333.07 344.89,-294 353.84,-259.69 349.82,-218.52 345.44,-192.07"/>
<polygon fill="black" stroke="black" points="348.85,-191.26 343.64,-182.04 341.96,-192.5 348.85,-191.26"/>
</g>
<!-- add_to_scope -->
<g id="node15" class="node">
<title>add_to_scope</title>
<polygon fill="none" stroke="black" points="470.39,-109 395.39,-109 395.39,-73 470.39,-73 470.39,-109"/>
<text text-anchor="middle" x="432.89" y="-88.5" font-family="Courier,monospace" font-size="10.00">添加到作用域</text>
</g>
<!-- build_var_decl&#45;&gt;add_to_scope -->
<g id="edge20" class="edge">
<title>build_var_decl&#45;&gt;add_to_scope</title>
<path fill="none" stroke="black" d="M362.41,-145.81C374.4,-136.66 389.33,-125.26 402.35,-115.32"/>
<polygon fill="black" stroke="black" points="404.76,-117.88 410.59,-109.03 400.52,-112.32 404.76,-117.88"/>
</g>
<!-- add_to_scope&#45;&gt;end -->
<g id="edge21" class="edge">
<title>add_to_scope&#45;&gt;end</title>
<path fill="none" stroke="black" d="M448.39,-72.81C456.33,-64 466.13,-53.13 474.85,-43.46"/>
<polygon fill="black" stroke="black" points="477.45,-45.8 481.54,-36.03 472.25,-41.11 477.45,-45.8"/>
</g>
</g>
</svg>
