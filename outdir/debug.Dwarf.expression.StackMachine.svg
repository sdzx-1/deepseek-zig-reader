<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: StackMachineFlow Pages: 1 -->
<svg width="1333pt" height="1186pt"
 viewBox="0.00 0.00 1332.50 1186.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1182)">
<title>StackMachineFlow</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1182 1328.5,-1182 1328.5,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_readOperand</title>
<polygon fill="none" stroke="black" points="667,-872 667,-1170 873,-1170 873,-872 667,-872"/>
<text text-anchor="middle" x="770" y="-1154.8" font-family="Times,serif" font-size="14.00">readOperand 处理流程</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_opcode_handling</title>
<polygon fill="none" stroke="black" points="8,-79 8,-156 1103,-156 1103,-79 8,-79"/>
<text text-anchor="middle" x="555.5" y="-140.8" font-family="Times,serif" font-size="14.00">step 方法中的操作码处理</text>
</g>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<path fill="none" stroke="black" d="M371.5,-1139C371.5,-1139 246.5,-1139 246.5,-1139 240.5,-1139 234.5,-1133 234.5,-1127 234.5,-1127 234.5,-1115 234.5,-1115 234.5,-1109 240.5,-1103 246.5,-1103 246.5,-1103 371.5,-1103 371.5,-1103 377.5,-1103 383.5,-1109 383.5,-1115 383.5,-1115 383.5,-1127 383.5,-1127 383.5,-1133 377.5,-1139 371.5,-1139"/>
<text text-anchor="middle" x="309" y="-1117.3" font-family="Times,serif" font-size="14.00">开始 StackMachine</text>
</g>
<!-- init_addr_type -->
<g id="node2" class="node">
<title>init_addr_type</title>
<path fill="none" stroke="black" d="M438,-1066C438,-1066 180,-1066 180,-1066 174,-1066 168,-1060 168,-1054 168,-1054 168,-1040 168,-1040 168,-1034 174,-1028 180,-1028 180,-1028 438,-1028 438,-1028 444,-1028 450,-1034 450,-1040 450,-1040 450,-1054 450,-1054 450,-1060 444,-1066 438,-1066"/>
<text text-anchor="middle" x="309" y="-1050.8" font-family="Times,serif" font-size="14.00">根据 options.addr_size</text>
<text text-anchor="middle" x="309" y="-1035.8" font-family="Times,serif" font-size="14.00">初始化 addr_type 和 addr_type_signed</text>
</g>
<!-- start&#45;&gt;init_addr_type -->
<g id="edge4" class="edge">
<title>start&#45;&gt;init_addr_type</title>
<path fill="none" stroke="black" d="M309,-1102.94C309,-1094.99 309,-1085.31 309,-1076.31"/>
<polygon fill="black" stroke="black" points="312.5,-1076.2 309,-1066.2 305.5,-1076.2 312.5,-1076.2"/>
</g>
<!-- define_struct -->
<g id="node3" class="node">
<title>define_struct</title>
<path fill="none" stroke="black" d="M399.5,-991C399.5,-991 218.5,-991 218.5,-991 212.5,-991 206.5,-985 206.5,-979 206.5,-979 206.5,-965 206.5,-965 206.5,-959 212.5,-953 218.5,-953 218.5,-953 399.5,-953 399.5,-953 405.5,-953 411.5,-959 411.5,-965 411.5,-965 411.5,-979 411.5,-979 411.5,-985 405.5,-991 399.5,-991"/>
<text text-anchor="middle" x="309" y="-975.8" font-family="Times,serif" font-size="14.00">定义返回结构体</text>
<text text-anchor="middle" x="309" y="-960.8" font-family="Times,serif" font-size="14.00">包含 Operand 和 Value 类型</text>
</g>
<!-- init_addr_type&#45;&gt;define_struct -->
<g id="edge5" class="edge">
<title>init_addr_type&#45;&gt;define_struct</title>
<path fill="none" stroke="black" d="M309,-1027.96C309,-1019.88 309,-1010.18 309,-1001.18"/>
<polygon fill="black" stroke="black" points="312.5,-1001.09 309,-991.09 305.5,-1001.09 312.5,-1001.09"/>
</g>
<!-- stack_init -->
<g id="node4" class="node">
<title>stack_init</title>
<path fill="none" stroke="black" d="M579.5,-916C579.5,-916 264.5,-916 264.5,-916 258.5,-916 252.5,-910 252.5,-904 252.5,-904 252.5,-892 252.5,-892 252.5,-886 258.5,-880 264.5,-880 264.5,-880 579.5,-880 579.5,-880 585.5,-880 591.5,-886 591.5,-892 591.5,-892 591.5,-904 591.5,-904 591.5,-910 585.5,-916 579.5,-916"/>
<text text-anchor="middle" x="422" y="-894.3" font-family="Times,serif" font-size="14.00">初始化 stack: std.ArrayListUnmanaged(Value)</text>
</g>
<!-- define_struct&#45;&gt;stack_init -->
<g id="edge6" class="edge">
<title>define_struct&#45;&gt;stack_init</title>
<path fill="none" stroke="black" d="M337.51,-952.83C352.41,-943.34 370.78,-931.64 386.58,-921.57"/>
<polygon fill="black" stroke="black" points="388.5,-924.5 395.05,-916.17 384.74,-918.59 388.5,-924.5"/>
</g>
<!-- run_method -->
<g id="node5" class="node">
<title>run_method</title>
<path fill="none" stroke="black" d="M222,-916C222,-916 172,-916 172,-916 166,-916 160,-910 160,-904 160,-904 160,-892 160,-892 160,-886 166,-880 172,-880 172,-880 222,-880 222,-880 228,-880 234,-886 234,-892 234,-892 234,-904 234,-904 234,-910 228,-916 222,-916"/>
<text text-anchor="middle" x="197" y="-894.3" font-family="Times,serif" font-size="14.00">run 方法</text>
</g>
<!-- define_struct&#45;&gt;run_method -->
<g id="edge7" class="edge">
<title>define_struct&#45;&gt;run_method</title>
<path fill="none" stroke="black" d="M280.74,-952.83C266.11,-943.43 248.11,-931.86 232.55,-921.85"/>
<polygon fill="black" stroke="black" points="234.02,-918.63 223.71,-916.17 230.23,-924.52 234.02,-918.63"/>
</g>
<!-- run_initial_value -->
<g id="node6" class="node">
<title>run_initial_value</title>
<path fill="none" stroke="black" d="M259.5,-843C259.5,-843 134.5,-843 134.5,-843 128.5,-843 122.5,-837 122.5,-831 122.5,-831 122.5,-817 122.5,-817 122.5,-811 128.5,-805 134.5,-805 134.5,-805 259.5,-805 259.5,-805 265.5,-805 271.5,-811 271.5,-817 271.5,-817 271.5,-831 271.5,-831 271.5,-837 265.5,-843 259.5,-843"/>
<text text-anchor="middle" x="197" y="-827.8" font-family="Times,serif" font-size="14.00">如果有 initial_value</text>
<text text-anchor="middle" x="197" y="-812.8" font-family="Times,serif" font-size="14.00">压入堆栈</text>
</g>
<!-- run_method&#45;&gt;run_initial_value -->
<g id="edge8" class="edge">
<title>run_method&#45;&gt;run_initial_value</title>
<path fill="none" stroke="black" d="M197,-879.94C197,-871.99 197,-862.31 197,-853.31"/>
<polygon fill="black" stroke="black" points="200.5,-853.2 197,-843.2 193.5,-853.2 200.5,-853.2"/>
</g>
<!-- stream_init -->
<g id="node7" class="node">
<title>stream_init</title>
<path fill="none" stroke="black" d="M277.5,-768C277.5,-768 116.5,-768 116.5,-768 110.5,-768 104.5,-762 104.5,-756 104.5,-756 104.5,-742 104.5,-742 104.5,-736 110.5,-730 116.5,-730 116.5,-730 277.5,-730 277.5,-730 283.5,-730 289.5,-736 289.5,-742 289.5,-742 289.5,-756 289.5,-756 289.5,-762 283.5,-768 277.5,-768"/>
<text text-anchor="middle" x="197" y="-752.8" font-family="Times,serif" font-size="14.00">创建 FixedBufferStream</text>
<text text-anchor="middle" x="197" y="-737.8" font-family="Times,serif" font-size="14.00">读取表达式字节流</text>
</g>
<!-- run_initial_value&#45;&gt;stream_init -->
<g id="edge9" class="edge">
<title>run_initial_value&#45;&gt;stream_init</title>
<path fill="none" stroke="black" d="M197,-804.96C197,-796.88 197,-787.18 197,-778.18"/>
<polygon fill="black" stroke="black" points="200.5,-778.09 197,-768.09 193.5,-778.09 200.5,-778.09"/>
</g>
<!-- step_loop -->
<g id="node8" class="node">
<title>step_loop</title>
<path fill="none" stroke="black" d="M1122.5,-693C1122.5,-693 1001.5,-693 1001.5,-693 995.5,-693 989.5,-687 989.5,-681 989.5,-681 989.5,-667 989.5,-667 989.5,-661 995.5,-655 1001.5,-655 1001.5,-655 1122.5,-655 1122.5,-655 1128.5,-655 1134.5,-661 1134.5,-667 1134.5,-667 1134.5,-681 1134.5,-681 1134.5,-687 1128.5,-693 1122.5,-693"/>
<text text-anchor="middle" x="1062" y="-677.8" font-family="Times,serif" font-size="14.00">循环调用 step 方法</text>
<text text-anchor="middle" x="1062" y="-662.8" font-family="Times,serif" font-size="14.00">直到表达式处理完毕</text>
</g>
<!-- stream_init&#45;&gt;step_loop -->
<g id="edge10" class="edge">
<title>stream_init&#45;&gt;step_loop</title>
<path fill="none" stroke="black" d="M289.57,-740.19C459.09,-725.88 816.84,-695.69 978.99,-682.01"/>
<polygon fill="black" stroke="black" points="979.71,-685.46 989.38,-681.13 979.12,-678.48 979.71,-685.46"/>
</g>
<!-- return_result -->
<g id="node9" class="node">
<title>return_result</title>
<path fill="none" stroke="black" d="M1221.5,-36C1221.5,-36 1098.5,-36 1098.5,-36 1092.5,-36 1086.5,-30 1086.5,-24 1086.5,-24 1086.5,-12 1086.5,-12 1086.5,-6 1092.5,0 1098.5,0 1098.5,0 1221.5,0 1221.5,0 1227.5,0 1233.5,-6 1233.5,-12 1233.5,-12 1233.5,-24 1233.5,-24 1233.5,-30 1227.5,-36 1221.5,-36"/>
<text text-anchor="middle" x="1160" y="-14.3" font-family="Times,serif" font-size="14.00">返回栈顶结果或 null</text>
</g>
<!-- step_loop&#45;&gt;return_result -->
<g id="edge11" class="edge">
<title>step_loop&#45;&gt;return_result</title>
<path fill="none" stroke="black" d="M1088.26,-654.79C1094.37,-649.59 1100.43,-643.55 1105,-637 1118.52,-617.64 1123,-610.62 1123,-587 1123,-587 1123,-587 1123,-105 1123,-83.67 1132.72,-61.61 1142.2,-45.17"/>
<polygon fill="black" stroke="black" points="1145.46,-46.55 1147.68,-36.19 1139.48,-42.9 1145.46,-46.55"/>
</g>
<!-- step_method -->
<g id="node10" class="node">
<title>step_method</title>
<path fill="none" stroke="black" d="M1048,-604C1048,-604 992,-604 992,-604 986,-604 980,-598 980,-592 980,-592 980,-580 980,-580 980,-574 986,-568 992,-568 992,-568 1048,-568 1048,-568 1054,-568 1060,-574 1060,-580 1060,-580 1060,-592 1060,-592 1060,-598 1054,-604 1048,-604"/>
<text text-anchor="middle" x="1020" y="-582.3" font-family="Times,serif" font-size="14.00">step 方法</text>
</g>
<!-- step_loop&#45;&gt;step_method -->
<g id="edge12" class="edge">
<title>step_loop&#45;&gt;step_method</title>
<path fill="none" stroke="black" d="M1053.09,-654.76C1047.2,-642.7 1039.39,-626.7 1032.83,-613.27"/>
<polygon fill="black" stroke="black" points="1035.86,-611.49 1028.32,-604.04 1029.57,-614.56 1035.86,-611.49"/>
<text text-anchor="middle" x="1072" y="-625.8" font-family="Times,serif" font-size="14.00">每次迭代</text>
</g>
<!-- read_opcode -->
<g id="node11" class="node">
<title>read_opcode</title>
<path fill="none" stroke="black" d="M1066.5,-531C1066.5,-531 937.5,-531 937.5,-531 931.5,-531 925.5,-525 925.5,-519 925.5,-519 925.5,-507 925.5,-507 925.5,-501 931.5,-495 937.5,-495 937.5,-495 1066.5,-495 1066.5,-495 1072.5,-495 1078.5,-501 1078.5,-507 1078.5,-507 1078.5,-519 1078.5,-519 1078.5,-525 1072.5,-531 1066.5,-531"/>
<text text-anchor="middle" x="1002" y="-509.3" font-family="Times,serif" font-size="14.00">读取操作码 (opcode)</text>
</g>
<!-- step_method&#45;&gt;read_opcode -->
<g id="edge13" class="edge">
<title>step_method&#45;&gt;read_opcode</title>
<path fill="none" stroke="black" d="M1015.64,-567.81C1013.59,-559.7 1011.09,-549.84 1008.79,-540.78"/>
<polygon fill="black" stroke="black" points="1012.17,-539.86 1006.32,-531.03 1005.38,-541.58 1012.17,-539.86"/>
</g>
<!-- check_valid_cfa -->
<g id="node12" class="node">
<title>check_valid_cfa</title>
<path fill="none" stroke="black" d="M1083,-458C1083,-458 889,-458 889,-458 883,-458 877,-452 877,-446 877,-446 877,-432 877,-432 877,-426 883,-420 889,-420 889,-420 1083,-420 1083,-420 1089,-420 1095,-426 1095,-432 1095,-432 1095,-446 1095,-446 1095,-452 1089,-458 1083,-458"/>
<text text-anchor="middle" x="986" y="-442.8" font-family="Times,serif" font-size="14.00">检查 CFA 有效性</text>
<text text-anchor="middle" x="986" y="-427.8" font-family="Times,serif" font-size="14.00">(options.call_frame_context)</text>
</g>
<!-- read_opcode&#45;&gt;check_valid_cfa -->
<g id="edge14" class="edge">
<title>read_opcode&#45;&gt;check_valid_cfa</title>
<path fill="none" stroke="black" d="M998.21,-494.94C996.42,-486.9 994.25,-477.1 992.23,-468.02"/>
<polygon fill="black" stroke="black" points="995.63,-467.2 990.04,-458.2 988.8,-468.72 995.63,-467.2"/>
</g>
<!-- read_operand -->
<g id="node13" class="node">
<title>read_operand</title>
<path fill="none" stroke="black" d="M1045.5,-369C1045.5,-369 926.5,-369 926.5,-369 920.5,-369 914.5,-363 914.5,-357 914.5,-357 914.5,-343 914.5,-343 914.5,-337 920.5,-331 926.5,-331 926.5,-331 1045.5,-331 1045.5,-331 1051.5,-331 1057.5,-337 1057.5,-343 1057.5,-343 1057.5,-357 1057.5,-357 1057.5,-363 1051.5,-369 1045.5,-369"/>
<text text-anchor="middle" x="986" y="-353.8" font-family="Times,serif" font-size="14.00">调用 readOperand</text>
<text text-anchor="middle" x="986" y="-338.8" font-family="Times,serif" font-size="14.00">获取操作数</text>
</g>
<!-- check_valid_cfa&#45;&gt;read_operand -->
<g id="edge15" class="edge">
<title>check_valid_cfa&#45;&gt;read_operand</title>
<path fill="none" stroke="black" d="M986,-419.97C986,-408.19 986,-392.56 986,-379.16"/>
<polygon fill="black" stroke="black" points="989.5,-379 986,-369 982.5,-379 989.5,-379"/>
</g>
<!-- handle_opcode -->
<g id="node14" class="node">
<title>handle_opcode</title>
<path fill="none" stroke="black" d="M884,-294C884,-294 776,-294 776,-294 770,-294 764,-288 764,-282 764,-282 764,-268 764,-268 764,-262 770,-256 776,-256 776,-256 884,-256 884,-256 890,-256 896,-262 896,-268 896,-268 896,-282 896,-282 896,-288 890,-294 884,-294"/>
<text text-anchor="middle" x="830" y="-278.8" font-family="Times,serif" font-size="14.00">根据 opcode 类型</text>
<text text-anchor="middle" x="830" y="-263.8" font-family="Times,serif" font-size="14.00">执行对应操作</text>
</g>
<!-- read_operand&#45;&gt;handle_opcode -->
<g id="edge16" class="edge">
<title>read_operand&#45;&gt;handle_opcode</title>
<path fill="none" stroke="black" d="M947.44,-330.96C926.44,-321.13 900.26,-308.88 877.96,-298.44"/>
<polygon fill="black" stroke="black" points="879.2,-295.16 868.66,-294.09 876.23,-301.5 879.2,-295.16"/>
</g>
<!-- cluster_readOperand -->
<g id="node28" class="node">
<title>cluster_readOperand</title>
<path fill="none" stroke="black" d="M1069.5,-293C1069.5,-293 926.5,-293 926.5,-293 920.5,-293 914.5,-287 914.5,-281 914.5,-281 914.5,-269 914.5,-269 914.5,-263 920.5,-257 926.5,-257 926.5,-257 1069.5,-257 1069.5,-257 1075.5,-257 1081.5,-263 1081.5,-269 1081.5,-269 1081.5,-281 1081.5,-281 1081.5,-287 1075.5,-293 1069.5,-293"/>
<text text-anchor="middle" x="998" y="-271.3" font-family="Times,serif" font-size="14.00">cluster_readOperand</text>
</g>
<!-- read_operand&#45;&gt;cluster_readOperand -->
<g id="edge19" class="edge">
<title>read_operand&#45;&gt;cluster_readOperand</title>
<path fill="none" stroke="black" d="M988.97,-330.96C990.34,-322.61 992,-312.52 993.52,-303.28"/>
<polygon fill="black" stroke="black" points="996.98,-303.77 995.15,-293.33 990.07,-302.63 996.98,-303.77"/>
</g>
<!-- update_stack -->
<g id="node15" class="node">
<title>update_stack</title>
<path fill="none" stroke="black" d="M1082,-219C1082,-219 1004,-219 1004,-219 998,-219 992,-213 992,-207 992,-207 992,-195 992,-195 992,-189 998,-183 1004,-183 1004,-183 1082,-183 1082,-183 1088,-183 1094,-189 1094,-195 1094,-195 1094,-207 1094,-207 1094,-213 1088,-219 1082,-219"/>
<text text-anchor="middle" x="1043" y="-197.3" font-family="Times,serif" font-size="14.00">更新堆栈状态</text>
</g>
<!-- handle_opcode&#45;&gt;update_stack -->
<g id="edge17" class="edge">
<title>handle_opcode&#45;&gt;update_stack</title>
<path fill="none" stroke="black" d="M883.47,-255.92C913.74,-245.69 951.67,-232.87 982.96,-222.3"/>
<polygon fill="black" stroke="black" points="984.08,-225.61 992.44,-219.09 981.84,-218.98 984.08,-225.61"/>
</g>
<!-- cluster_opcode_handling -->
<g id="node29" class="node">
<title>cluster_opcode_handling</title>
<path fill="none" stroke="black" d="M683,-219C683,-219 515,-219 515,-219 509,-219 503,-213 503,-207 503,-207 503,-195 503,-195 503,-189 509,-183 515,-183 515,-183 683,-183 683,-183 689,-183 695,-189 695,-195 695,-195 695,-207 695,-207 695,-213 689,-219 683,-219"/>
<text text-anchor="middle" x="599" y="-197.3" font-family="Times,serif" font-size="14.00">cluster_opcode_handling</text>
</g>
<!-- handle_opcode&#45;&gt;cluster_opcode_handling -->
<g id="edge20" class="edge">
<title>handle_opcode&#45;&gt;cluster_opcode_handling</title>
<path fill="none" stroke="black" d="M772.01,-255.92C739.04,-245.65 697.69,-232.76 663.68,-222.16"/>
<polygon fill="black" stroke="black" points="664.42,-218.73 653.84,-219.09 662.34,-225.41 664.42,-218.73"/>
</g>
<!-- check_stream_end -->
<g id="node16" class="node">
<title>check_stream_end</title>
<path fill="none" stroke="black" d="M1312.5,-124C1312.5,-124 1163.5,-124 1163.5,-124 1157.5,-124 1151.5,-118 1151.5,-112 1151.5,-112 1151.5,-100 1151.5,-100 1151.5,-94 1157.5,-88 1163.5,-88 1163.5,-88 1312.5,-88 1312.5,-88 1318.5,-88 1324.5,-94 1324.5,-100 1324.5,-100 1324.5,-112 1324.5,-112 1324.5,-118 1318.5,-124 1312.5,-124"/>
<text text-anchor="middle" x="1238" y="-102.3" font-family="Times,serif" font-size="14.00">检查是否到达字节流末尾</text>
</g>
<!-- update_stack&#45;&gt;check_stream_end -->
<g id="edge18" class="edge">
<title>update_stack&#45;&gt;check_stream_end</title>
<path fill="none" stroke="black" d="M1078.77,-182.94C1110.83,-167.65 1158.01,-145.15 1192.7,-128.6"/>
<polygon fill="black" stroke="black" points="1194.61,-131.57 1202.13,-124.11 1191.6,-125.25 1194.61,-131.57"/>
</g>
<!-- check_stream_end&#45;&gt;step_loop -->
<g id="edge28" class="edge">
<title>check_stream_end&#45;&gt;step_loop</title>
<path fill="none" stroke="black" d="M1225.87,-124.27C1214.43,-142.3 1199,-171.81 1199,-200 1199,-587 1199,-587 1199,-587 1199,-618.17 1173.25,-638.48 1144.08,-651.48"/>
<polygon fill="black" stroke="black" points="1142.41,-648.38 1134.51,-655.45 1145.09,-654.85 1142.41,-648.38"/>
<text text-anchor="middle" x="1228" y="-390.8" font-family="Times,serif" font-size="14.00">继续循环</text>
</g>
<!-- check_stream_end&#45;&gt;return_result -->
<g id="edge29" class="edge">
<title>check_stream_end&#45;&gt;return_result</title>
<path fill="none" stroke="black" d="M1222.22,-87.6C1210.72,-74.92 1195,-57.59 1182.24,-43.52"/>
<polygon fill="black" stroke="black" points="1184.81,-41.14 1175.49,-36.08 1179.62,-45.84 1184.81,-41.14"/>
<text text-anchor="middle" x="1232" y="-57.8" font-family="Times,serif" font-size="14.00">结束循环</text>
</g>
<!-- ro_start -->
<g id="node17" class="node">
<title>ro_start</title>
<path fill="none" stroke="black" d="M829.5,-1139C829.5,-1139 710.5,-1139 710.5,-1139 704.5,-1139 698.5,-1133 698.5,-1127 698.5,-1127 698.5,-1115 698.5,-1115 698.5,-1109 704.5,-1103 710.5,-1103 710.5,-1103 829.5,-1103 829.5,-1103 835.5,-1103 841.5,-1109 841.5,-1115 841.5,-1115 841.5,-1127 841.5,-1127 841.5,-1133 835.5,-1139 829.5,-1139"/>
<text text-anchor="middle" x="770" y="-1117.3" font-family="Times,serif" font-size="14.00">开始 readOperand</text>
</g>
<!-- ro_switch_opcode -->
<g id="node18" class="node">
<title>ro_switch_opcode</title>
<path fill="none" stroke="black" d="M852.5,-1065C852.5,-1065 687.5,-1065 687.5,-1065 681.5,-1065 675.5,-1059 675.5,-1053 675.5,-1053 675.5,-1041 675.5,-1041 675.5,-1035 681.5,-1029 687.5,-1029 687.5,-1029 852.5,-1029 852.5,-1029 858.5,-1029 864.5,-1035 864.5,-1041 864.5,-1041 864.5,-1053 864.5,-1053 864.5,-1059 858.5,-1065 852.5,-1065"/>
<text text-anchor="middle" x="770" y="-1043.3" font-family="Times,serif" font-size="14.00">根据 opcode 选择处理分支</text>
</g>
<!-- ro_start&#45;&gt;ro_switch_opcode -->
<g id="edge1" class="edge">
<title>ro_start&#45;&gt;ro_switch_opcode</title>
<path fill="none" stroke="black" d="M770,-1102.94C770,-1094.81 770,-1084.88 770,-1075.7"/>
<polygon fill="black" stroke="black" points="773.5,-1075.44 770,-1065.44 766.5,-1075.44 773.5,-1075.44"/>
</g>
<!-- ro_read_bytes -->
<g id="node19" class="node">
<title>ro_read_bytes</title>
<path fill="none" stroke="black" d="M837.5,-991C837.5,-991 702.5,-991 702.5,-991 696.5,-991 690.5,-985 690.5,-979 690.5,-979 690.5,-965 690.5,-965 690.5,-959 696.5,-953 702.5,-953 702.5,-953 837.5,-953 837.5,-953 843.5,-953 849.5,-959 849.5,-965 849.5,-965 849.5,-979 849.5,-979 849.5,-985 843.5,-991 837.5,-991"/>
<text text-anchor="middle" x="770" y="-975.8" font-family="Times,serif" font-size="14.00">读取不同格式的操作数</text>
<text text-anchor="middle" x="770" y="-960.8" font-family="Times,serif" font-size="14.00">(LEB128/固定大小)</text>
</g>
<!-- ro_switch_opcode&#45;&gt;ro_read_bytes -->
<g id="edge2" class="edge">
<title>ro_switch_opcode&#45;&gt;ro_read_bytes</title>
<path fill="none" stroke="black" d="M770,-1028.7C770,-1020.49 770,-1010.47 770,-1001.2"/>
<polygon fill="black" stroke="black" points="773.5,-1001.19 770,-991.19 766.5,-1001.19 773.5,-1001.19"/>
</g>
<!-- ro_return -->
<g id="node20" class="node">
<title>ro_return</title>
<path fill="none" stroke="black" d="M837,-916C837,-916 703,-916 703,-916 697,-916 691,-910 691,-904 691,-904 691,-892 691,-892 691,-886 697,-880 703,-880 703,-880 837,-880 837,-880 843,-880 849,-886 849,-892 849,-892 849,-904 849,-904 849,-910 843,-916 837,-916"/>
<text text-anchor="middle" x="770" y="-894.3" font-family="Times,serif" font-size="14.00">返回 Operand 或错误</text>
</g>
<!-- ro_read_bytes&#45;&gt;ro_return -->
<g id="edge3" class="edge">
<title>ro_read_bytes&#45;&gt;ro_return</title>
<path fill="none" stroke="black" d="M770,-952.83C770,-944.89 770,-935.41 770,-926.63"/>
<polygon fill="black" stroke="black" points="773.5,-926.42 770,-916.42 766.5,-926.42 773.5,-926.42"/>
</g>
<!-- op_literals -->
<g id="node21" class="node">
<title>op_literals</title>
<path fill="none" stroke="black" d="M599,-125C599,-125 535,-125 535,-125 529,-125 523,-119 523,-113 523,-113 523,-99 523,-99 523,-93 529,-87 535,-87 535,-87 599,-87 599,-87 605,-87 611,-93 611,-99 611,-99 611,-113 611,-113 611,-119 605,-125 599,-125"/>
<text text-anchor="middle" x="567" y="-109.8" font-family="Times,serif" font-size="14.00">处理字面量</text>
<text text-anchor="middle" x="567" y="-94.8" font-family="Times,serif" font-size="14.00">(压栈操作)</text>
</g>
<!-- op_registers -->
<g id="node22" class="node">
<title>op_registers</title>
<path fill="none" stroke="black" d="M744.5,-125C744.5,-125 641.5,-125 641.5,-125 635.5,-125 629.5,-119 629.5,-113 629.5,-113 629.5,-99 629.5,-99 629.5,-93 635.5,-87 641.5,-87 641.5,-87 744.5,-87 744.5,-87 750.5,-87 756.5,-93 756.5,-99 756.5,-99 756.5,-113 756.5,-113 756.5,-119 750.5,-125 744.5,-125"/>
<text text-anchor="middle" x="693" y="-109.8" font-family="Times,serif" font-size="14.00">处理寄存器值</text>
<text text-anchor="middle" x="693" y="-94.8" font-family="Times,serif" font-size="14.00">(读取寄存器内容)</text>
</g>
<!-- context -->
<g id="node30" class="node">
<title>context</title>
<path fill="none" stroke="black" d="M473,-36C473,-36 427,-36 427,-36 421,-36 415,-30 415,-24 415,-24 415,-12 415,-12 415,-6 421,0 427,0 427,0 473,0 473,0 479,0 485,-6 485,-12 485,-12 485,-24 485,-24 485,-30 479,-36 473,-36"/>
<text text-anchor="middle" x="450" y="-14.3" font-family="Times,serif" font-size="14.00">context</text>
</g>
<!-- op_registers&#45;&gt;context -->
<g id="edge31" class="edge">
<title>op_registers&#45;&gt;context</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M646.96,-86.98C620.96,-76.97 587.79,-64.45 558,-54 537.32,-46.75 514.22,-39.19 494.71,-32.96"/>
<polygon fill="black" stroke="black" points="495.75,-29.62 485.16,-29.93 493.63,-36.29 495.75,-29.62"/>
<text text-anchor="middle" x="698" y="-57.8" font-family="Times,serif" font-size="14.00">依赖 context.thread_context</text>
</g>
<!-- op_stack_ops -->
<g id="node23" class="node">
<title>op_stack_ops</title>
<path fill="none" stroke="black" d="M909.5,-125C909.5,-125 786.5,-125 786.5,-125 780.5,-125 774.5,-119 774.5,-113 774.5,-113 774.5,-99 774.5,-99 774.5,-93 780.5,-87 786.5,-87 786.5,-87 909.5,-87 909.5,-87 915.5,-87 921.5,-93 921.5,-99 921.5,-99 921.5,-113 921.5,-113 921.5,-119 915.5,-125 909.5,-125"/>
<text text-anchor="middle" x="848" y="-109.8" font-family="Times,serif" font-size="14.00">处理堆栈操作</text>
<text text-anchor="middle" x="848" y="-94.8" font-family="Times,serif" font-size="14.00">(dup/drop/swap等)</text>
</g>
<!-- op_arithmetic -->
<g id="node24" class="node">
<title>op_arithmetic</title>
<path fill="none" stroke="black" d="M1082.5,-125C1082.5,-125 951.5,-125 951.5,-125 945.5,-125 939.5,-119 939.5,-113 939.5,-113 939.5,-99 939.5,-99 939.5,-93 945.5,-87 951.5,-87 951.5,-87 1082.5,-87 1082.5,-87 1088.5,-87 1094.5,-93 1094.5,-99 1094.5,-99 1094.5,-113 1094.5,-113 1094.5,-119 1088.5,-125 1082.5,-125"/>
<text text-anchor="middle" x="1017" y="-109.8" font-family="Times,serif" font-size="14.00">算术逻辑运算</text>
<text text-anchor="middle" x="1017" y="-94.8" font-family="Times,serif" font-size="14.00">(add/sub/mul/div等)</text>
</g>
<!-- op_control_flow -->
<g id="node25" class="node">
<title>op_control_flow</title>
<path fill="none" stroke="black" d="M150,-125C150,-125 28,-125 28,-125 22,-125 16,-119 16,-113 16,-113 16,-99 16,-99 16,-93 22,-87 28,-87 28,-87 150,-87 150,-87 156,-87 162,-93 162,-99 162,-99 162,-113 162,-113 162,-119 156,-125 150,-125"/>
<text text-anchor="middle" x="89" y="-109.8" font-family="Times,serif" font-size="14.00">控制流操作</text>
<text text-anchor="middle" x="89" y="-94.8" font-family="Times,serif" font-size="14.00">(bra/skip/条件跳转)</text>
</g>
<!-- op_control_flow&#45;&gt;stream_init -->
<g id="edge30" class="edge">
<title>op_control_flow&#45;&gt;stream_init</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M127.22,-125.15C153.99,-140.81 185,-166.24 185,-200 185,-675 185,-675 185,-675 185,-689.9 187.46,-706.28 190.16,-719.75"/>
<polygon fill="black" stroke="black" points="186.8,-720.79 192.33,-729.84 193.65,-719.32 186.8,-720.79"/>
<text text-anchor="middle" x="241" y="-435.3" font-family="Times,serif" font-size="14.00">修改 stream.pos</text>
</g>
<!-- op_type_conv -->
<g id="node26" class="node">
<title>op_type_conv</title>
<path fill="none" stroke="black" d="M333.5,-125C333.5,-125 192.5,-125 192.5,-125 186.5,-125 180.5,-119 180.5,-113 180.5,-113 180.5,-99 180.5,-99 180.5,-93 186.5,-87 192.5,-87 192.5,-87 333.5,-87 333.5,-87 339.5,-87 345.5,-93 345.5,-99 345.5,-99 345.5,-113 345.5,-113 345.5,-119 339.5,-125 333.5,-125"/>
<text text-anchor="middle" x="263" y="-109.8" font-family="Times,serif" font-size="14.00">类型转换操作</text>
<text text-anchor="middle" x="263" y="-94.8" font-family="Times,serif" font-size="14.00">(convert/reinterpret)</text>
</g>
<!-- op_type_conv&#45;&gt;context -->
<g id="edge32" class="edge">
<title>op_type_conv&#45;&gt;context</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M302.2,-86.97C332.39,-73.09 374.13,-53.89 405.55,-39.44"/>
<polygon fill="black" stroke="black" points="407.33,-42.48 414.95,-35.12 404.4,-36.12 407.33,-42.48"/>
<text text-anchor="middle" x="463.5" y="-57.8" font-family="Times,serif" font-size="14.00">依赖 context.compile_unit</text>
</g>
<!-- op_special -->
<g id="node27" class="node">
<title>op_special</title>
<path fill="none" stroke="black" d="M492.5,-125C492.5,-125 375.5,-125 375.5,-125 369.5,-125 363.5,-119 363.5,-113 363.5,-113 363.5,-99 363.5,-99 363.5,-93 369.5,-87 375.5,-87 375.5,-87 492.5,-87 492.5,-87 498.5,-87 504.5,-93 504.5,-99 504.5,-99 504.5,-113 504.5,-113 504.5,-119 498.5,-125 492.5,-125"/>
<text text-anchor="middle" x="434" y="-109.8" font-family="Times,serif" font-size="14.00">特殊操作</text>
<text text-anchor="middle" x="434" y="-94.8" font-family="Times,serif" font-size="14.00">(nop/entry_value)</text>
</g>
<!-- cluster_opcode_handling&#45;&gt;op_literals -->
<g id="edge21" class="edge">
<title>cluster_opcode_handling&#45;&gt;op_literals</title>
<path fill="none" stroke="black" d="M593.13,-182.94C588.51,-169.52 581.98,-150.54 576.6,-134.91"/>
<polygon fill="black" stroke="black" points="579.83,-133.54 573.27,-125.22 573.21,-135.82 579.83,-133.54"/>
</g>
<!-- cluster_opcode_handling&#45;&gt;op_registers -->
<g id="edge22" class="edge">
<title>cluster_opcode_handling&#45;&gt;op_registers</title>
<path fill="none" stroke="black" d="M616.24,-182.94C630.58,-168.75 651.2,-148.35 667.46,-132.27"/>
<polygon fill="black" stroke="black" points="669.94,-134.74 674.58,-125.22 665.01,-129.77 669.94,-134.74"/>
</g>
<!-- cluster_opcode_handling&#45;&gt;op_stack_ops -->
<g id="edge23" class="edge">
<title>cluster_opcode_handling&#45;&gt;op_stack_ops</title>
<path fill="none" stroke="black" d="M682.07,-183C709.35,-176.14 739.47,-167.16 766,-156 782.33,-149.13 799.31,-139.46 813.56,-130.53"/>
<polygon fill="black" stroke="black" points="815.51,-133.43 822.04,-125.09 811.73,-127.54 815.51,-133.43"/>
</g>
<!-- cluster_opcode_handling&#45;&gt;op_arithmetic -->
<g id="edge24" class="edge">
<title>cluster_opcode_handling&#45;&gt;op_arithmetic</title>
<path fill="none" stroke="black" d="M695.3,-197.02C762.78,-192.59 854.27,-181.84 931,-156 949.11,-149.9 967.71,-139.86 982.96,-130.45"/>
<polygon fill="black" stroke="black" points="984.95,-133.33 991.52,-125.01 981.2,-127.42 984.95,-133.33"/>
</g>
<!-- cluster_opcode_handling&#45;&gt;op_control_flow -->
<g id="edge25" class="edge">
<title>cluster_opcode_handling&#45;&gt;op_control_flow</title>
<path fill="none" stroke="black" d="M502.92,-194.89C396.28,-188.37 231.37,-175.54 172,-156 154.36,-150.19 136.42,-140.21 121.75,-130.77"/>
<polygon fill="black" stroke="black" points="123.34,-127.62 113.07,-125 119.46,-133.45 123.34,-127.62"/>
</g>
<!-- cluster_opcode_handling&#45;&gt;op_type_conv -->
<g id="edge26" class="edge">
<title>cluster_opcode_handling&#45;&gt;op_type_conv</title>
<path fill="none" stroke="black" d="M502.81,-189.68C457.17,-183.02 402.38,-172.43 355,-156 336.1,-149.44 316.37,-139.42 300.05,-130.13"/>
<polygon fill="black" stroke="black" points="301.77,-127.08 291.36,-125.08 298.25,-133.13 301.77,-127.08"/>
</g>
<!-- cluster_opcode_handling&#45;&gt;op_special -->
<g id="edge27" class="edge">
<title>cluster_opcode_handling&#45;&gt;op_special</title>
<path fill="none" stroke="black" d="M564.78,-183C549.16,-175.05 530.5,-165.31 514,-156 499.8,-147.99 484.48,-138.76 471.08,-130.48"/>
<polygon fill="black" stroke="black" points="472.93,-127.5 462.59,-125.2 469.23,-133.45 472.93,-127.5"/>
</g>
</g>
</svg>
