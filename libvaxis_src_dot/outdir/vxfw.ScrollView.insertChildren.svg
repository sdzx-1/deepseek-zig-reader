<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: Flowchart Pages: 1 -->
<svg width="623pt" height="993pt"
 viewBox="0.00 0.00 623.23 993.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 989)">
<title>Flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-989 619.23,-989 619.23,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<path fill="none" stroke="black" d="M485.82,-985C485.82,-985 378.82,-985 378.82,-985 372.82,-985 366.82,-979 366.82,-973 366.82,-973 366.82,-961 366.82,-961 366.82,-955 372.82,-949 378.82,-949 378.82,-949 485.82,-949 485.82,-949 491.82,-949 497.82,-955 497.82,-961 497.82,-961 497.82,-973 497.82,-973 497.82,-979 491.82,-985 485.82,-985"/>
<text text-anchor="middle" x="432.32" y="-963.3" font-family="Arial" font-size="14.00">开始 insertChildren</text>
</g>
<!-- assert -->
<g id="node2" class="node">
<title>assert</title>
<path fill="none" stroke="black" d="M497.82,-912C497.82,-912 366.82,-912 366.82,-912 360.82,-912 354.82,-906 354.82,-900 354.82,-900 354.82,-888 354.82,-888 354.82,-882 360.82,-876 366.82,-876 366.82,-876 497.82,-876 497.82,-876 503.82,-876 509.82,-882 509.82,-888 509.82,-888 509.82,-900 509.82,-900 509.82,-906 503.82,-912 497.82,-912"/>
<text text-anchor="middle" x="432.32" y="-890.3" font-family="Arial" font-size="14.00">断言: self.scroll.top &gt; 0</text>
</g>
<!-- start&#45;&gt;assert -->
<g id="edge1" class="edge">
<title>start&#45;&gt;assert</title>
<path fill="none" stroke="black" d="M432.32,-948.81C432.32,-940.79 432.32,-931.05 432.32,-922.07"/>
<polygon fill="black" stroke="black" points="435.82,-922.03 432.32,-912.03 428.82,-922.03 435.82,-922.03"/>
</g>
<!-- init -->
<g id="node3" class="node">
<title>init</title>
<path fill="none" stroke="black" d="M495.82,-839C495.82,-839 368.82,-839 368.82,-839 362.82,-839 356.82,-833 356.82,-827 356.82,-827 356.82,-813 356.82,-813 356.82,-807 362.82,-801 368.82,-801 368.82,-801 495.82,-801 495.82,-801 501.82,-801 507.82,-807 507.82,-813 507.82,-813 507.82,-827 507.82,-827 507.82,-833 501.82,-839 495.82,-839"/>
<text text-anchor="middle" x="432.32" y="-823.8" font-family="Arial" font-size="14.00">self.scroll.top &#45;= 1</text>
<text text-anchor="middle" x="432.32" y="-808.8" font-family="Arial" font-size="14.00">upheight = add_height</text>
</g>
<!-- assert&#45;&gt;init -->
<g id="edge2" class="edge">
<title>assert&#45;&gt;init</title>
<path fill="none" stroke="black" d="M432.32,-875.94C432.32,-867.99 432.32,-858.31 432.32,-849.31"/>
<polygon fill="black" stroke="black" points="435.82,-849.2 432.32,-839.2 428.82,-849.2 435.82,-849.2"/>
</g>
<!-- loop_cond -->
<g id="node4" class="node">
<title>loop_cond</title>
<path fill="none" stroke="black" d="M420.38,-762.82C420.38,-762.82 261.44,-747.18 261.44,-747.18 255.47,-746.59 255.47,-745.41 261.44,-744.82 261.44,-744.82 420.38,-729.18 420.38,-729.18 426.35,-728.59 438.29,-728.59 444.26,-729.18 444.26,-729.18 603.2,-744.82 603.2,-744.82 609.17,-745.41 609.17,-746.59 603.2,-747.18 603.2,-747.18 444.26,-762.82 444.26,-762.82 438.29,-763.41 426.35,-763.41 420.38,-762.82"/>
<text text-anchor="middle" x="432.32" y="-742.3" font-family="Arial" font-size="14.00">循环条件: self.scroll.top &gt;= 0?</text>
</g>
<!-- init&#45;&gt;loop_cond -->
<g id="edge3" class="edge">
<title>init&#45;&gt;loop_cond</title>
<path fill="none" stroke="black" d="M432.32,-800.83C432.32,-792.89 432.32,-783.41 432.32,-774.63"/>
<polygon fill="black" stroke="black" points="435.82,-774.42 432.32,-764.42 428.82,-774.42 435.82,-774.42"/>
</g>
<!-- get_child -->
<g id="node5" class="node">
<title>get_child</title>
<path fill="none" stroke="black" d="M176.82,-677C176.82,-677 19.82,-677 19.82,-677 13.82,-677 7.82,-671 7.82,-665 7.82,-665 7.82,-651 7.82,-651 7.82,-645 13.82,-639 19.82,-639 19.82,-639 176.82,-639 176.82,-639 182.82,-639 188.82,-645 188.82,-651 188.82,-651 188.82,-665 188.82,-665 188.82,-671 182.82,-677 176.82,-677"/>
<text text-anchor="middle" x="98.32" y="-661.8" font-family="Arial" font-size="14.00">获取子元素</text>
<text text-anchor="middle" x="98.32" y="-646.8" font-family="Arial" font-size="14.00">child = builder.itemAtIdx(...)</text>
</g>
<!-- loop_cond&#45;&gt;get_child -->
<g id="edge4" class="edge">
<title>loop_cond&#45;&gt;get_child</title>
<path fill="none" stroke="black" d="M384.47,-732.68C330.68,-718.83 242.48,-696.12 178.2,-679.57"/>
<polygon fill="black" stroke="black" points="179.06,-676.17 168.5,-677.07 177.31,-682.95 179.06,-676.17"/>
<text text-anchor="middle" x="302.82" y="-698.8" font-family="Arial" font-size="14.00">是</text>
</g>
<!-- set_offset -->
<g id="node13" class="node">
<title>set_offset</title>
<path fill="none" stroke="black" d="M422.82,-676C422.82,-676 219.82,-676 219.82,-676 213.82,-676 207.82,-670 207.82,-664 207.82,-664 207.82,-652 207.82,-652 207.82,-646 213.82,-640 219.82,-640 219.82,-640 422.82,-640 422.82,-640 428.82,-640 434.82,-646 434.82,-652 434.82,-652 434.82,-664 434.82,-664 434.82,-670 428.82,-676 422.82,-676"/>
<text text-anchor="middle" x="321.32" y="-654.3" font-family="Arial" font-size="14.00">self.scroll.vertical_offset = upheight</text>
</g>
<!-- loop_cond&#45;&gt;set_offset -->
<g id="edge5" class="edge">
<title>loop_cond&#45;&gt;set_offset</title>
<path fill="none" stroke="black" d="M412.73,-729.82C395.74,-716.66 370.88,-697.4 351.37,-682.28"/>
<polygon fill="black" stroke="black" points="353.43,-679.45 343.38,-676.09 349.14,-684.98 353.43,-679.45"/>
<text text-anchor="middle" x="393.82" y="-698.8" font-family="Arial" font-size="14.00">否</text>
</g>
<!-- check_child -->
<g id="node6" class="node">
<title>check_child</title>
<path fill="none" stroke="black" d="M75.57,-579.57C75.57,-579.57 11.93,-566.43 11.93,-566.43 6.06,-565.21 6.06,-562.79 11.93,-561.57 11.93,-561.57 75.57,-548.43 75.57,-548.43 81.44,-547.21 93.2,-547.21 99.07,-548.43 99.07,-548.43 162.71,-561.57 162.71,-561.57 168.58,-562.79 168.58,-565.21 162.71,-566.43 162.71,-566.43 99.07,-579.57 99.07,-579.57 93.2,-580.79 81.44,-580.79 75.57,-579.57"/>
<text text-anchor="middle" x="87.32" y="-560.3" font-family="Arial" font-size="14.00">子元素存在?</text>
</g>
<!-- get_child&#45;&gt;check_child -->
<g id="edge6" class="edge">
<title>get_child&#45;&gt;check_child</title>
<path fill="none" stroke="black" d="M96.15,-638.82C94.54,-625.42 92.34,-606.98 90.53,-591.88"/>
<polygon fill="black" stroke="black" points="93.97,-591.11 89.3,-581.59 87.02,-591.94 93.97,-591.11"/>
</g>
<!-- setup_constraints -->
<g id="node7" class="node">
<title>setup_constraints</title>
<path fill="none" stroke="black" d="M169.32,-475C169.32,-475 77.32,-475 77.32,-475 71.32,-475 65.32,-469 65.32,-463 65.32,-463 65.32,-449 65.32,-449 65.32,-443 71.32,-437 77.32,-437 77.32,-437 169.32,-437 169.32,-437 175.32,-437 181.32,-443 181.32,-449 181.32,-449 181.32,-463 181.32,-463 181.32,-469 175.32,-475 169.32,-475"/>
<text text-anchor="middle" x="123.32" y="-459.8" font-family="Arial" font-size="14.00">设置子元素约束</text>
<text text-anchor="middle" x="123.32" y="-444.8" font-family="Arial" font-size="14.00">child_ctx = ...</text>
</g>
<!-- check_child&#45;&gt;setup_constraints -->
<g id="edge7" class="edge">
<title>check_child&#45;&gt;setup_constraints</title>
<path fill="none" stroke="black" d="M92.79,-546.9C98.38,-530.43 107.18,-504.51 113.9,-484.73"/>
<polygon fill="black" stroke="black" points="117.3,-485.62 117.2,-475.03 110.67,-483.37 117.3,-485.62"/>
<text text-anchor="middle" x="125.82" y="-496.8" font-family="Arial" font-size="14.00">存在</text>
</g>
<!-- adjust_top -->
<g id="node12" class="node">
<title>adjust_top</title>
<path fill="none" stroke="black" d="M418.82,-36C418.82,-36 319.82,-36 319.82,-36 313.82,-36 307.82,-30 307.82,-24 307.82,-24 307.82,-12 307.82,-12 307.82,-6 313.82,0 319.82,0 319.82,0 418.82,0 418.82,0 424.82,0 430.82,-6 430.82,-12 430.82,-12 430.82,-24 430.82,-24 430.82,-30 424.82,-36 418.82,-36"/>
<text text-anchor="middle" x="369.32" y="-14.3" font-family="Arial" font-size="14.00">self.scroll.top &#45;= 1</text>
</g>
<!-- check_child&#45;&gt;adjust_top -->
<g id="edge8" class="edge">
<title>check_child&#45;&gt;adjust_top</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M75.22,-548.24C60.42,-528.65 37.32,-492.4 37.32,-457 37.32,-457 37.32,-457 37.32,-124 37.32,-69.85 199.93,-40.06 297.54,-27.06"/>
<polygon fill="black" stroke="black" points="298.19,-30.51 307.65,-25.75 297.28,-23.57 298.19,-30.51"/>
<text text-anchor="middle" x="58.82" y="-289.3" font-family="Arial" font-size="14.00">不存在</text>
</g>
<!-- draw_child -->
<g id="node8" class="node">
<title>draw_child</title>
<path fill="none" stroke="black" d="M223.32,-386C223.32,-386 111.32,-386 111.32,-386 105.32,-386 99.32,-380 99.32,-374 99.32,-374 99.32,-360 99.32,-360 99.32,-354 105.32,-348 111.32,-348 111.32,-348 223.32,-348 223.32,-348 229.32,-348 235.32,-354 235.32,-360 235.32,-360 235.32,-374 235.32,-374 235.32,-380 229.32,-386 223.32,-386"/>
<text text-anchor="middle" x="167.32" y="-370.8" font-family="Arial" font-size="14.00">绘制子表面</text>
<text text-anchor="middle" x="167.32" y="-355.8" font-family="Arial" font-size="14.00">surf = child.draw(...)</text>
</g>
<!-- setup_constraints&#45;&gt;draw_child -->
<g id="edge10" class="edge">
<title>setup_constraints&#45;&gt;draw_child</title>
<path fill="none" stroke="black" d="M132.44,-436.97C138.57,-424.84 146.77,-408.63 153.68,-394.97"/>
<polygon fill="black" stroke="black" points="156.82,-396.51 158.21,-386 150.58,-393.35 156.82,-396.51"/>
</g>
<!-- update_upheight -->
<g id="node9" class="node">
<title>update_upheight</title>
<path fill="none" stroke="black" d="M305.82,-311C305.82,-311 150.82,-311 150.82,-311 144.82,-311 138.82,-305 138.82,-299 138.82,-299 138.82,-287 138.82,-287 138.82,-281 144.82,-275 150.82,-275 150.82,-275 305.82,-275 305.82,-275 311.82,-275 317.82,-281 317.82,-287 317.82,-287 317.82,-299 317.82,-299 317.82,-305 311.82,-311 305.82,-311"/>
<text text-anchor="middle" x="228.32" y="-289.3" font-family="Arial" font-size="14.00">upheight &#45;= surf.size.height</text>
</g>
<!-- draw_child&#45;&gt;update_upheight -->
<g id="edge11" class="edge">
<title>draw_child&#45;&gt;update_upheight</title>
<path fill="none" stroke="black" d="M182.71,-347.83C190.03,-339.2 198.9,-328.73 206.86,-319.33"/>
<polygon fill="black" stroke="black" points="209.77,-321.31 213.56,-311.42 204.43,-316.79 209.77,-321.31"/>
</g>
<!-- insert_child -->
<g id="node10" class="node">
<title>insert_child</title>
<path fill="none" stroke="black" d="M382.82,-238C382.82,-238 247.82,-238 247.82,-238 241.82,-238 235.82,-232 235.82,-226 235.82,-226 235.82,-212 235.82,-212 235.82,-206 241.82,-200 247.82,-200 247.82,-200 382.82,-200 382.82,-200 388.82,-200 394.82,-206 394.82,-212 394.82,-212 394.82,-226 394.82,-226 394.82,-232 388.82,-238 382.82,-238"/>
<text text-anchor="middle" x="315.32" y="-222.8" font-family="Arial" font-size="14.00">插入子元素到列表开头</text>
<text text-anchor="middle" x="315.32" y="-207.8" font-family="Arial" font-size="14.00">child_list.insert(0, ...)</text>
</g>
<!-- update_upheight&#45;&gt;insert_child -->
<g id="edge12" class="edge">
<title>update_upheight&#45;&gt;insert_child</title>
<path fill="none" stroke="black" d="M248.94,-274.94C259.8,-265.95 273.32,-254.76 285.32,-244.83"/>
<polygon fill="black" stroke="black" points="287.86,-247.27 293.33,-238.2 283.39,-241.88 287.86,-247.27"/>
</g>
<!-- check_break -->
<g id="node11" class="node">
<title>check_break</title>
<path fill="none" stroke="black" d="M358.16,-158.58C358.16,-158.58 284.48,-129.42 284.48,-129.42 278.9,-127.21 278.9,-122.79 284.48,-120.58 284.48,-120.58 358.16,-91.42 358.16,-91.42 363.74,-89.21 374.9,-89.21 380.48,-91.42 380.48,-91.42 454.16,-120.58 454.16,-120.58 459.74,-122.79 459.74,-127.21 454.16,-129.42 454.16,-129.42 380.48,-158.58 380.48,-158.58 374.9,-160.79 363.74,-160.79 358.16,-158.58"/>
<text text-anchor="middle" x="369.32" y="-128.8" font-family="Arial" font-size="14.00">upheight &lt;=0</text>
<text text-anchor="middle" x="369.32" y="-113.8" font-family="Arial" font-size="14.00">或 top ==0?</text>
</g>
<!-- insert_child&#45;&gt;check_break -->
<g id="edge13" class="edge">
<title>insert_child&#45;&gt;check_break</title>
<path fill="none" stroke="black" d="M325.99,-199.82C331.88,-189.79 339.42,-176.94 346.56,-164.78"/>
<polygon fill="black" stroke="black" points="349.61,-166.49 351.66,-156.09 343.58,-162.94 349.61,-166.49"/>
</g>
<!-- check_break&#45;&gt;loop_cond -->
<g id="edge15" class="edge">
<title>check_break&#45;&gt;loop_cond</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M412.15,-146.2C438.13,-161.74 466.32,-185.97 466.32,-218 466.32,-659 466.32,-659 466.32,-659 466.32,-680.61 456.92,-703.27 448.01,-719.9"/>
<polygon fill="black" stroke="black" points="444.77,-718.51 442.89,-728.94 450.86,-721.96 444.77,-718.51"/>
<text text-anchor="middle" x="473.82" y="-407.8" font-family="Arial" font-size="14.00">是</text>
</g>
<!-- check_break&#45;&gt;adjust_top -->
<g id="edge14" class="edge">
<title>check_break&#45;&gt;adjust_top</title>
<path fill="none" stroke="black" d="M369.32,-86.98C369.32,-73.56 369.32,-58.65 369.32,-46.22"/>
<polygon fill="black" stroke="black" points="372.82,-46.04 369.32,-36.04 365.82,-46.04 372.82,-46.04"/>
<text text-anchor="middle" x="376.82" y="-57.8" font-family="Arial" font-size="14.00">否</text>
</g>
<!-- adjust_top&#45;&gt;loop_cond -->
<g id="edge9" class="edge">
<title>adjust_top&#45;&gt;loop_cond</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M421.9,-36.16C459.81,-52.21 504.32,-80.35 504.32,-124 504.32,-659 504.32,-659 504.32,-659 504.32,-685.75 483.59,-708.56 464.37,-723.95"/>
<polygon fill="black" stroke="black" points="462.14,-721.24 456.29,-730.08 466.38,-726.82 462.14,-721.24"/>
</g>
<!-- check_overflow -->
<g id="node14" class="node">
<title>check_overflow</title>
<path fill="none" stroke="black" d="M303.85,-598.46C303.85,-598.46 203.79,-567.54 203.79,-567.54 198.05,-565.77 198.05,-562.23 203.79,-560.46 203.79,-560.46 303.85,-529.54 303.85,-529.54 309.59,-527.77 321.05,-527.77 326.79,-529.54 326.79,-529.54 426.85,-560.46 426.85,-560.46 432.59,-562.23 432.59,-565.77 426.85,-567.54 426.85,-567.54 326.79,-598.46 326.79,-598.46 321.05,-600.23 309.59,-600.23 303.85,-598.46"/>
<text text-anchor="middle" x="315.32" y="-567.8" font-family="Arial" font-size="14.00">self.scroll.top ==0</text>
<text text-anchor="middle" x="315.32" y="-552.8" font-family="Arial" font-size="14.00">且 upheight&gt;0?</text>
</g>
<!-- set_offset&#45;&gt;check_overflow -->
<g id="edge16" class="edge">
<title>set_offset&#45;&gt;check_overflow</title>
<path fill="none" stroke="black" d="M320.19,-639.7C319.66,-631.58 319,-621.47 318.34,-611.34"/>
<polygon fill="black" stroke="black" points="321.83,-611.03 317.69,-601.28 314.84,-611.48 321.83,-611.03"/>
</g>
<!-- reset_origins -->
<g id="node15" class="node">
<title>reset_origins</title>
<path fill="none" stroke="black" d="M375.32,-475C375.32,-475 211.32,-475 211.32,-475 205.32,-475 199.32,-469 199.32,-463 199.32,-463 199.32,-449 199.32,-449 199.32,-443 205.32,-437 211.32,-437 211.32,-437 375.32,-437 375.32,-437 381.32,-437 387.32,-443 387.32,-449 387.32,-449 387.32,-463 387.32,-463 387.32,-469 381.32,-475 375.32,-475"/>
<text text-anchor="middle" x="293.32" y="-459.8" font-family="Arial" font-size="14.00">重置原点</text>
<text text-anchor="middle" x="293.32" y="-444.8" font-family="Arial" font-size="14.00">循环调整所有子元素行位置</text>
</g>
<!-- check_overflow&#45;&gt;reset_origins -->
<g id="edge17" class="edge">
<title>check_overflow&#45;&gt;reset_origins</title>
<path fill="none" stroke="black" d="M308.06,-528C305.15,-514.01 301.85,-498.12 299.12,-484.93"/>
<polygon fill="black" stroke="black" points="302.52,-484.09 297.06,-475.01 295.66,-485.51 302.52,-484.09"/>
<text text-anchor="middle" x="311.82" y="-496.8" font-family="Arial" font-size="14.00">是</text>
</g>
<!-- end -->
<g id="node16" class="node">
<title>end</title>
<path fill="none" stroke="black" d="M393.32,-385C393.32,-385 363.32,-385 363.32,-385 357.32,-385 351.32,-379 351.32,-373 351.32,-373 351.32,-361 351.32,-361 351.32,-355 357.32,-349 363.32,-349 363.32,-349 393.32,-349 393.32,-349 399.32,-349 405.32,-355 405.32,-361 405.32,-361 405.32,-373 405.32,-373 405.32,-379 399.32,-385 393.32,-385"/>
<text text-anchor="middle" x="378.32" y="-363.3" font-family="Arial" font-size="14.00">结束</text>
</g>
<!-- check_overflow&#45;&gt;end -->
<g id="edge18" class="edge">
<title>check_overflow&#45;&gt;end</title>
<path fill="none" stroke="black" d="M349.83,-536.45C367.35,-520.73 386.89,-499.18 396.32,-475 406.53,-448.82 398.73,-416.83 390.45,-394.68"/>
<polygon fill="black" stroke="black" points="393.64,-393.23 386.67,-385.25 387.14,-395.84 393.64,-393.23"/>
<text text-anchor="middle" x="407.82" y="-452.3" font-family="Arial" font-size="14.00">否</text>
</g>
<!-- reset_origins&#45;&gt;end -->
<g id="edge19" class="edge">
<title>reset_origins&#45;&gt;end</title>
<path fill="none" stroke="black" d="M310.93,-436.97C323.49,-424.12 340.52,-406.69 354.31,-392.57"/>
<polygon fill="black" stroke="black" points="357.11,-394.71 361.6,-385.12 352.11,-389.82 357.11,-394.71"/>
</g>
</g>
</svg>
