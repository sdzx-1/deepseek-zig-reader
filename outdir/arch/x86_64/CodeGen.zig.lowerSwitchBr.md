flowchart TD
    A[开始] --> B[初始化和准备]
    B --> C{是否生成跳转表?}
    C -->|是| D[计算min/max和prong数量]
    D --> E{prong数量是否在范围?}
    E -->|否| F[退出跳转表生成]
    E -->|是| G[生成跳转表]
    G --> H[调整条件值]
    H --> I[生成else分支跳转]
    I --> J[生成跳转指令]
    J --> K[填充MIR表]
    K --> L[遍历case项和范围]
    L --> M[填充跳转表项]
    M --> N[处理case死亡操作]
    N --> O[生成case代码块]
    O --> P[恢复状态]
    P --> Q{是否还有case?}
    Q -->|是| L
    Q -->|否| R[处理else_body]
    R --> S[结束]

    C -->|否| T[逐个处理case]
    T --> U[遍历case]
    U --> V[生成条件判断]
    V --> W[处理item和range]
    W --> X[生成跳转指令]
    X --> Y[处理case死亡操作]
    Y --> Z[生成case代码块]
    Z --> AA[恢复状态]
    AA --> AB{是否还有case?}
    AB -->|是| U
    AB -->|否| AC[处理else_body]
    AC --> S
