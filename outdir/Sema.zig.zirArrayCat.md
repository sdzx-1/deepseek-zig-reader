flowchart TD
    A[开始] --> B[初始化和追踪]
    B --> C[解析指令数据, 获取 lhs 和 rhs]
    C --> D{是否为元组?}
    D --> |是| E[调用 analyzeTupleCat]
    D --> |否| F[获取数组信息]
    F --> G{可索引类型?}
    G --> |否| H[报错并返回]
    G --> |是| I[解析统一元素类型]
    I --> J[处理哨兵值]
    J --> K[计算总长度]
    K --> L{长度溢出?}
    L --> |是| M[报错并返回]
    L --> |否| N[构建结果类型]
    N --> O[检查指针地址空间]
    O --> P{是否为编译时已知值?}
    P --> |是| Q[生成常量数组]
    P --> |否| R[运行时处理]
    R --> S[分配内存]
    S --> T[复制 lhs 元素]
    T --> U[复制 rhs 元素]
    U --> V[处理哨兵值存储]
    V --> W[返回结果指针]
    Q --> X[返回常量结果]
    E --> Y[结束]
    H --> Y
    M --> Y
    X --> Y
    W --> Y
