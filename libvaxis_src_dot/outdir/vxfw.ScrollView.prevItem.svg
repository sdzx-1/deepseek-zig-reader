<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: prevItemFlowchart Pages: 1 -->
<svg width="791pt" height="876pt"
 viewBox="0.00 0.00 790.60 876.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 872)">
<title>prevItemFlowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-872 786.6,-872 786.6,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<path fill="none" stroke="black" d="M174.6,-868C174.6,-868 84.6,-868 84.6,-868 78.6,-868 72.6,-862 72.6,-856 72.6,-856 72.6,-844 72.6,-844 72.6,-838 78.6,-832 84.6,-832 84.6,-832 174.6,-832 174.6,-832 180.6,-832 186.6,-838 186.6,-844 186.6,-844 186.6,-856 186.6,-856 186.6,-862 180.6,-868 174.6,-868"/>
<text text-anchor="middle" x="129.6" y="-846.3" font-family="Times,serif" font-size="14.00">开始 prevItem</text>
</g>
<!-- check_cursor0 -->
<g id="node2" class="node">
<title>check_cursor0</title>
<path fill="none" stroke="black" d="M117.72,-793.35C117.72,-793.35 11.78,-778.65 11.78,-778.65 5.84,-777.82 5.84,-776.18 11.78,-775.35 11.78,-775.35 117.72,-760.65 117.72,-760.65 123.66,-759.82 135.54,-759.82 141.49,-760.65 141.49,-760.65 247.42,-775.35 247.42,-775.35 253.36,-776.18 253.36,-777.82 247.42,-778.65 247.42,-778.65 141.49,-793.35 141.49,-793.35 135.54,-794.18 123.66,-794.18 117.72,-793.35"/>
<text text-anchor="middle" x="129.6" y="-773.3" font-family="Times,serif" font-size="14.00">self.cursor == 0?</text>
</g>
<!-- start&#45;&gt;check_cursor0 -->
<g id="edge1" class="edge">
<title>start&#45;&gt;check_cursor0</title>
<path fill="none" stroke="black" d="M129.6,-831.81C129.6,-823.79 129.6,-814.05 129.6,-805.07"/>
<polygon fill="black" stroke="black" points="133.1,-805.03 129.6,-795.03 126.1,-805.03 133.1,-805.03"/>
</g>
<!-- consumeEvent -->
<g id="node3" class="node">
<title>consumeEvent</title>
<path fill="none" stroke="black" d="M332.6,-182C332.6,-182 198.6,-182 198.6,-182 192.6,-182 186.6,-176 186.6,-170 186.6,-170 186.6,-158 186.6,-158 186.6,-152 192.6,-146 198.6,-146 198.6,-146 332.6,-146 332.6,-146 338.6,-146 344.6,-152 344.6,-158 344.6,-158 344.6,-170 344.6,-170 344.6,-176 338.6,-182 332.6,-182"/>
<text text-anchor="middle" x="265.6" y="-160.3" font-family="Times,serif" font-size="14.00">ctx.consumeEvent()</text>
</g>
<!-- check_cursor0&#45;&gt;consumeEvent -->
<g id="edge2" class="edge">
<title>check_cursor0&#45;&gt;consumeEvent</title>
<path fill="none" stroke="black" d="M124.63,-759.56C119.93,-742.56 113.6,-715.18 113.6,-691 113.6,-691 113.6,-691 113.6,-250 113.6,-215.59 143.64,-194.98 177.01,-182.69"/>
<polygon fill="black" stroke="black" points="178.16,-186 186.48,-179.45 175.89,-179.38 178.16,-186"/>
<text text-anchor="middle" x="121.1" y="-475.3" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- check_item_count -->
<g id="node4" class="node">
<title>check_item_count</title>
<path fill="none" stroke="black" d="M396.68,-706.59C396.68,-706.59 268.7,-691.41 268.7,-691.41 262.74,-690.71 262.74,-689.29 268.7,-688.59 268.7,-688.59 396.68,-673.41 396.68,-673.41 402.64,-672.71 414.56,-672.71 420.52,-673.41 420.52,-673.41 548.51,-688.59 548.51,-688.59 554.46,-689.29 554.46,-690.71 548.51,-691.41 548.51,-691.41 420.52,-706.59 420.52,-706.59 414.56,-707.29 402.64,-707.29 396.68,-706.59"/>
<text text-anchor="middle" x="408.6" y="-686.3" font-family="Times,serif" font-size="14.00">self.item_count 存在?</text>
</g>
<!-- check_cursor0&#45;&gt;check_item_count -->
<g id="edge3" class="edge">
<title>check_cursor0&#45;&gt;check_item_count</title>
<path fill="none" stroke="black" d="M168.1,-764.27C217.64,-749.18 303.8,-722.93 358.42,-706.29"/>
<polygon fill="black" stroke="black" points="359.69,-709.56 368.24,-703.3 357.65,-702.86 359.69,-709.56"/>
<text text-anchor="middle" x="293.1" y="-729.8" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- end -->
<g id="node14" class="node">
<title>end</title>
<ellipse fill="none" stroke="black" cx="364.6" cy="-18" rx="29.5" ry="18"/>
<text text-anchor="middle" x="364.6" y="-14.3" font-family="Times,serif" font-size="14.00">返回</text>
</g>
<!-- consumeEvent&#45;&gt;end -->
<g id="edge4" class="edge">
<title>consumeEvent&#45;&gt;end</title>
<path fill="none" stroke="black" d="M277.35,-145.92C294.89,-120.39 328.02,-72.21 348.02,-43.11"/>
<polygon fill="black" stroke="black" points="351,-44.97 353.78,-34.74 345.23,-41 351,-44.97"/>
</g>
<!-- handle_count -->
<g id="node5" class="node">
<title>handle_count</title>
<path fill="none" stroke="black" d="M770.6,-567C770.6,-567 508.6,-567 508.6,-567 502.6,-567 496.6,-561 496.6,-555 496.6,-555 496.6,-543 496.6,-543 496.6,-537 502.6,-531 508.6,-531 508.6,-531 770.6,-531 770.6,-531 776.6,-531 782.6,-537 782.6,-543 782.6,-543 782.6,-555 782.6,-555 782.6,-561 776.6,-567 770.6,-567"/>
<text text-anchor="middle" x="639.6" y="-545.3" font-family="Times,serif" font-size="14.00">self.cursor = @min(cursor&#45;1, count&#45;1)</text>
</g>
<!-- check_item_count&#45;&gt;handle_count -->
<g id="edge5" class="edge">
<title>check_item_count&#45;&gt;handle_count</title>
<path fill="none" stroke="black" d="M432.45,-674.65C472.74,-650.41 554.54,-601.18 602.41,-572.38"/>
<polygon fill="black" stroke="black" points="604.46,-575.23 611.23,-567.07 600.85,-569.23 604.46,-575.23"/>
<text text-anchor="middle" x="497.1" y="-642.8" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- check_children -->
<g id="node6" class="node">
<title>check_children</title>
<path fill="none" stroke="black" d="M477.1,-621C477.1,-621 340.1,-621 340.1,-621 334.1,-621 328.1,-615 328.1,-609 328.1,-609 328.1,-597 328.1,-597 328.1,-591 334.1,-585 340.1,-585 340.1,-585 477.1,-585 477.1,-585 483.1,-585 489.1,-591 489.1,-597 489.1,-597 489.1,-609 489.1,-609 489.1,-615 483.1,-621 477.1,-621"/>
<text text-anchor="middle" x="408.6" y="-599.3" font-family="Times,serif" font-size="14.00">switch(self.children)</text>
</g>
<!-- check_item_count&#45;&gt;check_children -->
<g id="edge6" class="edge">
<title>check_item_count&#45;&gt;check_children</title>
<path fill="none" stroke="black" d="M408.6,-671.8C408.6,-660.16 408.6,-644.55 408.6,-631.24"/>
<polygon fill="black" stroke="black" points="412.1,-631.18 408.6,-621.18 405.1,-631.18 412.1,-631.18"/>
<text text-anchor="middle" x="416.1" y="-642.8" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- ensure_scroll -->
<g id="node12" class="node">
<title>ensure_scroll</title>
<path fill="none" stroke="black" d="M617.6,-182C617.6,-182 495.6,-182 495.6,-182 489.6,-182 483.6,-176 483.6,-170 483.6,-170 483.6,-158 483.6,-158 483.6,-152 489.6,-146 495.6,-146 495.6,-146 617.6,-146 617.6,-146 623.6,-146 629.6,-152 629.6,-158 629.6,-158 629.6,-170 629.6,-170 629.6,-176 623.6,-182 617.6,-182"/>
<text text-anchor="middle" x="556.6" y="-160.3" font-family="Times,serif" font-size="14.00">self.ensureScroll()</text>
</g>
<!-- handle_count&#45;&gt;ensure_scroll -->
<g id="edge7" class="edge">
<title>handle_count&#45;&gt;ensure_scroll</title>
<path fill="none" stroke="black" d="M633.67,-530.65C624.93,-503.46 609.6,-449.01 609.6,-401.5 609.6,-401.5 609.6,-401.5 609.6,-250 609.6,-227.34 595.87,-205.73 582.39,-189.97"/>
<polygon fill="black" stroke="black" points="584.74,-187.35 575.44,-182.29 579.55,-192.05 584.74,-187.35"/>
</g>
<!-- slice_case -->
<g id="node7" class="node">
<title>slice_case</title>
<path fill="none" stroke="black" d="M568.1,-427C568.1,-427 397.1,-427 397.1,-427 391.1,-427 385.1,-421 385.1,-415 385.1,-415 385.1,-386 385.1,-386 385.1,-380 391.1,-374 397.1,-374 397.1,-374 568.1,-374 568.1,-374 574.1,-374 580.1,-380 580.1,-386 580.1,-386 580.1,-415 580.1,-415 580.1,-421 574.1,-427 568.1,-427"/>
<text text-anchor="middle" x="482.6" y="-411.8" font-family="Times,serif" font-size="14.00">处理 .slice</text>
<text text-anchor="middle" x="482.6" y="-396.8" font-family="Times,serif" font-size="14.00">设置item_count为切片长度</text>
<text text-anchor="middle" x="482.6" y="-381.8" font-family="Times,serif" font-size="14.00">调整cursor</text>
</g>
<!-- check_children&#45;&gt;slice_case -->
<g id="edge8" class="edge">
<title>check_children&#45;&gt;slice_case</title>
<path fill="none" stroke="black" d="M421.92,-584.84C425.75,-579.35 429.67,-573.11 432.6,-567 453.07,-524.32 467.29,-471.43 475.2,-437.1"/>
<polygon fill="black" stroke="black" points="478.67,-437.59 477.45,-427.07 471.84,-436.06 478.67,-437.59"/>
<text text-anchor="middle" x="465.1" y="-545.3" font-family="Times,serif" font-size="14.00">.slice</text>
</g>
<!-- builder_case -->
<g id="node8" class="node">
<title>builder_case</title>
<path fill="none" stroke="black" d="M414.6,-513C414.6,-513 294.6,-513 294.6,-513 288.6,-513 282.6,-507 282.6,-501 282.6,-501 282.6,-457 282.6,-457 282.6,-451 288.6,-445 294.6,-445 294.6,-445 414.6,-445 414.6,-445 420.6,-445 426.6,-451 426.6,-457 426.6,-457 426.6,-501 426.6,-501 426.6,-507 420.6,-513 414.6,-513"/>
<text text-anchor="middle" x="354.6" y="-497.8" font-family="Times,serif" font-size="14.00">处理 .builder</text>
<text text-anchor="middle" x="354.6" y="-482.8" font-family="Times,serif" font-size="14.00">保存当前cursor</text>
<text text-anchor="middle" x="354.6" y="-467.8" font-family="Times,serif" font-size="14.00">递减cursor</text>
<text text-anchor="middle" x="354.6" y="-452.8" font-family="Times,serif" font-size="14.00">循环检查itemAtIdx</text>
</g>
<!-- check_children&#45;&gt;builder_case -->
<g id="edge9" class="edge">
<title>check_children&#45;&gt;builder_case</title>
<path fill="none" stroke="black" d="M389.79,-584.8C384.89,-579.51 380.04,-573.38 376.6,-567 369.34,-553.52 364.41,-537.56 361.09,-523.01"/>
<polygon fill="black" stroke="black" points="364.52,-522.29 359.04,-513.22 357.66,-523.72 364.52,-522.29"/>
<text text-anchor="middle" x="404.6" y="-545.3" font-family="Times,serif" font-size="14.00">.builder</text>
</g>
<!-- slice_case&#45;&gt;ensure_scroll -->
<g id="edge10" class="edge">
<title>slice_case&#45;&gt;ensure_scroll</title>
<path fill="none" stroke="black" d="M499.47,-373.75C515.19,-348.29 537.8,-307.63 548.6,-269 555.66,-243.75 557.29,-213.8 557.38,-192.54"/>
<polygon fill="black" stroke="black" points="560.88,-192.26 557.3,-182.29 553.88,-192.31 560.88,-192.26"/>
</g>
<!-- check_builder_loop -->
<g id="node9" class="node">
<title>check_builder_loop</title>
<path fill="none" stroke="black" d="M351.75,-354.11C351.75,-354.11 262.34,-339.89 262.34,-339.89 256.41,-338.94 256.41,-337.06 262.34,-336.11 262.34,-336.11 351.75,-321.89 351.75,-321.89 357.68,-320.94 369.53,-320.94 375.45,-321.89 375.45,-321.89 464.86,-336.11 464.86,-336.11 470.79,-337.06 470.79,-338.94 464.86,-339.89 464.86,-339.89 375.45,-354.11 375.45,-354.11 369.53,-355.06 357.68,-355.06 351.75,-354.11"/>
<text text-anchor="middle" x="363.6" y="-334.3" font-family="Times,serif" font-size="14.00">itemAtIdx存在?</text>
</g>
<!-- builder_case&#45;&gt;check_builder_loop -->
<g id="edge11" class="edge">
<title>builder_case&#45;&gt;check_builder_loop</title>
<path fill="none" stroke="black" d="M356.76,-444.71C358.31,-420.69 360.39,-388.66 361.84,-366.18"/>
<polygon fill="black" stroke="black" points="365.35,-366.19 362.5,-355.99 358.36,-365.74 365.35,-366.19"/>
</g>
<!-- decrement_cursor -->
<g id="node10" class="node">
<title>decrement_cursor</title>
<path fill="none" stroke="black" d="M527.1,-269C527.1,-269 420.1,-269 420.1,-269 414.1,-269 408.1,-263 408.1,-257 408.1,-257 408.1,-245 408.1,-245 408.1,-239 414.1,-233 420.1,-233 420.1,-233 527.1,-233 527.1,-233 533.1,-233 539.1,-239 539.1,-245 539.1,-245 539.1,-257 539.1,-257 539.1,-263 533.1,-269 527.1,-269"/>
<text text-anchor="middle" x="473.6" y="-247.3" font-family="Times,serif" font-size="14.00">self.cursor &#45;|= 1</text>
</g>
<!-- check_builder_loop&#45;&gt;decrement_cursor -->
<g id="edge12" class="edge">
<title>check_builder_loop&#45;&gt;decrement_cursor</title>
<path fill="none" stroke="black" d="M382.26,-322.58C398.99,-309.65 423.85,-290.44 443.41,-275.33"/>
<polygon fill="black" stroke="black" points="445.66,-278.01 451.43,-269.13 441.38,-272.48 445.66,-278.01"/>
<text text-anchor="middle" x="432.1" y="-290.8" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- check_cursor_changed -->
<g id="node11" class="node">
<title>check_cursor_changed</title>
<path fill="none" stroke="black" d="M253.73,-267.28C253.73,-267.28 153.3,-252.72 153.3,-252.72 147.37,-251.86 147.37,-250.14 153.3,-249.28 153.3,-249.28 253.73,-234.72 253.73,-234.72 259.66,-233.86 271.54,-233.86 277.48,-234.72 277.48,-234.72 377.9,-249.28 377.9,-249.28 383.84,-250.14 383.84,-251.86 377.9,-252.72 377.9,-252.72 277.48,-267.28 277.48,-267.28 271.54,-268.14 259.66,-268.14 253.73,-267.28"/>
<text text-anchor="middle" x="265.6" y="-247.3" font-family="Times,serif" font-size="14.00">cursor == prev?</text>
</g>
<!-- check_builder_loop&#45;&gt;check_cursor_changed -->
<g id="edge14" class="edge">
<title>check_builder_loop&#45;&gt;check_cursor_changed</title>
<path fill="none" stroke="black" d="M346.98,-322.58C331.44,-309.11 308.05,-288.82 290.33,-273.45"/>
<polygon fill="black" stroke="black" points="292.48,-270.68 282.64,-266.78 287.9,-275.97 292.48,-270.68"/>
<text text-anchor="middle" x="327.1" y="-290.8" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- decrement_cursor&#45;&gt;check_builder_loop -->
<g id="edge13" class="edge">
<title>decrement_cursor&#45;&gt;check_builder_loop</title>
<path fill="none" stroke="black" d="M435.84,-269.02C426.2,-274.16 416.15,-280.25 407.6,-287 397.87,-294.68 388.58,-304.7 381.06,-313.74"/>
<polygon fill="black" stroke="black" points="378.22,-311.69 374.69,-321.68 383.68,-316.07 378.22,-311.69"/>
</g>
<!-- check_cursor_changed&#45;&gt;consumeEvent -->
<g id="edge15" class="edge">
<title>check_cursor_changed&#45;&gt;consumeEvent</title>
<path fill="none" stroke="black" d="M265.6,-232.8C265.6,-221.16 265.6,-205.55 265.6,-192.24"/>
<polygon fill="black" stroke="black" points="269.1,-192.18 265.6,-182.18 262.1,-192.18 269.1,-192.18"/>
<text text-anchor="middle" x="273.1" y="-203.8" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- check_cursor_changed&#45;&gt;ensure_scroll -->
<g id="edge16" class="edge">
<title>check_cursor_changed&#45;&gt;ensure_scroll</title>
<path fill="none" stroke="black" d="M304.54,-238.62C351.54,-224.9 431.37,-201.58 488.6,-184.86"/>
<polygon fill="black" stroke="black" points="489.68,-188.19 498.3,-182.03 487.72,-181.48 489.68,-188.19"/>
<text text-anchor="middle" x="435.1" y="-203.8" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- consumeAndRedraw -->
<g id="node13" class="node">
<title>consumeAndRedraw</title>
<path fill="none" stroke="black" d="M611.1,-109C611.1,-109 436.1,-109 436.1,-109 430.1,-109 424.1,-103 424.1,-97 424.1,-97 424.1,-85 424.1,-85 424.1,-79 430.1,-73 436.1,-73 436.1,-73 611.1,-73 611.1,-73 617.1,-73 623.1,-79 623.1,-85 623.1,-85 623.1,-97 623.1,-97 623.1,-103 617.1,-109 611.1,-109"/>
<text text-anchor="middle" x="523.6" y="-87.3" font-family="Times,serif" font-size="14.00">ctx.consumeAndRedraw()</text>
</g>
<!-- ensure_scroll&#45;&gt;consumeAndRedraw -->
<g id="edge17" class="edge">
<title>ensure_scroll&#45;&gt;consumeAndRedraw</title>
<path fill="none" stroke="black" d="M548.61,-145.81C544.76,-137.53 540.06,-127.41 535.78,-118.19"/>
<polygon fill="black" stroke="black" points="538.9,-116.62 531.52,-109.03 532.56,-119.57 538.9,-116.62"/>
</g>
<!-- consumeAndRedraw&#45;&gt;end -->
<g id="edge18" class="edge">
<title>consumeAndRedraw&#45;&gt;end</title>
<path fill="none" stroke="black" d="M485.52,-72.99C458.47,-60.92 422.55,-44.88 396.9,-33.42"/>
<polygon fill="black" stroke="black" points="398.18,-30.16 387.62,-29.28 395.32,-36.55 398.18,-30.16"/>
</g>
</g>
</svg>
