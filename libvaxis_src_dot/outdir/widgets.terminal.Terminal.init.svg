<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: Terminal_init_flowchart Pages: 1 -->
<svg width="981pt" height="644pt"
 viewBox="0.00 0.00 980.68 644.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 640)">
<title>Terminal_init_flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-640 976.68,-640 976.68,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="none" stroke="black" cx="304.24" cy="-618" rx="34.39" ry="18"/>
<text text-anchor="middle" x="304.24" y="-614.3" font-family="Times,serif" font-size="14.00">Start</text>
</g>
<!-- check_pwd -->
<g id="node2" class="node">
<title>check_pwd</title>
<polygon fill="none" stroke="black" points="304.24,-563 -0.24,-545 304.24,-527 608.72,-545 304.24,-563"/>
<text text-anchor="middle" x="304.24" y="-541.3" font-family="Times,serif" font-size="14.00">检查 initial_working_directory 是否为绝对路径</text>
</g>
<!-- start&#45;&gt;check_pwd -->
<g id="edge1" class="edge">
<title>start&#45;&gt;check_pwd</title>
<path fill="none" stroke="black" d="M304.24,-599.81C304.24,-591.79 304.24,-582.05 304.24,-573.07"/>
<polygon fill="black" stroke="black" points="307.74,-573.03 304.24,-563.03 300.74,-573.03 307.74,-573.03"/>
</g>
<!-- error_return -->
<g id="node3" class="node">
<title>error_return</title>
<ellipse fill="none" stroke="black" cx="808.24" cy="-545" rx="164.37" ry="18"/>
<text text-anchor="middle" x="808.24" y="-541.3" font-family="Times,serif" font-size="14.00">返回错误 InvalidWorkingDirectory</text>
</g>
<!-- check_pwd&#45;&gt;error_return -->
<g id="edge2" class="edge">
<title>check_pwd&#45;&gt;error_return</title>
<path fill="none" stroke="black" d="M608.69,-545C617.01,-545 625.25,-545 633.37,-545"/>
<polygon fill="black" stroke="black" points="633.59,-548.5 643.59,-545 633.59,-541.5 633.59,-548.5"/>
<text text-anchor="middle" x="626.14" y="-551.8" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- init_pty -->
<g id="node4" class="node">
<title>init_pty</title>
<polygon fill="none" stroke="black" points="347.74,-476 260.74,-476 260.74,-440 347.74,-440 347.74,-476"/>
<text text-anchor="middle" x="304.24" y="-454.3" font-family="Times,serif" font-size="14.00">初始化 Pty</text>
</g>
<!-- check_pwd&#45;&gt;init_pty -->
<g id="edge3" class="edge">
<title>check_pwd&#45;&gt;init_pty</title>
<path fill="none" stroke="black" d="M304.24,-526.8C304.24,-515.16 304.24,-499.55 304.24,-486.24"/>
<polygon fill="black" stroke="black" points="307.74,-486.18 304.24,-476.18 300.74,-486.18 307.74,-486.18"/>
<text text-anchor="middle" x="311.74" y="-497.8" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- set_pty_size -->
<g id="node5" class="node">
<title>set_pty_size</title>
<polygon fill="none" stroke="black" points="408.74,-403 199.74,-403 199.74,-367 408.74,-367 408.74,-403"/>
<text text-anchor="middle" x="304.24" y="-381.3" font-family="Times,serif" font-size="14.00">设置 Pty 大小 (opts.winsize)</text>
</g>
<!-- init_pty&#45;&gt;set_pty_size -->
<g id="edge4" class="edge">
<title>init_pty&#45;&gt;set_pty_size</title>
<path fill="none" stroke="black" d="M304.24,-439.81C304.24,-431.79 304.24,-422.05 304.24,-413.07"/>
<polygon fill="black" stroke="black" points="307.74,-413.03 304.24,-403.03 300.74,-413.03 307.74,-413.03"/>
</g>
<!-- create_cmd -->
<g id="node6" class="node">
<title>create_cmd</title>
<polygon fill="none" stroke="black" points="388.24,-330 220.24,-330 220.24,-294 388.24,-294 388.24,-330"/>
<text text-anchor="middle" x="304.24" y="-308.3" font-family="Times,serif" font-size="14.00">创建 Command 结构体</text>
</g>
<!-- set_pty_size&#45;&gt;create_cmd -->
<g id="edge5" class="edge">
<title>set_pty_size&#45;&gt;create_cmd</title>
<path fill="none" stroke="black" d="M304.24,-366.81C304.24,-358.79 304.24,-349.05 304.24,-340.07"/>
<polygon fill="black" stroke="black" points="307.74,-340.03 304.24,-330.03 300.74,-340.03 307.74,-340.03"/>
</g>
<!-- init_tabs -->
<g id="node7" class="node">
<title>init_tabs</title>
<polygon fill="none" stroke="black" points="435.74,-257 172.74,-257 172.74,-219 435.74,-219 435.74,-257"/>
<text text-anchor="middle" x="304.24" y="-241.8" font-family="Times,serif" font-size="14.00">初始化 tabs 数组</text>
<text text-anchor="middle" x="304.24" y="-226.8" font-family="Times,serif" font-size="14.00">根据 opts.winsize.cols 按每 8 列填充</text>
</g>
<!-- create_cmd&#45;&gt;init_tabs -->
<g id="edge6" class="edge">
<title>create_cmd&#45;&gt;init_tabs</title>
<path fill="none" stroke="black" d="M304.24,-293.94C304.24,-285.99 304.24,-276.31 304.24,-267.31"/>
<polygon fill="black" stroke="black" points="307.74,-267.2 304.24,-257.2 300.74,-267.2 307.74,-267.2"/>
</g>
<!-- init_screens -->
<g id="node8" class="node">
<title>init_screens</title>
<polygon fill="none" stroke="black" points="502.74,-182 105.74,-182 105.74,-146 502.74,-146 502.74,-182"/>
<text text-anchor="middle" x="304.24" y="-160.3" font-family="Times,serif" font-size="14.00">初始化 front_screen, back_screen_pri, back_screen_alt</text>
</g>
<!-- init_tabs&#45;&gt;init_screens -->
<g id="edge7" class="edge">
<title>init_tabs&#45;&gt;init_screens</title>
<path fill="none" stroke="black" d="M304.24,-218.83C304.24,-210.89 304.24,-201.41 304.24,-192.63"/>
<polygon fill="black" stroke="black" points="307.74,-192.42 304.24,-182.42 300.74,-192.42 307.74,-192.42"/>
</g>
<!-- init_lists -->
<g id="node9" class="node">
<title>init_lists</title>
<polygon fill="none" stroke="black" points="462.24,-109 146.24,-109 146.24,-73 462.24,-73 462.24,-109"/>
<text text-anchor="middle" x="304.24" y="-87.3" font-family="Times,serif" font-size="14.00">初始化 title 和 working_directory ArrayList</text>
</g>
<!-- init_screens&#45;&gt;init_lists -->
<g id="edge8" class="edge">
<title>init_screens&#45;&gt;init_lists</title>
<path fill="none" stroke="black" d="M304.24,-145.81C304.24,-137.79 304.24,-128.05 304.24,-119.07"/>
<polygon fill="black" stroke="black" points="307.74,-119.03 304.24,-109.03 300.74,-119.03 307.74,-119.03"/>
</g>
<!-- return_terminal -->
<g id="node10" class="node">
<title>return_terminal</title>
<ellipse fill="none" stroke="black" cx="304.24" cy="-18" rx="94.48" ry="18"/>
<text text-anchor="middle" x="304.24" y="-14.3" font-family="Times,serif" font-size="14.00">返回 Terminal 实例</text>
</g>
<!-- init_lists&#45;&gt;return_terminal -->
<g id="edge9" class="edge">
<title>init_lists&#45;&gt;return_terminal</title>
<path fill="none" stroke="black" d="M304.24,-72.81C304.24,-64.79 304.24,-55.05 304.24,-46.07"/>
<polygon fill="black" stroke="black" points="307.74,-46.03 304.24,-36.03 300.74,-46.03 307.74,-46.03"/>
</g>
</g>
</svg>
