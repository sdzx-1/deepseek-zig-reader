graph TD
    A[开始] --> B[分配字段索引和已找到字段的内存]
    B --> C[遍历初始化指令]
    C --> D{是否为元组?}
    D --> |是| E[获取元组字段索引]
    D --> |否| F[获取结构体字段索引]
    E --> G[记录字段并检查重复]
    F --> G
    G --> H[继续遍历直到完成]
    H --> I[处理编译时情况]
    I --> J{存在缺失字段且无默认值?}
    J --> |是| K[生成错误信息]
    J --> |否| L[处理默认值存储]
    L --> M{是否在编译时?}
    M --> |是| N[优化指令并生成结构体值]
    M --> |否| O[插入运行时存储指令]
    N --> P[处理错误信息]
    O --> P
    P --> Q{存在错误?}
    Q --> |是| R[返回错误]
    Q --> |否| S[结束]
    K --> P
