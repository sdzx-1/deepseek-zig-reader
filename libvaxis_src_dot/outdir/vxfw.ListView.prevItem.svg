<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: prevItemFlowchart Pages: 1 -->
<svg width="719pt" height="774pt"
 viewBox="0.00 0.00 718.60 774.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 770)">
<title>prevItemFlowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-770 714.6,-770 714.6,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="none" stroke="black" cx="129.6" cy="-748" rx="29.5" ry="18"/>
<text text-anchor="middle" x="129.6" y="-744.3" font-family="Times,serif" font-size="14.00">开始</text>
</g>
<!-- check_cursor0 -->
<g id="node2" class="node">
<title>check_cursor0</title>
<polygon fill="none" stroke="black" points="129.6,-693 -0.1,-675 129.6,-657 259.3,-675 129.6,-693"/>
<text text-anchor="middle" x="129.6" y="-671.3" font-family="Times,serif" font-size="14.00">self.cursor == 0?</text>
</g>
<!-- start&#45;&gt;check_cursor0 -->
<g id="edge1" class="edge">
<title>start&#45;&gt;check_cursor0</title>
<path fill="none" stroke="black" d="M129.6,-729.81C129.6,-721.79 129.6,-712.05 129.6,-703.07"/>
<polygon fill="black" stroke="black" points="133.1,-703.03 129.6,-693.03 126.1,-703.03 133.1,-703.03"/>
</g>
<!-- consume_event -->
<g id="node3" class="node">
<title>consume_event</title>
<polygon fill="none" stroke="black" points="326.6,-182 168.6,-182 168.6,-146 326.6,-146 326.6,-182"/>
<text text-anchor="middle" x="247.6" y="-160.3" font-family="Times,serif" font-size="14.00">ctx.consumeEvent()</text>
</g>
<!-- check_cursor0&#45;&gt;consume_event -->
<g id="edge2" class="edge">
<title>check_cursor0&#45;&gt;consume_event</title>
<path fill="none" stroke="black" d="M124.63,-657.56C119.93,-640.56 113.6,-613.18 113.6,-589 113.6,-589 113.6,-589 113.6,-250 113.6,-219.05 139.41,-198.9 168.37,-186.02"/>
<polygon fill="black" stroke="black" points="169.95,-189.15 177.85,-182.09 167.28,-182.69 169.95,-189.15"/>
<text text-anchor="middle" x="121.1" y="-443.3" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- check_item_count -->
<g id="node4" class="node">
<title>check_item_count</title>
<polygon fill="none" stroke="black" points="332.6,-606 180.78,-588 332.6,-570 484.42,-588 332.6,-606"/>
<text text-anchor="middle" x="332.6" y="-584.3" font-family="Times,serif" font-size="14.00">self.item_count 存在?</text>
</g>
<!-- check_cursor0&#45;&gt;check_item_count -->
<g id="edge4" class="edge">
<title>check_cursor0&#45;&gt;check_item_count</title>
<path fill="none" stroke="black" d="M160.43,-661.09C195.4,-646.45 252.59,-622.5 291.37,-606.26"/>
<polygon fill="black" stroke="black" points="292.94,-609.4 300.81,-602.31 290.23,-602.95 292.94,-609.4"/>
<text text-anchor="middle" x="251.1" y="-627.8" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- end -->
<g id="node12" class="node">
<title>end</title>
<ellipse fill="none" stroke="black" cx="280.6" cy="-18" rx="29.5" ry="18"/>
<text text-anchor="middle" x="280.6" y="-14.3" font-family="Times,serif" font-size="14.00">结束</text>
</g>
<!-- consume_event&#45;&gt;end -->
<g id="edge3" class="edge">
<title>consume_event&#45;&gt;end</title>
<path fill="none" stroke="black" d="M251.52,-145.92C257.17,-121.23 267.69,-75.35 274.4,-46.04"/>
<polygon fill="black" stroke="black" points="277.87,-46.59 276.69,-36.06 271.05,-45.03 277.87,-46.59"/>
</g>
<!-- handle_item_count -->
<g id="node5" class="node">
<title>handle_item_count</title>
<polygon fill="none" stroke="black" points="710.6,-465 424.6,-465 424.6,-429 710.6,-429 710.6,-465"/>
<text text-anchor="middle" x="567.6" y="-443.3" font-family="Times,serif" font-size="14.00">self.cursor = @min(cursor&#45;1, count&#45;1)</text>
</g>
<!-- check_item_count&#45;&gt;handle_item_count -->
<g id="edge5" class="edge">
<title>check_item_count&#45;&gt;handle_item_count</title>
<path fill="none" stroke="black" d="M362.52,-573.52C390.34,-560.62 432.64,-540.05 467.6,-519 491.91,-504.36 518.01,-485.72 537.45,-471.21"/>
<polygon fill="black" stroke="black" points="539.73,-473.88 545.62,-465.07 535.52,-468.29 539.73,-473.88"/>
<text text-anchor="middle" x="441.1" y="-540.8" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- check_children_type -->
<g id="node6" class="node">
<title>check_children_type</title>
<polygon fill="none" stroke="black" points="332.6,-519 206.75,-501 332.6,-483 458.45,-501 332.6,-519"/>
<text text-anchor="middle" x="332.6" y="-497.3" font-family="Times,serif" font-size="14.00">self.children 类型</text>
</g>
<!-- check_item_count&#45;&gt;check_children_type -->
<g id="edge7" class="edge">
<title>check_item_count&#45;&gt;check_children_type</title>
<path fill="none" stroke="black" d="M332.6,-569.8C332.6,-558.16 332.6,-542.55 332.6,-529.24"/>
<polygon fill="black" stroke="black" points="336.1,-529.18 332.6,-519.18 329.1,-529.18 336.1,-529.18"/>
<text text-anchor="middle" x="340.1" y="-540.8" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- ensure_scroll -->
<g id="node10" class="node">
<title>ensure_scroll</title>
<polygon fill="none" stroke="black" points="490.6,-182 344.6,-182 344.6,-146 490.6,-146 490.6,-182"/>
<text text-anchor="middle" x="417.6" y="-160.3" font-family="Times,serif" font-size="14.00">self.ensureScroll()</text>
</g>
<!-- handle_item_count&#45;&gt;ensure_scroll -->
<g id="edge6" class="edge">
<title>handle_item_count&#45;&gt;ensure_scroll</title>
<path fill="none" stroke="black" d="M563.41,-428.54C555.75,-398.44 537.86,-335.35 511.6,-287 491.85,-250.64 461.63,-213.66 440.81,-190.09"/>
<polygon fill="black" stroke="black" points="443.15,-187.46 433.87,-182.34 437.94,-192.12 443.15,-187.46"/>
</g>
<!-- handle_slice -->
<g id="node7" class="node">
<title>handle_slice</title>
<polygon fill="none" stroke="black" points="502.1,-325 295.1,-325 295.1,-287 502.1,-287 502.1,-325"/>
<text text-anchor="middle" x="398.6" y="-309.8" font-family="Times,serif" font-size="14.00">设置 item_count = slice.len</text>
<text text-anchor="middle" x="398.6" y="-294.8" font-family="Times,serif" font-size="14.00">调整 cursor</text>
</g>
<!-- check_children_type&#45;&gt;handle_slice -->
<g id="edge8" class="edge">
<title>check_children_type&#45;&gt;handle_slice</title>
<path fill="none" stroke="black" d="M347.02,-484.98C351.96,-479.13 357.11,-472.13 360.6,-465 381.34,-422.66 391.19,-368.27 395.54,-335.6"/>
<polygon fill="black" stroke="black" points="399.05,-335.76 396.81,-325.41 392.1,-334.9 399.05,-335.76"/>
<text text-anchor="middle" x="393.1" y="-443.3" font-family="Times,serif" font-size="14.00">.slice</text>
</g>
<!-- handle_builder -->
<g id="node8" class="node">
<title>handle_builder</title>
<polygon fill="none" stroke="black" points="354.6,-411 152.6,-411 152.6,-343 354.6,-343 354.6,-411"/>
<text text-anchor="middle" x="253.6" y="-395.8" font-family="Times,serif" font-size="14.00">保存 prev = cursor</text>
<text text-anchor="middle" x="253.6" y="-380.8" font-family="Times,serif" font-size="14.00">cursor &#45;= 1</text>
<text text-anchor="middle" x="253.6" y="-365.8" font-family="Times,serif" font-size="14.00">循环检查 builder.itemAtIdx</text>
<text text-anchor="middle" x="253.6" y="-350.8" font-family="Times,serif" font-size="14.00">直到找到有效项</text>
</g>
<!-- check_children_type&#45;&gt;handle_builder -->
<g id="edge9" class="edge">
<title>check_children_type&#45;&gt;handle_builder</title>
<path fill="none" stroke="black" d="M319.56,-484.69C314.67,-478.69 309.19,-471.67 304.6,-465 294.82,-450.78 285.02,-434.62 276.65,-420.12"/>
<polygon fill="black" stroke="black" points="279.64,-418.28 271.64,-411.33 273.56,-421.75 279.64,-418.28"/>
<text text-anchor="middle" x="332.6" y="-443.3" font-family="Times,serif" font-size="14.00">.builder</text>
</g>
<!-- handle_slice&#45;&gt;ensure_scroll -->
<g id="edge10" class="edge">
<title>handle_slice&#45;&gt;ensure_scroll</title>
<path fill="none" stroke="black" d="M401.05,-286.98C404.32,-262.89 410.14,-219.96 413.94,-191.99"/>
<polygon fill="black" stroke="black" points="417.41,-192.45 415.28,-182.07 410.47,-191.51 417.41,-192.45"/>
</g>
<!-- check_cursor_change -->
<g id="node9" class="node">
<title>check_cursor_change</title>
<polygon fill="none" stroke="black" points="265.6,-269 141.43,-251 265.6,-233 389.77,-251 265.6,-269"/>
<text text-anchor="middle" x="265.6" y="-247.3" font-family="Times,serif" font-size="14.00">cursor == prev?</text>
</g>
<!-- handle_builder&#45;&gt;check_cursor_change -->
<g id="edge11" class="edge">
<title>handle_builder&#45;&gt;check_cursor_change</title>
<path fill="none" stroke="black" d="M256.82,-342.77C258.74,-322.86 261.16,-297.86 262.97,-279.15"/>
<polygon fill="black" stroke="black" points="266.48,-279.23 263.96,-268.94 259.52,-278.55 266.48,-279.23"/>
</g>
<!-- check_cursor_change&#45;&gt;consume_event -->
<g id="edge12" class="edge">
<title>check_cursor_change&#45;&gt;consume_event</title>
<path fill="none" stroke="black" d="M262.04,-233.21C259.57,-221.52 256.22,-205.69 253.37,-192.22"/>
<polygon fill="black" stroke="black" points="256.71,-191.11 251.21,-182.05 249.86,-192.56 256.71,-191.11"/>
<text text-anchor="middle" x="265.1" y="-203.8" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- check_cursor_change&#45;&gt;ensure_scroll -->
<g id="edge13" class="edge">
<title>check_cursor_change&#45;&gt;ensure_scroll</title>
<path fill="none" stroke="black" d="M290.02,-236.34C313.7,-223.1 350.01,-202.79 377.86,-187.23"/>
<polygon fill="black" stroke="black" points="379.92,-190.08 386.94,-182.15 376.51,-183.97 379.92,-190.08"/>
<text text-anchor="middle" x="358.1" y="-203.8" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- consume_redraw -->
<g id="node11" class="node">
<title>consume_redraw</title>
<polygon fill="none" stroke="black" points="506.1,-109 307.1,-109 307.1,-73 506.1,-73 506.1,-109"/>
<text text-anchor="middle" x="406.6" y="-87.3" font-family="Times,serif" font-size="14.00">ctx.consumeAndRedraw()</text>
</g>
<!-- ensure_scroll&#45;&gt;consume_redraw -->
<g id="edge14" class="edge">
<title>ensure_scroll&#45;&gt;consume_redraw</title>
<path fill="none" stroke="black" d="M414.94,-145.81C413.7,-137.79 412.19,-128.05 410.79,-119.07"/>
<polygon fill="black" stroke="black" points="414.23,-118.38 409.24,-109.03 407.31,-119.45 414.23,-118.38"/>
</g>
<!-- consume_redraw&#45;&gt;end -->
<g id="edge15" class="edge">
<title>consume_redraw&#45;&gt;end</title>
<path fill="none" stroke="black" d="M376.42,-72.99C356.43,-61.73 330.33,-47.02 310.42,-35.8"/>
<polygon fill="black" stroke="black" points="311.91,-32.62 301.47,-30.76 308.47,-38.72 311.91,-32.62"/>
</g>
</g>
</svg>
