graph TD
    A[开始] --> B[获取zcu, ip, nav_src_loc, nav_val]
    B --> C[记录调试日志]
    C --> D{是否为测试?}
    D -->|是| E[直接返回]
    D -->|否| F[初始化wip_nav]
    F --> G[处理nav类型]
    G --> H{nav_val类型}
    H -->|struct_type| I[处理结构体类型]
    H -->|enum_type| J[处理枚举类型]
    H -->|union_type| K[处理联合体类型]
    H -->|func| L[处理函数类型]
    H -->|其他类型| M[处理常规类型]
    
    I --> I1[检查结构体布局]
    I1 -->|auto/extern| I2[生成普通结构体调试信息]
    I1 -->|packed| I3[生成紧凑结构体调试信息]
    I2/I3 --> I4[遍历结构体字段]
    I4 --> I5[生成字段类型/偏移量/对齐信息]
    I5 --> I6{是否完成?}
    I6 -->|否| I4
    I6 -->|是| I7[结束结构体处理]
    
    J --> J1[检查枚举类型]
    J1 --> J2[生成枚举调试信息]
    J2 --> J3[遍历枚举字段]
    J3 --> J4[生成枚举值/名称]
    J4 --> J5{是否完成?}
    J5 -->|否| J3
    J5 -->|是| J6[结束枚举处理]
    
    K --> K1[检查联合体布局]
    K1 -->|有标签| K2[生成带标签联合体调试信息]
    K1 -->|无标签| K3[生成无标签联合体调试信息]
    K2/K3 --> K4[遍历联合体字段]
    K4 --> K5[生成字段类型/对齐信息]
    K5 --> K6{是否完成?}
    K6 -->|否| K4
    K6 -->|是| K7[结束联合体处理]
    
    L --> L1[检查函数参数]
    L1 --> L2[生成函数签名调试信息]
    L2 --> L3[遍历参数列表]
    L3 --> L4[生成参数类型信息]
    L4 --> L5{是否完成?}
    L5 -->|否| L3
    L5 -->|是| L6[结束函数处理]
    
    M --> M1[处理常规类型声明]
    M1 --> M2[生成别名/变量/常量调试信息]
    
    I7/J6/K7/L6/M2 --> N[更新调试信息条目]
    N --> O[处理延迟操作]
    O --> P[结束]
    E --> P
