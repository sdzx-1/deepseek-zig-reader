graph TD
    A[开始] --> B[参数检查与初始化]
    B --> C[确定目标架构和模式]
    C --> D[计算指针宽度和页大小]
    D --> E{是否使用LLD/LLVM?}
    E -->|是| F[生成ZCU对象子路径]
    E -->|否| G[跳过对象路径生成]
    F --> H[创建Coff结构体并初始化字段]
    G --> H
    H --> I{是否使用LLVM且有ZCU?}
    I -->|是| J[创建LLVM对象]
    I -->|否| K[跳过LLVM对象创建]
    J --> L{是否使用LLD且无ZCU?}
    K --> L
    L -->|是| M[返回Coff对象]
    L -->|否| N[创建输出文件]
    N --> O[初始化字符串表]
    O --> P[添加空符号到本地表]
    P --> Q[分配各段:.text, .got等]
    Q --> R[处理字符串表偏移]
    R --> S[计算最大文件偏移]
    S --> T[写入填充数据]
    T --> U[返回Coff对象]
