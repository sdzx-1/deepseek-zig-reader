<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="1463pt" height="553pt"
 viewBox="0.00 0.00 1463.00 553.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 549)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-549 1459,-549 1459,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="none" stroke="black" cx="798.5" cy="-527" rx="66.47" ry="18"/>
<text text-anchor="middle" x="798.5" y="-523.9" font-family="Courier,monospace" font-size="12.00">genSetReg开始</text>
</g>
<!-- switch_mcv -->
<g id="node3" class="node">
<title>switch_mcv</title>
<polygon fill="none" stroke="black" points="798.5,-472 705.2,-454 798.5,-436 891.8,-454 798.5,-472"/>
<text text-anchor="middle" x="798.5" y="-450.9" font-family="Courier,monospace" font-size="12.00">switch (mcv)</text>
</g>
<!-- start&#45;&gt;switch_mcv -->
<g id="edge1" class="edge">
<title>start&#45;&gt;switch_mcv</title>
<path fill="none" stroke="black" d="M798.5,-508.81C798.5,-500.79 798.5,-491.05 798.5,-482.07"/>
<polygon fill="black" stroke="black" points="802,-482.03 798.5,-472.03 795,-482.03 802,-482.03"/>
</g>
<!-- end -->
<g id="node2" class="node">
<title>end</title>
<ellipse fill="none" stroke="black" cx="798.5" cy="-18" rx="66.47" ry="18"/>
<text text-anchor="middle" x="798.5" y="-14.9" font-family="Courier,monospace" font-size="12.00">genSetReg结束</text>
</g>
<!-- dead -->
<g id="node4" class="node">
<title>dead</title>
<polygon fill="none" stroke="black" points="99,-303 0,-303 0,-267 99,-267 99,-303"/>
<text text-anchor="middle" x="49.5" y="-288.4" font-family="Courier,monospace" font-size="12.00">case .dead</text>
<text text-anchor="middle" x="49.5" y="-275.4" font-family="Courier,monospace" font-size="12.00">unreachable</text>
</g>
<!-- switch_mcv&#45;&gt;dead -->
<g id="edge2" class="edge">
<title>switch_mcv&#45;&gt;dead</title>
<path fill="none" stroke="black" d="M708.82,-453.25C535.65,-453.03 167.97,-448.88 119.5,-418 82.55,-394.45 63.89,-344.52 55.46,-313.26"/>
<polygon fill="black" stroke="black" points="58.83,-312.29 52.99,-303.45 52.04,-314 58.83,-312.29"/>
<text text-anchor="middle" x="135" y="-410" font-family="Courier,monospace" font-size="10.00">.dead</text>
</g>
<!-- unreach_none -->
<g id="node5" class="node">
<title>unreach_none</title>
<polygon fill="none" stroke="black" points="205,-163 38,-163 38,-127 205,-127 205,-163"/>
<text text-anchor="middle" x="121.5" y="-148.4" font-family="Courier,monospace" font-size="12.00">case .unreach, .none</text>
<text text-anchor="middle" x="121.5" y="-135.4" font-family="Courier,monospace" font-size="12.00">return</text>
</g>
<!-- switch_mcv&#45;&gt;unreach_none -->
<g id="edge3" class="edge">
<title>switch_mcv&#45;&gt;unreach_none</title>
<path fill="none" stroke="black" d="M713.37,-452.37C579.28,-449.85 326.58,-438.46 253.5,-389 176.5,-336.88 140.46,-224.56 127.47,-172.94"/>
<polygon fill="black" stroke="black" points="130.86,-172.07 125.11,-163.18 124.06,-173.72 130.86,-172.07"/>
<text text-anchor="middle" x="296" y="-352.5" font-family="Courier,monospace" font-size="10.00">.unreach/.none</text>
</g>
<!-- undef -->
<g id="node6" class="node">
<title>undef</title>
<polygon fill="none" stroke="black" points="478.5,-389 347.5,-355 478.5,-321 609.5,-355 478.5,-389"/>
<text text-anchor="middle" x="478.5" y="-358.4" font-family="Courier,monospace" font-size="12.00">case .undef</text>
<text text-anchor="middle" x="478.5" y="-345.4" font-family="Courier,monospace" font-size="12.00">检查wantSafety()</text>
</g>
<!-- switch_mcv&#45;&gt;undef -->
<g id="edge4" class="edge">
<title>switch_mcv&#45;&gt;undef</title>
<path fill="none" stroke="black" d="M737.43,-447.7C696.22,-442.87 641.07,-433.97 594.5,-418 570.23,-409.68 544.91,-396.71 524.15,-384.79"/>
<polygon fill="black" stroke="black" points="525.65,-381.61 515.25,-379.58 522.11,-387.65 525.65,-381.61"/>
<text text-anchor="middle" x="613" y="-410" font-family="Courier,monospace" font-size="10.00">.undef</text>
</g>
<!-- ptr_stack_offset -->
<g id="node7" class="node">
<title>ptr_stack_offset</title>
<polygon fill="none" stroke="black" points="842.5,-303 660.5,-303 660.5,-267 842.5,-267 842.5,-303"/>
<text text-anchor="middle" x="751.5" y="-288.4" font-family="Courier,monospace" font-size="12.00">case .ptr_stack_offset</text>
<text text-anchor="middle" x="751.5" y="-275.4" font-family="Courier,monospace" font-size="12.00">生成sub指令</text>
</g>
<!-- switch_mcv&#45;&gt;ptr_stack_offset -->
<g id="edge5" class="edge">
<title>switch_mcv&#45;&gt;ptr_stack_offset</title>
<path fill="none" stroke="black" d="M767.8,-441.9C757.21,-436.42 746.51,-428.65 740.5,-418 722.07,-385.36 731.57,-340.78 740.9,-312.69"/>
<polygon fill="black" stroke="black" points="744.24,-313.73 744.28,-303.14 737.65,-311.4 744.24,-313.73"/>
<text text-anchor="middle" x="792" y="-410" font-family="Courier,monospace" font-size="10.00">.ptr_stack_offset</text>
</g>
<!-- cpsr_flags -->
<g id="node8" class="node">
<title>cpsr_flags</title>
<polygon fill="none" stroke="black" points="932.5,-233 786.5,-233 786.5,-197 932.5,-197 932.5,-233"/>
<text text-anchor="middle" x="859.5" y="-218.4" font-family="Courier,monospace" font-size="12.00">case .cpsr_flags</text>
<text text-anchor="middle" x="859.5" y="-205.4" font-family="Courier,monospace" font-size="12.00">生成mov和条件mov指令</text>
</g>
<!-- switch_mcv&#45;&gt;cpsr_flags -->
<g id="edge6" class="edge">
<title>switch_mcv&#45;&gt;cpsr_flags</title>
<path fill="none" stroke="black" d="M822.09,-440.22C830.27,-434.54 838.62,-427.06 843.5,-418 873.76,-361.86 869.19,-283.92 863.94,-243.22"/>
<polygon fill="black" stroke="black" points="867.39,-242.66 862.54,-233.24 860.46,-243.63 867.39,-242.66"/>
<text text-anchor="middle" x="901" y="-352.5" font-family="Courier,monospace" font-size="10.00">.cpsr_flags</text>
</g>
<!-- immediate -->
<g id="node9" class="node">
<title>immediate</title>
<polygon fill="none" stroke="black" points="548.5,-249 419.5,-215 548.5,-181 677.5,-215 548.5,-249"/>
<text text-anchor="middle" x="548.5" y="-218.4" font-family="Courier,monospace" font-size="12.00">case .immediate</text>
<text text-anchor="middle" x="548.5" y="-205.4" font-family="Courier,monospace" font-size="12.00">处理立即数</text>
</g>
<!-- switch_mcv&#45;&gt;immediate -->
<g id="edge7" class="edge">
<title>switch_mcv&#45;&gt;immediate</title>
<path fill="none" stroke="black" d="M758.93,-443.5C729.13,-434.35 689.43,-417.59 665.5,-389 629.37,-345.84 665.38,-311.95 631.5,-267 624.18,-257.29 614.43,-249.02 604.19,-242.13"/>
<polygon fill="black" stroke="black" points="605.85,-239.04 595.52,-236.68 602.12,-244.96 605.85,-239.04"/>
<text text-anchor="middle" x="696" y="-352.5" font-family="Courier,monospace" font-size="10.00">.immediate</text>
</g>
<!-- register -->
<g id="node10" class="node">
<title>register</title>
<polygon fill="none" stroke="black" points="1034,-163 875,-163 875,-127 1034,-127 1034,-163"/>
<text text-anchor="middle" x="954.5" y="-148.4" font-family="Courier,monospace" font-size="12.00">case .register</text>
<text text-anchor="middle" x="954.5" y="-135.4" font-family="Courier,monospace" font-size="12.00">生成mov指令（如果不同）</text>
</g>
<!-- switch_mcv&#45;&gt;register -->
<g id="edge8" class="edge">
<title>switch_mcv&#45;&gt;register</title>
<path fill="none" stroke="black" d="M844.24,-444.81C876.23,-436.51 916.95,-420.24 938.5,-389 962.13,-354.74 958.88,-229.46 956.12,-173.42"/>
<polygon fill="black" stroke="black" points="959.6,-172.98 955.58,-163.18 952.61,-173.35 959.6,-172.98"/>
<text text-anchor="middle" x="983" y="-352.5" font-family="Courier,monospace" font-size="10.00">.register</text>
</g>
<!-- memory -->
<g id="node11" class="node">
<title>memory</title>
<polygon fill="none" stroke="black" points="1123,-303 976,-303 976,-267 1123,-267 1123,-303"/>
<text text-anchor="middle" x="1049.5" y="-288.4" font-family="Courier,monospace" font-size="12.00">case .memory</text>
<text text-anchor="middle" x="1049.5" y="-275.4" font-family="Courier,monospace" font-size="12.00">生成加载地址和ldr指令</text>
</g>
<!-- switch_mcv&#45;&gt;memory -->
<g id="edge9" class="edge">
<title>switch_mcv&#45;&gt;memory</title>
<path fill="none" stroke="black" d="M856.35,-447.06C891.47,-442.11 936.67,-433.3 974.5,-418 996.56,-409.08 1005.27,-408.07 1019.5,-389 1036.06,-366.8 1043.5,-335.65 1046.83,-313.43"/>
<polygon fill="black" stroke="black" points="1050.33,-313.69 1048.16,-303.32 1043.39,-312.78 1050.33,-313.69"/>
<text text-anchor="middle" x="1022" y="-410" font-family="Courier,monospace" font-size="10.00">.memory</text>
</g>
<!-- stack_offset -->
<g id="node12" class="node">
<title>stack_offset</title>
<polygon fill="none" stroke="black" points="1228.5,-233 1076.5,-233 1076.5,-197 1228.5,-197 1228.5,-233"/>
<text text-anchor="middle" x="1152.5" y="-218.4" font-family="Courier,monospace" font-size="12.00">case .stack_offset</text>
<text text-anchor="middle" x="1152.5" y="-205.4" font-family="Courier,monospace" font-size="12.00">生成加载指令</text>
</g>
<!-- switch_mcv&#45;&gt;stack_offset -->
<g id="edge10" class="edge">
<title>switch_mcv&#45;&gt;stack_offset</title>
<path fill="none" stroke="black" d="M868.69,-449.49C931.67,-445.22 1018.52,-436.18 1047.5,-418 1110.27,-378.63 1137.41,-288.59 1147.45,-243.21"/>
<polygon fill="black" stroke="black" points="1150.92,-243.71 1149.54,-233.21 1144.07,-242.28 1150.92,-243.71"/>
<text text-anchor="middle" x="1161" y="-352.5" font-family="Courier,monospace" font-size="10.00">.stack_offset</text>
</g>
<!-- stack_argument_offset -->
<g id="node13" class="node">
<title>stack_argument_offset</title>
<polygon fill="none" stroke="black" points="1455,-373 1236,-373 1236,-337 1455,-337 1455,-373"/>
<text text-anchor="middle" x="1345.5" y="-358.4" font-family="Courier,monospace" font-size="12.00">case .stack_argument_offset</text>
<text text-anchor="middle" x="1345.5" y="-345.4" font-family="Courier,monospace" font-size="12.00">生成栈参数加载指令</text>
</g>
<!-- switch_mcv&#45;&gt;stack_argument_offset -->
<g id="edge11" class="edge">
<title>switch_mcv&#45;&gt;stack_argument_offset</title>
<path fill="none" stroke="black" d="M872.75,-450.24C944.86,-446.49 1057.11,-437.8 1152.5,-418 1200.63,-408.01 1253.69,-390.47 1291.97,-376.58"/>
<polygon fill="black" stroke="black" points="1293.19,-379.87 1301.37,-373.14 1290.78,-373.29 1293.19,-379.87"/>
<text text-anchor="middle" x="1263" y="-410" font-family="Courier,monospace" font-size="10.00">.stack_argument_offset</text>
</g>
<!-- dead&#45;&gt;end -->
<!-- unreach_none&#45;&gt;end -->
<g id="edge23" class="edge">
<title>unreach_none&#45;&gt;end</title>
<path fill="none" stroke="black" d="M133.1,-126.69C148.57,-105.26 178.16,-69.66 213.5,-54 258.81,-33.93 573.97,-24.13 722.01,-20.6"/>
<polygon fill="black" stroke="black" points="722.46,-24.09 732.37,-20.36 722.29,-17.09 722.46,-24.09"/>
</g>
<!-- undef&#45;&gt;end -->
<g id="edge12" class="edge">
<title>undef&#45;&gt;end</title>
<path fill="none" stroke="black" d="M437.46,-331.38C386.76,-300.79 302.98,-240.97 268.5,-163 250.94,-123.29 269.11,-95.08 306.5,-73 374.98,-32.56 601.66,-22.37 721.96,-19.83"/>
<polygon fill="black" stroke="black" points="722.27,-23.32 732.2,-19.62 722.13,-16.32 722.27,-23.32"/>
<text text-anchor="middle" x="317" y="-142.5" font-family="Courier,monospace" font-size="10.00">wantSafety=false</text>
</g>
<!-- undef&#45;&gt;immediate -->
<g id="edge13" class="edge">
<title>undef&#45;&gt;immediate</title>
<path fill="none" stroke="black" d="M491.8,-324.33C499.57,-307.38 509.73,-285.82 519.5,-267 521.76,-262.65 524.19,-258.14 526.65,-253.67"/>
<polygon fill="black" stroke="black" points="529.87,-255.08 531.7,-244.65 523.76,-251.67 529.87,-255.08"/>
<text text-anchor="middle" x="575.5" y="-288" font-family="Courier,monospace" font-size="10.00">wantSafety=true</text>
<text text-anchor="middle" x="575.5" y="-277" font-family="Courier,monospace" font-size="10.00">递归调用(0xaaaaaaaa)</text>
</g>
<!-- ptr_stack_offset&#45;&gt;end -->
<g id="edge24" class="edge">
<title>ptr_stack_offset&#45;&gt;end</title>
<path fill="none" stroke="black" d="M751.99,-266.66C753.42,-244.74 758.67,-206.76 777.5,-181 786.45,-168.75 799.13,-176.26 806.5,-163 826.75,-126.59 817.3,-76.68 808.2,-46.2"/>
<polygon fill="black" stroke="black" points="811.41,-44.75 805.05,-36.28 804.74,-46.87 811.41,-44.75"/>
</g>
<!-- cpsr_flags&#45;&gt;end -->
<g id="edge25" class="edge">
<title>cpsr_flags&#45;&gt;end</title>
<path fill="none" stroke="black" d="M860.66,-196.99C861.98,-166.46 861.34,-101.18 836.5,-54 834.33,-49.87 831.47,-45.97 828.29,-42.39"/>
<polygon fill="black" stroke="black" points="830.51,-39.66 820.97,-35.05 825.56,-44.6 830.51,-39.66"/>
</g>
<!-- imm_op -->
<g id="node14" class="node">
<title>imm_op</title>
<polygon fill="none" stroke="black" points="433,-109 316,-109 316,-73 433,-73 433,-109"/>
<text text-anchor="middle" x="374.5" y="-87.9" font-family="Courier,monospace" font-size="12.00">使用mov/mvn指令</text>
</g>
<!-- immediate&#45;&gt;imm_op -->
<g id="edge14" class="edge">
<title>immediate&#45;&gt;imm_op</title>
<path fill="none" stroke="black" d="M453.61,-205.85C425.63,-198.64 397.67,-185.75 379.5,-163 369.82,-150.88 368.43,-133.57 369.53,-119.08"/>
<polygon fill="black" stroke="black" points="373.01,-119.48 370.69,-109.14 366.05,-118.67 373.01,-119.48"/>
<text text-anchor="middle" x="419" y="-142.5" font-family="Courier,monospace" font-size="10.00">操作数可直接编码</text>
</g>
<!-- imm_v7 -->
<g id="node15" class="node">
<title>imm_v7</title>
<polygon fill="none" stroke="black" points="794.5,-109 662.5,-109 662.5,-73 794.5,-73 794.5,-109"/>
<text text-anchor="middle" x="728.5" y="-87.9" font-family="Courier,monospace" font-size="12.00">使用movw/movt指令</text>
</g>
<!-- immediate&#45;&gt;imm_v7 -->
<g id="edge15" class="edge">
<title>immediate&#45;&gt;imm_v7</title>
<path fill="none" stroke="black" d="M592.09,-192.22C605.66,-184.19 620.04,-174.26 631.5,-163 645.04,-149.69 640.25,-139.55 654.5,-127 660,-122.16 666.29,-117.84 672.82,-114.05"/>
<polygon fill="black" stroke="black" points="674.69,-117.01 681.83,-109.18 671.37,-110.85 674.69,-117.01"/>
<text text-anchor="middle" x="690.5" y="-142.5" font-family="Courier,monospace" font-size="10.00">支持v7且&lt;=u16</text>
</g>
<!-- immediate&#45;&gt;imm_v7 -->
<g id="edge17" class="edge">
<title>immediate&#45;&gt;imm_v7</title>
<path fill="none" stroke="black" d="M625.62,-201.19C667.64,-192.5 713.64,-179.57 726.5,-163 735.99,-150.77 736.65,-133.46 734.87,-119"/>
<polygon fill="black" stroke="black" points="738.31,-118.37 733.22,-109.08 731.4,-119.52 738.31,-118.37"/>
<text text-anchor="middle" x="769.5" y="-142.5" font-family="Courier,monospace" font-size="10.00">支持v7且&gt;u16</text>
</g>
<!-- imm_legacy -->
<g id="node16" class="node">
<title>imm_legacy</title>
<polygon fill="none" stroke="black" points="619,-109 478,-109 478,-73 619,-73 619,-109"/>
<text text-anchor="middle" x="548.5" y="-87.9" font-family="Courier,monospace" font-size="12.00">使用多个mov/orr指令</text>
</g>
<!-- immediate&#45;&gt;imm_legacy -->
<g id="edge16" class="edge">
<title>immediate&#45;&gt;imm_legacy</title>
<path fill="none" stroke="black" d="M548.5,-180.99C548.5,-161.73 548.5,-137.72 548.5,-119.49"/>
<polygon fill="black" stroke="black" points="552,-119.25 548.5,-109.25 545,-119.25 552,-119.25"/>
<text text-anchor="middle" x="589.5" y="-142.5" font-family="Courier,monospace" font-size="10.00">不支持v7且&lt;=u16</text>
</g>
<!-- immediate&#45;&gt;imm_legacy -->
<g id="edge18" class="edge">
<title>immediate&#45;&gt;imm_legacy</title>
<path fill="none" stroke="black" d="M499.78,-193.62C487.37,-185.93 475.55,-175.85 468.5,-163 460.81,-148.97 459.74,-140.39 468.5,-127 471.43,-122.52 475.08,-118.6 479.19,-115.19"/>
<polygon fill="black" stroke="black" points="481.47,-117.86 487.6,-109.22 477.42,-112.16 481.47,-117.86"/>
<text text-anchor="middle" x="506.5" y="-142.5" font-family="Courier,monospace" font-size="10.00">不支持v7且&gt;u16</text>
</g>
<!-- register&#45;&gt;end -->
<g id="edge26" class="edge">
<title>register&#45;&gt;end</title>
<path fill="none" stroke="black" d="M942.64,-126.82C928.35,-107.14 902.72,-74.91 874.5,-54 865.83,-47.58 855.8,-41.93 845.92,-37.16"/>
<polygon fill="black" stroke="black" points="847.09,-33.85 836.55,-32.85 844.17,-40.21 847.09,-33.85"/>
</g>
<!-- memory&#45;&gt;end -->
<g id="edge27" class="edge">
<title>memory&#45;&gt;end</title>
<path fill="none" stroke="black" d="M1052.87,-266.64C1057.89,-235.63 1063.85,-169.96 1034.5,-127 995.86,-70.43 919.87,-42.96 864.53,-29.98"/>
<polygon fill="black" stroke="black" points="864.98,-26.49 854.45,-27.72 863.45,-33.32 864.98,-26.49"/>
</g>
<!-- stack_offset&#45;&gt;end -->
<g id="edge28" class="edge">
<title>stack_offset&#45;&gt;end</title>
<path fill="none" stroke="black" d="M1148.3,-196.75C1139.12,-163.06 1113.83,-88.75 1062.5,-54 1032.64,-33.78 941.15,-25.21 874.22,-21.6"/>
<polygon fill="black" stroke="black" points="874.28,-18.09 864.12,-21.08 873.92,-25.09 874.28,-18.09"/>
</g>
<!-- stack_argument_offset&#45;&gt;end -->
<g id="edge29" class="edge">
<title>stack_argument_offset&#45;&gt;end</title>
<path fill="none" stroke="black" d="M1336.9,-336.67C1320.31,-304.17 1281.61,-232.72 1237.5,-181 1190.07,-125.39 1174,-113.99 1113.5,-73 1098.2,-62.63 1094.16,-59.46 1076.5,-54 1010.11,-33.48 931.24,-24.96 874.5,-21.44"/>
<polygon fill="black" stroke="black" points="874.36,-17.93 864.17,-20.84 873.95,-24.91 874.36,-17.93"/>
</g>
<!-- imm_op&#45;&gt;end -->
<g id="edge19" class="edge">
<title>imm_op&#45;&gt;end</title>
<path fill="none" stroke="black" d="M433.14,-79.24C444.85,-77.13 457.06,-74.97 468.5,-73 560.06,-57.23 666.11,-40.07 732.75,-29.43"/>
<polygon fill="black" stroke="black" points="733.37,-32.87 742.69,-27.84 732.26,-25.96 733.37,-32.87"/>
</g>
<!-- imm_v7&#45;&gt;end -->
<g id="edge20" class="edge">
<title>imm_v7&#45;&gt;end</title>
<path fill="none" stroke="black" d="M745.45,-72.81C754.34,-63.79 765.39,-52.59 775.09,-42.74"/>
<polygon fill="black" stroke="black" points="777.66,-45.12 782.19,-35.54 772.68,-40.2 777.66,-45.12"/>
</g>
<!-- imm_legacy&#45;&gt;end -->
<g id="edge21" class="edge">
<title>imm_legacy&#45;&gt;end</title>
<path fill="none" stroke="black" d="M608.38,-72.99C649.8,-61.23 704.44,-45.71 744.52,-34.33"/>
<polygon fill="black" stroke="black" points="745.71,-37.63 754.37,-31.53 743.8,-30.9 745.71,-37.63"/>
</g>
<!-- imm_else -->
<g id="node17" class="node">
<title>imm_else</title>
<polygon fill="none" stroke="black" points="1008,-545 883,-545 883,-509 1008,-509 1008,-545"/>
<text text-anchor="middle" x="945.5" y="-523.9" font-family="Courier,monospace" font-size="12.00">写常量到代码段加载</text>
</g>
</g>
</svg>
