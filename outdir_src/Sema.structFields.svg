<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="603pt" height="1130pt"
 viewBox="0.00 0.00 602.50 1130.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1126)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1126 598.5,-1126 598.5,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<path fill="none" stroke="black" d="M245.5,-1122C245.5,-1122 141.5,-1122 141.5,-1122 135.5,-1122 129.5,-1116 129.5,-1110 129.5,-1110 129.5,-1098 129.5,-1098 129.5,-1092 135.5,-1086 141.5,-1086 141.5,-1086 245.5,-1086 245.5,-1086 251.5,-1086 257.5,-1092 257.5,-1098 257.5,-1098 257.5,-1110 257.5,-1110 257.5,-1116 251.5,-1122 245.5,-1122"/>
<text text-anchor="middle" x="193.5" y="-1100.3" font-family="Helvetica,sans-Serif" font-size="14.00">开始 structFields</text>
</g>
<!-- check_fields_len -->
<g id="node2" class="node">
<title>check_fields_len</title>
<path fill="none" stroke="black" d="M181.59,-1047.57C181.59,-1047.57 55.77,-1032.43 55.77,-1032.43 49.81,-1031.72 49.81,-1030.28 55.77,-1029.57 55.77,-1029.57 181.59,-1014.43 181.59,-1014.43 187.54,-1013.72 199.46,-1013.72 205.41,-1014.43 205.41,-1014.43 331.23,-1029.57 331.23,-1029.57 337.19,-1030.28 337.19,-1031.72 331.23,-1032.43 331.23,-1032.43 205.41,-1047.57 205.41,-1047.57 199.46,-1048.28 187.54,-1048.28 181.59,-1047.57"/>
<text text-anchor="middle" x="193.5" y="-1027.3" font-family="Helvetica,sans-Serif" font-size="14.00">检查 fields_len == 0?</text>
</g>
<!-- start&#45;&gt;check_fields_len -->
<g id="edge1" class="edge">
<title>start&#45;&gt;check_fields_len</title>
<path fill="none" stroke="black" d="M193.5,-1085.81C193.5,-1077.79 193.5,-1068.05 193.5,-1059.07"/>
<polygon fill="black" stroke="black" points="197,-1059.03 193.5,-1049.03 190,-1059.03 197,-1059.03"/>
</g>
<!-- handle_packed -->
<g id="node3" class="node">
<title>handle_packed</title>
<path fill="none" stroke="black" d="M141,-893C141,-893 12,-893 12,-893 6,-893 0,-887 0,-881 0,-881 0,-867 0,-867 0,-861 6,-855 12,-855 12,-855 141,-855 141,-855 147,-855 153,-861 153,-867 153,-867 153,-881 153,-881 153,-887 147,-893 141,-893"/>
<text text-anchor="middle" x="76.5" y="-877.8" font-family="Helvetica,sans-Serif" font-size="14.00">调用 backingIntType</text>
<text text-anchor="middle" x="76.5" y="-862.8" font-family="Helvetica,sans-Serif" font-size="14.00">设置 packed 布局</text>
</g>
<!-- check_fields_len&#45;&gt;handle_packed -->
<g id="edge2" class="edge">
<title>check_fields_len&#45;&gt;handle_packed</title>
<path fill="none" stroke="black" d="M127.84,-1020.86C97.67,-1015.18 66.57,-1006.71 57.5,-995 37.01,-968.57 49.19,-928.86 61.42,-902.45"/>
<polygon fill="black" stroke="black" points="64.62,-903.89 65.88,-893.37 58.33,-900.81 64.62,-903.89"/>
<text text-anchor="middle" x="118.5" y="-983.8" font-family="Helvetica,sans-Serif" font-size="14.00">fields_len=0</text>
<text text-anchor="middle" x="118.5" y="-968.8" font-family="Helvetica,sans-Serif" font-size="14.00">且 layout=packed</text>
</g>
<!-- handle_auto_extern -->
<g id="node4" class="node">
<title>handle_auto_extern</title>
<path fill="none" stroke="black" d="M257,-781C257,-781 120,-781 120,-781 114,-781 108,-775 108,-769 108,-769 108,-757 108,-757 108,-751 114,-745 120,-745 120,-745 257,-745 257,-745 263,-745 269,-751 269,-757 269,-757 269,-769 269,-769 269,-775 263,-781 257,-781"/>
<text text-anchor="middle" x="188.5" y="-759.3" font-family="Helvetica,sans-Serif" font-size="14.00">设置 auto/extern 布局</text>
</g>
<!-- check_fields_len&#45;&gt;handle_auto_extern -->
<g id="edge3" class="edge">
<title>check_fields_len&#45;&gt;handle_auto_extern</title>
<path fill="none" stroke="black" d="M193.18,-1012.96C192.33,-968.02 190.04,-846.03 189.01,-791.26"/>
<polygon fill="black" stroke="black" points="192.51,-791.18 188.82,-781.25 185.51,-791.31 192.51,-791.18"/>
<text text-anchor="middle" x="268.5" y="-932.8" font-family="Helvetica,sans-Serif" font-size="14.00">fields_len=0</text>
<text text-anchor="middle" x="268.5" y="-917.8" font-family="Helvetica,sans-Serif" font-size="14.00">且 layout=auto/extern</text>
</g>
<!-- alloc_fields -->
<g id="node5" class="node">
<title>alloc_fields</title>
<path fill="none" stroke="black" d="M471,-947C471,-947 376,-947 376,-947 370,-947 364,-941 364,-935 364,-935 364,-923 364,-923 364,-917 370,-911 376,-911 376,-911 471,-911 471,-911 477,-911 483,-917 483,-923 483,-923 483,-935 483,-935 483,-941 477,-947 471,-947"/>
<text text-anchor="middle" x="423.5" y="-925.3" font-family="Helvetica,sans-Serif" font-size="14.00">分配 fields 数组</text>
</g>
<!-- check_fields_len&#45;&gt;alloc_fields -->
<g id="edge4" class="edge">
<title>check_fields_len&#45;&gt;alloc_fields</title>
<path fill="none" stroke="black" d="M224.52,-1016.51C263.1,-999.74 329.4,-970.91 374.79,-951.18"/>
<polygon fill="black" stroke="black" points="376.36,-954.31 384.14,-947.12 373.57,-947.89 376.36,-954.31"/>
<text text-anchor="middle" x="386" y="-976.3" font-family="Helvetica,sans-Serif" font-size="14.00">fields_len&gt;0</text>
</g>
<!-- end -->
<g id="node17" class="node">
<title>end</title>
<path fill="none" stroke="black" d="M163.5,-36C163.5,-36 133.5,-36 133.5,-36 127.5,-36 121.5,-30 121.5,-24 121.5,-24 121.5,-12 121.5,-12 121.5,-6 127.5,0 133.5,0 133.5,0 163.5,0 163.5,0 169.5,0 175.5,-6 175.5,-12 175.5,-12 175.5,-24 175.5,-24 175.5,-30 169.5,-36 163.5,-36"/>
<text text-anchor="middle" x="148.5" y="-14.3" font-family="Helvetica,sans-Serif" font-size="14.00">返回</text>
</g>
<!-- handle_packed&#45;&gt;end -->
<g id="edge19" class="edge">
<title>handle_packed&#45;&gt;end</title>
<path fill="none" stroke="black" d="M78.11,-854.89C79.89,-833.27 82.5,-796.03 82.5,-764 82.5,-764 82.5,-764 82.5,-90 82.5,-69.51 97.43,-52.44 113.09,-40.19"/>
<polygon fill="black" stroke="black" points="115.26,-42.94 121.27,-34.22 111.13,-37.29 115.26,-42.94"/>
</g>
<!-- handle_auto_extern&#45;&gt;end -->
<g id="edge20" class="edge">
<title>handle_auto_extern&#45;&gt;end</title>
<path fill="none" stroke="black" d="M175.84,-744.86C164.12,-727.26 148.5,-698.61 148.5,-671 148.5,-671 148.5,-671 148.5,-90 148.5,-75.65 148.5,-59.67 148.5,-46.51"/>
<polygon fill="black" stroke="black" points="152,-46.22 148.5,-36.22 145,-46.22 152,-46.22"/>
</g>
<!-- parse_flags -->
<g id="node6" class="node">
<title>parse_flags</title>
<path fill="none" stroke="black" d="M532.5,-837C532.5,-837 314.5,-837 314.5,-837 308.5,-837 302.5,-831 302.5,-825 302.5,-825 302.5,-811 302.5,-811 302.5,-805 308.5,-799 314.5,-799 314.5,-799 532.5,-799 532.5,-799 538.5,-799 544.5,-805 544.5,-811 544.5,-811 544.5,-825 544.5,-825 544.5,-831 538.5,-837 532.5,-837"/>
<text text-anchor="middle" x="423.5" y="-821.8" font-family="Helvetica,sans-Serif" font-size="14.00">解析 ZIR 字段标志位</text>
<text text-anchor="middle" x="423.5" y="-806.8" font-family="Helvetica,sans-Serif" font-size="14.00">(has_align/has_init/is_comptime)</text>
</g>
<!-- alloc_fields&#45;&gt;parse_flags -->
<g id="edge5" class="edge">
<title>alloc_fields&#45;&gt;parse_flags</title>
<path fill="none" stroke="black" d="M423.5,-910.97C423.5,-894.02 423.5,-867.69 423.5,-847.54"/>
<polygon fill="black" stroke="black" points="427,-847.37 423.5,-837.37 420,-847.37 427,-847.37"/>
</g>
<!-- process_field_names -->
<g id="node7" class="node">
<title>process_field_names</title>
<path fill="none" stroke="black" d="M477.5,-727C477.5,-727 369.5,-727 369.5,-727 363.5,-727 357.5,-721 357.5,-715 357.5,-715 357.5,-701 357.5,-701 357.5,-695 363.5,-689 369.5,-689 369.5,-689 477.5,-689 477.5,-689 483.5,-689 489.5,-695 489.5,-701 489.5,-701 489.5,-715 489.5,-715 489.5,-721 483.5,-727 477.5,-727"/>
<text text-anchor="middle" x="423.5" y="-711.8" font-family="Helvetica,sans-Serif" font-size="14.00">处理字段名称</text>
<text text-anchor="middle" x="423.5" y="-696.8" font-family="Helvetica,sans-Serif" font-size="14.00">存储到 InternPool</text>
</g>
<!-- parse_flags&#45;&gt;process_field_names -->
<g id="edge6" class="edge">
<title>parse_flags&#45;&gt;process_field_names</title>
<path fill="none" stroke="black" d="M423.5,-798.68C423.5,-781.82 423.5,-756.57 423.5,-737.15"/>
<polygon fill="black" stroke="black" points="427,-737.05 423.5,-727.05 420,-737.05 427,-737.05"/>
</g>
<!-- handle_type_body -->
<g id="node8" class="node">
<title>handle_type_body</title>
<path fill="none" stroke="black" d="M491,-652C491,-652 356,-652 356,-652 350,-652 344,-646 344,-640 344,-640 344,-628 344,-628 344,-622 350,-616 356,-616 356,-616 491,-616 491,-616 497,-616 503,-622 503,-628 503,-628 503,-640 503,-640 503,-646 497,-652 491,-652"/>
<text text-anchor="middle" x="423.5" y="-630.3" font-family="Helvetica,sans-Serif" font-size="14.00">处理类型体或类型引用</text>
</g>
<!-- process_field_names&#45;&gt;handle_type_body -->
<g id="edge7" class="edge">
<title>process_field_names&#45;&gt;handle_type_body</title>
<path fill="none" stroke="black" d="M423.5,-688.83C423.5,-680.89 423.5,-671.41 423.5,-662.63"/>
<polygon fill="black" stroke="black" points="427,-662.42 423.5,-652.42 420,-662.42 427,-662.42"/>
</g>
<!-- validate_field_types -->
<g id="node9" class="node">
<title>validate_field_types</title>
<path fill="none" stroke="black" d="M499.5,-579C499.5,-579 347.5,-579 347.5,-579 341.5,-579 335.5,-573 335.5,-567 335.5,-567 335.5,-553 335.5,-553 335.5,-547 341.5,-541 347.5,-541 347.5,-541 499.5,-541 499.5,-541 505.5,-541 511.5,-547 511.5,-553 511.5,-553 511.5,-567 511.5,-567 511.5,-573 505.5,-579 499.5,-579"/>
<text text-anchor="middle" x="423.5" y="-563.8" font-family="Helvetica,sans-Serif" font-size="14.00">验证字段类型</text>
<text text-anchor="middle" x="423.5" y="-548.8" font-family="Helvetica,sans-Serif" font-size="14.00">(opaque/noreturn 检查)</text>
</g>
<!-- handle_type_body&#45;&gt;validate_field_types -->
<g id="edge8" class="edge">
<title>handle_type_body&#45;&gt;validate_field_types</title>
<path fill="none" stroke="black" d="M423.5,-615.94C423.5,-607.99 423.5,-598.31 423.5,-589.31"/>
<polygon fill="black" stroke="black" points="427,-589.2 423.5,-579.2 420,-589.2 427,-589.2"/>
</g>
<!-- check_layout -->
<g id="node10" class="node">
<title>check_layout</title>
<path fill="none" stroke="black" d="M411.58,-502.65C411.58,-502.65 276.4,-487.35 276.4,-487.35 270.43,-486.67 270.43,-485.33 276.4,-484.65 276.4,-484.65 411.58,-469.35 411.58,-469.35 417.54,-468.67 429.46,-468.67 435.42,-469.35 435.42,-469.35 570.6,-484.65 570.6,-484.65 576.57,-485.33 576.57,-486.67 570.6,-487.35 570.6,-487.35 435.42,-502.65 435.42,-502.65 429.46,-503.33 417.54,-503.33 411.58,-502.65"/>
<text text-anchor="middle" x="423.5" y="-482.3" font-family="Helvetica,sans-Serif" font-size="14.00">检查 struct_type.layout</text>
</g>
<!-- validate_field_types&#45;&gt;check_layout -->
<g id="edge9" class="edge">
<title>validate_field_types&#45;&gt;check_layout</title>
<path fill="none" stroke="black" d="M423.5,-540.83C423.5,-532.89 423.5,-523.41 423.5,-514.63"/>
<polygon fill="black" stroke="black" points="427,-514.42 423.5,-504.42 420,-514.42 427,-514.42"/>
</g>
<!-- handle_extern -->
<g id="node11" class="node">
<title>handle_extern</title>
<path fill="none" stroke="black" d="M318.5,-417C318.5,-417 188.5,-417 188.5,-417 182.5,-417 176.5,-411 176.5,-405 176.5,-405 176.5,-393 176.5,-393 176.5,-387 182.5,-381 188.5,-381 188.5,-381 318.5,-381 318.5,-381 324.5,-381 330.5,-387 330.5,-393 330.5,-393 330.5,-405 330.5,-405 330.5,-411 324.5,-417 318.5,-417"/>
<text text-anchor="middle" x="253.5" y="-395.3" font-family="Helvetica,sans-Serif" font-size="14.00">验证 extern 类型约束</text>
</g>
<!-- check_layout&#45;&gt;handle_extern -->
<g id="edge10" class="edge">
<title>check_layout&#45;&gt;handle_extern</title>
<path fill="none" stroke="black" d="M377.91,-473.16C359.24,-467.42 337.77,-459.66 319.5,-450 305.8,-442.75 291.93,-432.74 280.47,-423.58"/>
<polygon fill="black" stroke="black" points="282.53,-420.74 272.58,-417.11 278.09,-426.16 282.53,-420.74"/>
<text text-anchor="middle" x="369.5" y="-438.8" font-family="Helvetica,sans-Serif" font-size="14.00">layout=extern</text>
</g>
<!-- handle_packed_type -->
<g id="node12" class="node">
<title>handle_packed_type</title>
<path fill="none" stroke="black" d="M496,-417C496,-417 361,-417 361,-417 355,-417 349,-411 349,-405 349,-405 349,-393 349,-393 349,-387 355,-381 361,-381 361,-381 496,-381 496,-381 502,-381 508,-387 508,-393 508,-393 508,-405 508,-405 508,-411 502,-417 496,-417"/>
<text text-anchor="middle" x="428.5" y="-395.3" font-family="Helvetica,sans-Serif" font-size="14.00">验证 packed 类型约束</text>
</g>
<!-- check_layout&#45;&gt;handle_packed_type -->
<g id="edge11" class="edge">
<title>check_layout&#45;&gt;handle_packed_type</title>
<path fill="none" stroke="black" d="M423.45,-467.86C423.52,-458.2 423.77,-445.92 424.5,-435 424.67,-432.44 424.89,-429.77 425.15,-427.11"/>
<polygon fill="black" stroke="black" points="428.64,-427.38 426.23,-417.06 421.68,-426.63 428.64,-427.38"/>
<text text-anchor="middle" x="477" y="-438.8" font-family="Helvetica,sans-Serif" font-size="14.00">layout=packed</text>
</g>
<!-- process_align -->
<g id="node13" class="node">
<title>process_align</title>
<path fill="none" stroke="black" d="M371.5,-344C371.5,-344 293.5,-344 293.5,-344 287.5,-344 281.5,-338 281.5,-332 281.5,-332 281.5,-320 281.5,-320 281.5,-314 287.5,-308 293.5,-308 293.5,-308 371.5,-308 371.5,-308 377.5,-308 383.5,-314 383.5,-320 383.5,-320 383.5,-332 383.5,-332 383.5,-338 377.5,-344 371.5,-344"/>
<text text-anchor="middle" x="332.5" y="-322.3" font-family="Helvetica,sans-Serif" font-size="14.00">处理对齐属性</text>
</g>
<!-- check_layout&#45;&gt;process_align -->
<g id="edge12" class="edge">
<title>check_layout&#45;&gt;process_align</title>
<path fill="none" stroke="black" d="M492.58,-475.74C507,-470.49 520.53,-462.41 529.5,-450 541.07,-434 542.71,-407.91 517.5,-381 485.87,-347.23 434.43,-334.19 393.81,-329.33"/>
<polygon fill="black" stroke="black" points="394.05,-325.84 383.74,-328.27 393.32,-332.8 394.05,-325.84"/>
<text text-anchor="middle" x="565.5" y="-395.3" font-family="Helvetica,sans-Serif" font-size="14.00">其他布局</text>
</g>
<!-- handle_extern&#45;&gt;process_align -->
<g id="edge13" class="edge">
<title>handle_extern&#45;&gt;process_align</title>
<path fill="none" stroke="black" d="M272.62,-380.81C282.62,-371.83 295.01,-360.69 305.92,-350.89"/>
<polygon fill="black" stroke="black" points="308.45,-353.32 313.55,-344.03 303.78,-348.11 308.45,-353.32"/>
</g>
<!-- handle_packed_type&#45;&gt;process_align -->
<g id="edge14" class="edge">
<title>handle_packed_type&#45;&gt;process_align</title>
<path fill="none" stroke="black" d="M405.26,-380.81C392.76,-371.57 377.18,-360.04 363.64,-350.03"/>
<polygon fill="black" stroke="black" points="365.65,-347.16 355.52,-344.03 361.48,-352.79 365.65,-347.16"/>
</g>
<!-- process_inits -->
<g id="node14" class="node">
<title>process_inits</title>
<path fill="none" stroke="black" d="M382.5,-271C382.5,-271 204.5,-271 204.5,-271 198.5,-271 192.5,-265 192.5,-259 192.5,-259 192.5,-247 192.5,-247 192.5,-241 198.5,-235 204.5,-235 204.5,-235 382.5,-235 382.5,-235 388.5,-235 394.5,-241 394.5,-247 394.5,-247 394.5,-259 394.5,-259 394.5,-265 388.5,-271 382.5,-271"/>
<text text-anchor="middle" x="293.5" y="-249.3" font-family="Helvetica,sans-Serif" font-size="14.00">跳过初始值处理（第二阶段）</text>
</g>
<!-- process_align&#45;&gt;process_inits -->
<g id="edge15" class="edge">
<title>process_align&#45;&gt;process_inits</title>
<path fill="none" stroke="black" d="M323.06,-307.81C318.46,-299.44 312.83,-289.2 307.73,-279.9"/>
<polygon fill="black" stroke="black" points="310.74,-278.11 302.85,-271.03 304.6,-281.48 310.74,-278.11"/>
</g>
<!-- finalize_struct -->
<g id="node15" class="node">
<title>finalize_struct</title>
<path fill="none" stroke="black" d="M332,-184C332,-184 211,-184 211,-184 205,-184 199,-178 199,-172 199,-172 199,-158 199,-158 199,-152 205,-146 211,-146 211,-146 332,-146 332,-146 338,-146 344,-152 344,-158 344,-158 344,-172 344,-172 344,-178 338,-184 332,-184"/>
<text text-anchor="middle" x="271.5" y="-168.8" font-family="Helvetica,sans-Serif" font-size="14.00">清除临时状态</text>
<text text-anchor="middle" x="271.5" y="-153.8" font-family="Helvetica,sans-Serif" font-size="14.00">设置字段初始化标志</text>
</g>
<!-- process_inits&#45;&gt;finalize_struct -->
<g id="edge16" class="edge">
<title>process_inits&#45;&gt;finalize_struct</title>
<path fill="none" stroke="black" d="M289.05,-234.6C286.07,-222.94 282.08,-207.34 278.65,-193.96"/>
<polygon fill="black" stroke="black" points="282.04,-193.09 276.17,-184.27 275.26,-194.82 282.04,-193.09"/>
<text text-anchor="middle" x="341" y="-205.8" font-family="Helvetica,sans-Serif" font-size="14.00">遍历所有字段完成</text>
</g>
<!-- flush_exports -->
<g id="node16" class="node">
<title>flush_exports</title>
<path fill="none" stroke="black" d="M313.5,-109C313.5,-109 201.5,-109 201.5,-109 195.5,-109 189.5,-103 189.5,-97 189.5,-97 189.5,-85 189.5,-85 189.5,-79 195.5,-73 201.5,-73 201.5,-73 313.5,-73 313.5,-73 319.5,-73 325.5,-79 325.5,-85 325.5,-85 325.5,-97 325.5,-97 325.5,-103 319.5,-109 313.5,-109"/>
<text text-anchor="middle" x="257.5" y="-87.3" font-family="Helvetica,sans-Serif" font-size="14.00">调用 flushExports</text>
</g>
<!-- finalize_struct&#45;&gt;flush_exports -->
<g id="edge17" class="edge">
<title>finalize_struct&#45;&gt;flush_exports</title>
<path fill="none" stroke="black" d="M267.97,-145.83C266.41,-137.81 264.54,-128.2 262.82,-119.34"/>
<polygon fill="black" stroke="black" points="266.23,-118.57 260.89,-109.42 259.36,-119.9 266.23,-118.57"/>
</g>
<!-- flush_exports&#45;&gt;end -->
<g id="edge18" class="edge">
<title>flush_exports&#45;&gt;end</title>
<path fill="none" stroke="black" d="M231.39,-72.99C216.94,-63.58 198.79,-51.76 183.16,-41.57"/>
<polygon fill="black" stroke="black" points="185.06,-38.64 174.77,-36.11 181.24,-44.5 185.06,-38.64"/>
</g>
</g>
</svg>
