<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: handleEvent Pages: 1 -->
<svg width="1234pt" height="404pt"
 viewBox="0.00 0.00 1233.62 404.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 400)">
<title>handleEvent</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-400 1229.62,-400 1229.62,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="none" stroke="black" cx="844.62" cy="-378" rx="80.69" ry="18"/>
<text text-anchor="middle" x="844.62" y="-374.3" font-family="Arial" font-size="14.00">handleEvent 入口</text>
</g>
<!-- event_switch -->
<g id="node3" class="node">
<title>event_switch</title>
<polygon fill="none" stroke="black" points="892.62,-323 796.62,-323 796.62,-287 892.62,-287 892.62,-323"/>
<text text-anchor="middle" x="844.62" y="-301.3" font-family="Arial" font-size="14.00">switch(event)</text>
</g>
<!-- start&#45;&gt;event_switch -->
<g id="edge1" class="edge">
<title>start&#45;&gt;event_switch</title>
<path fill="none" stroke="black" d="M844.62,-359.81C844.62,-351.79 844.62,-342.05 844.62,-333.07"/>
<polygon fill="black" stroke="black" points="848.12,-333.03 844.62,-323.03 841.12,-333.03 848.12,-333.03"/>
</g>
<!-- end -->
<g id="node2" class="node">
<title>end</title>
<ellipse fill="none" stroke="black" cx="771.62" cy="-18" rx="48.19" ry="18"/>
<text text-anchor="middle" x="771.62" y="-14.3" font-family="Arial" font-size="14.00">流程结束</text>
</g>
<!-- key_press -->
<g id="node4" class="node">
<title>key_press</title>
<polygon fill="none" stroke="black" points="170.12,-236 39.12,-236 39.12,-200 170.12,-200 170.12,-236"/>
<text text-anchor="middle" x="104.62" y="-214.3" font-family="Arial" font-size="14.00">匹配回车或Ctrl+J?</text>
</g>
<!-- event_switch&#45;&gt;key_press -->
<g id="edge2" class="edge">
<title>event_switch&#45;&gt;key_press</title>
<path fill="none" stroke="black" d="M796.58,-299.36C730.86,-292.95 609.23,-280.81 505.62,-269 392.14,-256.07 260.84,-239.37 180.26,-228.92"/>
<polygon fill="black" stroke="black" points="180.57,-225.43 170.21,-227.61 179.67,-232.37 180.57,-225.43"/>
<text text-anchor="middle" x="536.62" y="-257.8" font-family="Arial" font-size="14.00">key_press</text>
</g>
<!-- mouse -->
<g id="node6" class="node">
<title>mouse</title>
<polygon fill="none" stroke="black" points="480.12,-236 361.12,-236 361.12,-200 480.12,-200 480.12,-236"/>
<text text-anchor="middle" x="420.62" y="-214.3" font-family="Arial" font-size="14.00">mouse.type 判断</text>
</g>
<!-- event_switch&#45;&gt;mouse -->
<g id="edge6" class="edge">
<title>event_switch&#45;&gt;mouse</title>
<path fill="none" stroke="black" d="M796.55,-296.76C754.29,-290.19 691.2,-279.9 636.62,-269 587.52,-259.2 532.55,-246.45 490.35,-236.28"/>
<polygon fill="black" stroke="black" points="491,-232.83 480.46,-233.88 489.36,-239.64 491,-232.83"/>
<text text-anchor="middle" x="657.62" y="-257.8" font-family="Arial" font-size="14.00">mouse</text>
</g>
<!-- mouse_enter -->
<g id="node10" class="node">
<title>mouse_enter</title>
<polygon fill="none" stroke="black" points="761.62,-182 557.62,-182 557.62,-129 761.62,-129 761.62,-182"/>
<text text-anchor="middle" x="659.62" y="-166.8" font-family="Arial" font-size="14.00">设置 has_mouse=true</text>
<text text-anchor="middle" x="659.62" y="-151.8" font-family="Arial" font-size="14.00">设置鼠标指针形状</text>
<text text-anchor="middle" x="659.62" y="-136.8" font-family="Arial" font-size="14.00">调用 ctx.consumeAndRedraw()</text>
</g>
<!-- event_switch&#45;&gt;mouse_enter -->
<g id="edge13" class="edge">
<title>event_switch&#45;&gt;mouse_enter</title>
<path fill="none" stroke="black" d="M796.47,-288.23C784.21,-283.09 771.44,-276.68 760.62,-269 730.17,-247.4 702.38,-215.08 683.69,-190.61"/>
<polygon fill="black" stroke="black" points="686.27,-188.22 677.47,-182.31 680.67,-192.42 686.27,-188.22"/>
<text text-anchor="middle" x="800.62" y="-257.8" font-family="Arial" font-size="14.00">mouse_enter</text>
</g>
<!-- mouse_leave -->
<g id="node11" class="node">
<title>mouse_leave</title>
<polygon fill="none" stroke="black" points="922.12,-182 767.12,-182 767.12,-129 922.12,-129 922.12,-182"/>
<text text-anchor="middle" x="844.62" y="-166.8" font-family="Arial" font-size="14.00">设置 has_mouse=false</text>
<text text-anchor="middle" x="844.62" y="-151.8" font-family="Arial" font-size="14.00">mouse_down=false</text>
<text text-anchor="middle" x="844.62" y="-136.8" font-family="Arial" font-size="14.00">设置默认鼠标形状</text>
</g>
<!-- event_switch&#45;&gt;mouse_leave -->
<g id="edge15" class="edge">
<title>event_switch&#45;&gt;mouse_leave</title>
<path fill="none" stroke="black" d="M844.62,-286.79C844.62,-263.75 844.62,-222.29 844.62,-192.32"/>
<polygon fill="black" stroke="black" points="848.12,-192.25 844.62,-182.25 841.12,-192.25 848.12,-192.25"/>
<text text-anchor="middle" x="885.62" y="-257.8" font-family="Arial" font-size="14.00">mouse_leave</text>
</g>
<!-- focus_in -->
<g id="node12" class="node">
<title>focus_in</title>
<polygon fill="none" stroke="black" points="1054.12,-174.5 927.12,-174.5 927.12,-136.5 1054.12,-136.5 1054.12,-174.5"/>
<text text-anchor="middle" x="990.62" y="-159.3" font-family="Arial" font-size="14.00">设置 focused=true</text>
<text text-anchor="middle" x="990.62" y="-144.3" font-family="Arial" font-size="14.00">标记需要重绘</text>
</g>
<!-- event_switch&#45;&gt;focus_in -->
<g id="edge17" class="edge">
<title>event_switch&#45;&gt;focus_in</title>
<path fill="none" stroke="black" d="M893.06,-291.01C906.32,-285.76 919.96,-278.61 930.62,-269 956.19,-245.94 972.84,-209.36 981.97,-184.21"/>
<polygon fill="black" stroke="black" points="985.35,-185.13 985.32,-174.53 978.74,-182.84 985.35,-185.13"/>
<text text-anchor="middle" x="970.12" y="-257.8" font-family="Arial" font-size="14.00">focus_in</text>
</g>
<!-- focus_out -->
<g id="node13" class="node">
<title>focus_out</title>
<polygon fill="none" stroke="black" points="1191.62,-174.5 1059.62,-174.5 1059.62,-136.5 1191.62,-136.5 1191.62,-174.5"/>
<text text-anchor="middle" x="1125.62" y="-159.3" font-family="Arial" font-size="14.00">设置 focused=false</text>
<text text-anchor="middle" x="1125.62" y="-144.3" font-family="Arial" font-size="14.00">标记需要重绘</text>
</g>
<!-- event_switch&#45;&gt;focus_out -->
<g id="edge19" class="edge">
<title>event_switch&#45;&gt;focus_out</title>
<path fill="none" stroke="black" d="M892.87,-299.46C924.6,-294.98 966.26,-286.17 999.62,-269 1041.68,-247.35 1080.76,-208.31 1103.92,-182.4"/>
<polygon fill="black" stroke="black" points="1106.61,-184.64 1110.58,-174.81 1101.35,-180.02 1106.61,-184.64"/>
<text text-anchor="middle" x="1052.12" y="-257.8" font-family="Arial" font-size="14.00">focus_out</text>
</g>
<!-- default -->
<g id="node14" class="node">
<title>default</title>
<polygon fill="none" stroke="black" points="1225.12,-236 1166.12,-236 1166.12,-200 1225.12,-200 1225.12,-236"/>
<text text-anchor="middle" x="1195.62" y="-214.3" font-family="Arial" font-size="14.00">空操作</text>
</g>
<!-- event_switch&#45;&gt;default -->
<g id="edge21" class="edge">
<title>event_switch&#45;&gt;default</title>
<path fill="none" stroke="black" d="M892.8,-302.31C966.44,-299.07 1103.07,-290.33 1146.62,-269 1158.38,-263.24 1168.93,-253.46 1177.2,-244.07"/>
<polygon fill="black" stroke="black" points="1179.89,-246.31 1183.58,-236.37 1174.5,-241.84 1179.89,-246.31"/>
<text text-anchor="middle" x="1196.62" y="-257.8" font-family="Arial" font-size="14.00">其他事件</text>
</g>
<!-- key_press&#45;&gt;end -->
<g id="edge4" class="edge">
<title>key_press&#45;&gt;end</title>
<path fill="none" stroke="black" d="M79.41,-199.9C40.43,-171.48 -26.21,-113.61 11.62,-73 59.11,-22.01 543.31,-18.38 713.14,-18.68"/>
<polygon fill="black" stroke="black" points="713.38,-22.19 723.39,-18.71 713.39,-15.19 713.38,-22.19"/>
<text text-anchor="middle" x="19.12" y="-88.3" font-family="Arial" font-size="14.00">否</text>
</g>
<!-- doClick_1 -->
<g id="node5" class="node">
<title>doClick_1</title>
<polygon fill="none" stroke="black" points="179.12,-110 36.12,-110 36.12,-74 179.12,-74 179.12,-110"/>
<text text-anchor="middle" x="107.62" y="-88.3" font-family="Arial" font-size="14.00">调用 self.doClick(ctx)</text>
</g>
<!-- key_press&#45;&gt;doClick_1 -->
<g id="edge3" class="edge">
<title>key_press&#45;&gt;doClick_1</title>
<path fill="none" stroke="black" d="M104.59,-199.8C104.61,-182.05 104.79,-153.59 105.62,-129 105.71,-126.22 105.83,-123.32 105.97,-120.43"/>
<polygon fill="black" stroke="black" points="109.47,-120.38 106.51,-110.21 102.48,-120.01 109.47,-120.38"/>
<text text-anchor="middle" x="113.12" y="-151.8" font-family="Arial" font-size="14.00">是</text>
</g>
<!-- doClick_1&#45;&gt;end -->
<g id="edge5" class="edge">
<title>doClick_1&#45;&gt;end</title>
<path fill="none" stroke="black" d="M179.52,-74.53C182.58,-73.98 185.63,-73.47 188.62,-73 379.83,-43.02 609.13,-27.76 714.07,-21.91"/>
<polygon fill="black" stroke="black" points="714.34,-25.4 724.14,-21.36 713.96,-18.42 714.34,-25.4"/>
</g>
<!-- mouse_release -->
<g id="node7" class="node">
<title>mouse_release</title>
<polygon fill="none" stroke="black" points="363.62,-111 197.62,-111 197.62,-73 363.62,-73 363.62,-111"/>
<text text-anchor="middle" x="280.62" y="-95.8" font-family="Arial" font-size="14.00">设置 mouse_down=false</text>
<text text-anchor="middle" x="280.62" y="-80.8" font-family="Arial" font-size="14.00">调用 self.doClick(ctx)</text>
</g>
<!-- mouse&#45;&gt;mouse_release -->
<g id="edge7" class="edge">
<title>mouse&#45;&gt;mouse_release</title>
<path fill="none" stroke="black" d="M360.97,-217.96C290.42,-217.67 179.16,-212.24 152.62,-182 137.08,-164.3 138.39,-147.78 152.62,-129 157.92,-122 171.37,-115.98 187.66,-110.98"/>
<polygon fill="black" stroke="black" points="188.89,-114.27 197.54,-108.15 186.97,-107.54 188.89,-114.27"/>
<text text-anchor="middle" x="244.12" y="-151.8" font-family="Arial" font-size="14.00">release &amp;&amp; mouse_down=true</text>
</g>
<!-- mouse_press -->
<g id="node8" class="node">
<title>mouse_press</title>
<polygon fill="none" stroke="black" points="585.62,-111 381.62,-111 381.62,-73 585.62,-73 585.62,-111"/>
<text text-anchor="middle" x="483.62" y="-95.8" font-family="Arial" font-size="14.00">设置 mouse_down=true</text>
<text text-anchor="middle" x="483.62" y="-80.8" font-family="Arial" font-size="14.00">调用 ctx.consumeAndRedraw()</text>
</g>
<!-- mouse&#45;&gt;mouse_press -->
<g id="edge8" class="edge">
<title>mouse&#45;&gt;mouse_press</title>
<path fill="none" stroke="black" d="M368.2,-199.85C360.81,-195.21 354.19,-189.35 349.62,-182 337.18,-162 335.28,-147.69 349.62,-129 353.91,-123.4 363.25,-118.48 375.11,-114.22"/>
<polygon fill="black" stroke="black" points="376.22,-117.54 384.62,-111.09 374.03,-110.89 376.22,-117.54"/>
<text text-anchor="middle" x="411.12" y="-151.8" font-family="Arial" font-size="14.00">press &amp;&amp; button=left</text>
</g>
<!-- consumeEvent -->
<g id="node9" class="node">
<title>consumeEvent</title>
<polygon fill="none" stroke="black" points="771.62,-110 603.62,-110 603.62,-74 771.62,-74 771.62,-110"/>
<text text-anchor="middle" x="687.62" y="-88.3" font-family="Arial" font-size="14.00">调用 ctx.consumeEvent()</text>
</g>
<!-- mouse&#45;&gt;consumeEvent -->
<g id="edge9" class="edge">
<title>mouse&#45;&gt;consumeEvent</title>
<path fill="none" stroke="black" d="M453.06,-199.92C460.27,-194.93 467.33,-188.92 472.62,-182 487.73,-162.24 471.71,-145.17 490.62,-129 524.04,-100.42 545.65,-117.04 593.54,-110.91"/>
<polygon fill="black" stroke="black" points="594.14,-114.36 603.48,-109.36 593.06,-107.44 594.14,-114.36"/>
<text text-anchor="middle" x="519.62" y="-151.8" font-family="Arial" font-size="14.00">其他情况</text>
</g>
<!-- mouse_release&#45;&gt;end -->
<g id="edge10" class="edge">
<title>mouse_release&#45;&gt;end</title>
<path fill="none" stroke="black" d="M363.82,-74.49C366.79,-73.98 369.73,-73.48 372.62,-73 494.89,-52.78 639.17,-34.67 716.33,-25.44"/>
<polygon fill="black" stroke="black" points="716.79,-28.91 726.31,-24.25 715.97,-21.96 716.79,-28.91"/>
</g>
<!-- mouse_press&#45;&gt;end -->
<g id="edge11" class="edge">
<title>mouse_press&#45;&gt;end</title>
<path fill="none" stroke="black" d="M555.92,-72.92C607.97,-59.91 676.8,-42.71 722.55,-31.27"/>
<polygon fill="black" stroke="black" points="723.67,-34.59 732.52,-28.77 721.97,-27.8 723.67,-34.59"/>
</g>
<!-- consumeEvent&#45;&gt;end -->
<g id="edge12" class="edge">
<title>consumeEvent&#45;&gt;end</title>
<path fill="none" stroke="black" d="M707.52,-73.94C718.91,-64.18 733.31,-51.83 745.59,-41.31"/>
<polygon fill="black" stroke="black" points="747.97,-43.88 753.29,-34.71 743.42,-38.56 747.97,-43.88"/>
</g>
<!-- mouse_enter&#45;&gt;end -->
<g id="edge14" class="edge">
<title>mouse_enter&#45;&gt;end</title>
<path fill="none" stroke="black" d="M761.71,-129.45C769,-124.39 775.48,-118.3 780.62,-111 793.9,-92.11 789.41,-65.38 782.92,-45.6"/>
<polygon fill="black" stroke="black" points="786.13,-44.18 779.43,-35.97 779.55,-46.56 786.13,-44.18"/>
</g>
<!-- mouse_leave&#45;&gt;end -->
<g id="edge16" class="edge">
<title>mouse_leave&#45;&gt;end</title>
<path fill="none" stroke="black" d="M840.88,-128.8C836.83,-107.38 828.8,-76.79 813.62,-54 810.46,-49.26 806.48,-44.82 802.22,-40.8"/>
<polygon fill="black" stroke="black" points="804.26,-37.93 794.41,-34.04 799.68,-43.23 804.26,-37.93"/>
</g>
<!-- focus_in&#45;&gt;end -->
<g id="edge18" class="edge">
<title>focus_in&#45;&gt;end</title>
<path fill="none" stroke="black" d="M961.08,-136.23C920.1,-110.87 846.25,-65.18 803.87,-38.96"/>
<polygon fill="black" stroke="black" points="805.67,-35.96 795.33,-33.67 801.99,-41.91 805.67,-35.96"/>
</g>
<!-- focus_out&#45;&gt;end -->
<g id="edge20" class="edge">
<title>focus_out&#45;&gt;end</title>
<path fill="none" stroke="black" d="M1078.24,-136.37C1008.71,-109.75 880.11,-60.53 813.71,-35.11"/>
<polygon fill="black" stroke="black" points="814.59,-31.7 804,-31.39 812.09,-38.24 814.59,-31.7"/>
</g>
<!-- default&#45;&gt;end -->
<g id="edge22" class="edge">
<title>default&#45;&gt;end</title>
<path fill="none" stroke="black" d="M1200.56,-199.72C1204.98,-180.31 1208.56,-148.94 1192.62,-129 1147.06,-72.05 930.76,-38.43 827.17,-25.35"/>
<polygon fill="black" stroke="black" points="827.56,-21.87 817.21,-24.11 826.7,-28.82 827.56,-21.87"/>
</g>
</g>
</svg>
