<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="592pt" height="1078pt"
 viewBox="0.00 0.00 592.06 1078.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1074)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1074 588.06,-1074 588.06,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<polygon fill="none" stroke="black" points="471,-1070 388,-1070 388,-1034 471,-1034 471,-1070"/>
<text text-anchor="middle" x="429.5" y="-1049.5" font-family="Courier,monospace" font-size="10.00">开始 genCall</text>
</g>
<!-- get_pt_zcu -->
<g id="node2" class="node">
<title>get_pt_zcu</title>
<polygon fill="none" stroke="black" points="475.5,-997 383.5,-997 383.5,-961 475.5,-961 475.5,-997"/>
<text text-anchor="middle" x="429.5" y="-976.5" font-family="Courier,monospace" font-size="10.00">获取 pt 和 zcu</text>
</g>
<!-- start&#45;&gt;get_pt_zcu -->
<g id="edge1" class="edge">
<title>start&#45;&gt;get_pt_zcu</title>
<path fill="none" stroke="black" d="M429.5,-1033.81C429.5,-1025.79 429.5,-1016.05 429.5,-1007.07"/>
<polygon fill="black" stroke="black" points="433,-1007.03 429.5,-997.03 426,-1007.03 433,-1007.03"/>
</g>
<!-- determine_fn_ty -->
<g id="node3" class="node">
<title>determine_fn_ty</title>
<polygon fill="none" stroke="black" points="502.5,-924 356.5,-924 356.5,-888 502.5,-888 502.5,-924"/>
<text text-anchor="middle" x="429.5" y="-903.5" font-family="Courier,monospace" font-size="10.00">根据 info 类型确定 fn_ty</text>
</g>
<!-- get_pt_zcu&#45;&gt;determine_fn_ty -->
<g id="edge2" class="edge">
<title>get_pt_zcu&#45;&gt;determine_fn_ty</title>
<path fill="none" stroke="black" d="M429.5,-960.81C429.5,-952.79 429.5,-943.05 429.5,-934.07"/>
<polygon fill="black" stroke="black" points="433,-934.03 429.5,-924.03 426,-934.03 433,-934.03"/>
</g>
<!-- get_fn_info -->
<g id="node4" class="node">
<title>get_fn_info</title>
<polygon fill="none" stroke="black" points="423,-841 340,-841 340,-805 423,-805 423,-841"/>
<text text-anchor="middle" x="381.5" y="-820.5" font-family="Courier,monospace" font-size="10.00">获取 fn_info</text>
</g>
<!-- determine_fn_ty&#45;&gt;get_fn_info -->
<g id="edge3" class="edge">
<title>determine_fn_ty&#45;&gt;get_fn_info</title>
<path fill="none" stroke="black" d="M419.32,-887.82C412.83,-876.87 404.29,-862.46 396.97,-850.11"/>
<polygon fill="black" stroke="black" points="399.77,-847.97 391.66,-841.15 393.75,-851.54 399.77,-847.97"/>
</g>
<!-- handle_lib_call -->
<g id="node15" class="node">
<title>handle_lib_call</title>
<polygon fill="none" stroke="black" points="477.5,-787 370.88,-769 477.5,-751 584.12,-769 477.5,-787"/>
<text text-anchor="middle" x="477.5" y="-766.5" font-family="Courier,monospace" font-size="10.00">处理 lib 调用（TODO）</text>
</g>
<!-- determine_fn_ty&#45;&gt;handle_lib_call -->
<g id="edge14" class="edge">
<title>determine_fn_ty&#45;&gt;handle_lib_call</title>
<path fill="none" stroke="black" d="M435.58,-887.9C443.86,-864.62 458.74,-822.77 468.36,-795.7"/>
<polygon fill="black" stroke="black" points="471.72,-796.71 471.77,-786.12 465.12,-794.37 471.72,-796.71"/>
<text text-anchor="middle" x="480.5" y="-862" font-family="Courier,monospace" font-size="10.00">info 是 .lib</text>
</g>
<!-- alloc_var_args -->
<g id="node5" class="node">
<title>alloc_var_args</title>
<polygon fill="none" stroke="black" points="427.5,-733 283.5,-733 283.5,-697 427.5,-697 427.5,-733"/>
<text text-anchor="middle" x="355.5" y="-712.5" font-family="Courier,monospace" font-size="10.00">分配 var_args 并填充参数</text>
</g>
<!-- get_fn_info&#45;&gt;alloc_var_args -->
<g id="edge4" class="edge">
<title>get_fn_info&#45;&gt;alloc_var_args</title>
<path fill="none" stroke="black" d="M375.05,-804.7C373.1,-799.1 371.07,-792.83 369.5,-787 365.64,-772.64 362.36,-756.38 359.94,-743.05"/>
<polygon fill="black" stroke="black" points="363.37,-742.32 358.2,-733.08 356.47,-743.53 363.37,-742.32"/>
</g>
<!-- resolve_call_info -->
<g id="node6" class="node">
<title>resolve_call_info</title>
<polygon fill="none" stroke="black" points="381.5,-660 247.5,-660 247.5,-624 381.5,-624 381.5,-660"/>
<text text-anchor="middle" x="314.5" y="-639.5" font-family="Courier,monospace" font-size="10.00">解析调用约定 call_info</text>
</g>
<!-- alloc_var_args&#45;&gt;resolve_call_info -->
<g id="edge5" class="edge">
<title>alloc_var_args&#45;&gt;resolve_call_info</title>
<path fill="none" stroke="black" d="M345.58,-696.81C340.74,-688.44 334.83,-678.2 329.46,-668.9"/>
<polygon fill="black" stroke="black" points="332.37,-666.94 324.33,-660.03 326.3,-670.44 332.37,-666.94"/>
</g>
<!-- error_path -->
<g id="node16" class="node">
<title>error_path</title>
<ellipse fill="none" stroke="black" cx="315.5" cy="-91" rx="32.93" ry="18"/>
<text text-anchor="middle" x="315.5" y="-88.5" font-family="Courier,monospace" font-size="10.00">返回错误</text>
</g>
<!-- alloc_var_args&#45;&gt;error_path -->
<g id="edge19" class="edge">
<title>alloc_var_args&#45;&gt;error_path</title>
<path fill="none" stroke="black" d="M378.71,-696.83C393.35,-683.88 409.5,-664.68 409.5,-643 409.5,-643 409.5,-643 409.5,-173 409.5,-141.01 377.87,-118.88 351.31,-105.93"/>
<polygon fill="black" stroke="black" points="352.73,-102.73 342.19,-101.74 349.81,-109.09 352.73,-102.73"/>
<text text-anchor="middle" x="429.5" y="-410.5" font-family="Courier,monospace" font-size="10.00">分配失败</text>
</g>
<!-- adjust_frame -->
<g id="node7" class="node">
<title>adjust_frame</title>
<polygon fill="none" stroke="black" points="287.5,-587 173.5,-587 173.5,-551 287.5,-551 287.5,-587"/>
<text text-anchor="middle" x="230.5" y="-566.5" font-family="Courier,monospace" font-size="10.00">调整调用帧大小和对齐</text>
</g>
<!-- resolve_call_info&#45;&gt;adjust_frame -->
<g id="edge6" class="edge">
<title>resolve_call_info&#45;&gt;adjust_frame</title>
<path fill="none" stroke="black" d="M294.17,-623.81C283.44,-614.74 270.11,-603.48 258.42,-593.6"/>
<polygon fill="black" stroke="black" points="260.54,-590.81 250.65,-587.03 256.02,-596.16 260.54,-590.81"/>
</g>
<!-- resolve_call_info&#45;&gt;error_path -->
<g id="edge18" class="edge">
<title>resolve_call_info&#45;&gt;error_path</title>
<path fill="none" stroke="black" d="M314.88,-623.78C315.16,-609.41 315.5,-588.37 315.5,-570 315.5,-570 315.5,-570 315.5,-173 315.5,-155.06 315.5,-134.89 315.5,-119.16"/>
<polygon fill="black" stroke="black" points="319,-119.07 315.5,-109.07 312,-119.07 319,-119.07"/>
<text text-anchor="middle" x="355" y="-369" font-family="Courier,monospace" font-size="10.00">解析调用约定失败</text>
</g>
<!-- init_reg_locks -->
<g id="node8" class="node">
<title>init_reg_locks</title>
<polygon fill="none" stroke="black" points="281.5,-514 177.5,-514 177.5,-478 281.5,-478 281.5,-514"/>
<text text-anchor="middle" x="229.5" y="-493.5" font-family="Courier,monospace" font-size="10.00">初始化寄存器锁列表</text>
</g>
<!-- adjust_frame&#45;&gt;init_reg_locks -->
<g id="edge7" class="edge">
<title>adjust_frame&#45;&gt;init_reg_locks</title>
<path fill="none" stroke="black" d="M230.26,-550.81C230.14,-542.79 230.01,-533.05 229.88,-524.07"/>
<polygon fill="black" stroke="black" points="233.38,-523.98 229.74,-514.03 226.38,-524.08 233.38,-523.98"/>
</g>
<!-- handle_return -->
<g id="node9" class="node">
<title>handle_return</title>
<polygon fill="none" stroke="black" points="269,-431 184,-431 184,-395 269,-395 269,-431"/>
<text text-anchor="middle" x="226.5" y="-410.5" font-family="Courier,monospace" font-size="10.00">处理返回值位置</text>
</g>
<!-- init_reg_locks&#45;&gt;handle_return -->
<g id="edge8" class="edge">
<title>init_reg_locks&#45;&gt;handle_return</title>
<path fill="none" stroke="black" d="M228.86,-477.82C228.47,-467.19 227.96,-453.31 227.51,-441.2"/>
<polygon fill="black" stroke="black" points="231,-441.02 227.14,-431.15 224.01,-441.28 231,-441.02"/>
</g>
<!-- process_args -->
<g id="node10" class="node">
<title>process_args</title>
<polygon fill="none" stroke="black" points="287.5,-348 153.5,-348 153.5,-312 287.5,-312 287.5,-348"/>
<text text-anchor="middle" x="220.5" y="-327.5" font-family="Courier,monospace" font-size="10.00">遍历参数处理寄存器和栈帧</text>
</g>
<!-- handle_return&#45;&gt;process_args -->
<g id="edge9" class="edge">
<title>handle_return&#45;&gt;process_args</title>
<path fill="none" stroke="black" d="M225.23,-394.82C224.44,-384.19 223.41,-370.31 222.52,-358.2"/>
<polygon fill="black" stroke="black" points="226,-357.87 221.77,-348.15 219.02,-358.38 226,-357.87"/>
</g>
<!-- gen_arg_instructions -->
<g id="node11" class="node">
<title>gen_arg_instructions</title>
<polygon fill="none" stroke="black" points="208,-275 113,-275 113,-239 208,-239 208,-275"/>
<text text-anchor="middle" x="160.5" y="-254.5" font-family="Courier,monospace" font-size="10.00">生成参数传递指令</text>
</g>
<!-- process_args&#45;&gt;gen_arg_instructions -->
<g id="edge10" class="edge">
<title>process_args&#45;&gt;gen_arg_instructions</title>
<path fill="none" stroke="black" d="M205.98,-311.81C198.61,-303.09 189.52,-292.34 181.41,-282.75"/>
<polygon fill="black" stroke="black" points="184.02,-280.41 174.89,-275.03 178.67,-284.93 184.02,-280.41"/>
</g>
<!-- process_args&#45;&gt;error_path -->
<g id="edge17" class="edge">
<title>process_args&#45;&gt;error_path</title>
<path fill="none" stroke="black" d="M221.67,-311.91C223.72,-288.3 229.11,-244.69 242.5,-210 256.04,-174.93 280.2,-138.76 297,-115.87"/>
<polygon fill="black" stroke="black" points="299.87,-117.89 303.04,-107.78 294.26,-113.7 299.87,-117.89"/>
<text text-anchor="middle" x="272" y="-213" font-family="Courier,monospace" font-size="10.00">处理参数失败</text>
</g>
<!-- gen_call_inst -->
<g id="node12" class="node">
<title>gen_call_inst</title>
<polygon fill="none" stroke="black" points="213.5,-192 83.5,-192 83.5,-156 213.5,-156 213.5,-192"/>
<text text-anchor="middle" x="148.5" y="-171.5" font-family="Courier,monospace" font-size="10.00">根据 info 生成调用指令</text>
</g>
<!-- gen_arg_instructions&#45;&gt;gen_call_inst -->
<g id="edge11" class="edge">
<title>gen_arg_instructions&#45;&gt;gen_call_inst</title>
<path fill="none" stroke="black" d="M157.96,-238.82C156.38,-228.19 154.32,-214.31 152.53,-202.2"/>
<polygon fill="black" stroke="black" points="155.97,-201.53 151.04,-192.15 149.04,-202.56 155.97,-201.53"/>
</g>
<!-- reset_vector -->
<g id="node13" class="node">
<title>reset_vector</title>
<polygon fill="none" stroke="black" points="142,-109 67,-109 67,-73 142,-73 142,-109"/>
<text text-anchor="middle" x="104.5" y="-88.5" font-family="Courier,monospace" font-size="10.00">重置向量设置</text>
</g>
<!-- gen_call_inst&#45;&gt;reset_vector -->
<g id="edge12" class="edge">
<title>gen_call_inst&#45;&gt;reset_vector</title>
<path fill="none" stroke="black" d="M120.27,-155.93C114.35,-150.93 108.88,-144.92 105.5,-138 102.76,-132.39 101.6,-125.92 101.31,-119.63"/>
<polygon fill="black" stroke="black" points="104.81,-119.49 101.52,-109.42 97.81,-119.35 104.81,-119.49"/>
<text text-anchor="middle" x="125.5" y="-130" font-family="Courier,monospace" font-size="10.00">调用成功</text>
</g>
<!-- gen_call_inst&#45;&gt;error_path -->
<g id="edge16" class="edge">
<title>gen_call_inst&#45;&gt;error_path</title>
<path fill="none" stroke="black" d="M151.96,-155.82C154.8,-146.02 159.82,-134.27 168.5,-127 197.32,-102.86 239.94,-94.78 271.87,-92.34"/>
<polygon fill="black" stroke="black" points="272.49,-95.81 282.26,-91.72 272.07,-88.82 272.49,-95.81"/>
<text text-anchor="middle" x="198" y="-130" font-family="Courier,monospace" font-size="10.00">生成指令失败</text>
</g>
<!-- return_result -->
<g id="node14" class="node">
<title>return_result</title>
<polygon fill="none" stroke="black" points="209,-36 0,-36 0,0 209,0 209,-36"/>
<text text-anchor="middle" x="104.5" y="-15.5" font-family="Courier,monospace" font-size="10.00">返回 call_info.return_value.short</text>
</g>
<!-- reset_vector&#45;&gt;return_result -->
<g id="edge13" class="edge">
<title>reset_vector&#45;&gt;return_result</title>
<path fill="none" stroke="black" d="M104.5,-72.81C104.5,-64.79 104.5,-55.05 104.5,-46.07"/>
<polygon fill="black" stroke="black" points="108,-46.03 104.5,-36.03 101,-46.03 108,-46.03"/>
</g>
<!-- handle_lib_call&#45;&gt;error_path -->
<g id="edge15" class="edge">
<title>handle_lib_call&#45;&gt;error_path</title>
<path fill="none" stroke="black" d="M477.5,-750.94C477.5,-733.02 477.5,-704.03 477.5,-679 477.5,-679 477.5,-679 477.5,-173 477.5,-119.68 406.43,-101.46 358.44,-95.23"/>
<polygon fill="black" stroke="black" points="358.62,-91.73 348.28,-94.05 357.81,-98.68 358.62,-91.73"/>
<text text-anchor="middle" x="515" y="-452" font-family="Courier,monospace" font-size="10.00">返回 TODO 错误</text>
</g>
</g>
</svg>
