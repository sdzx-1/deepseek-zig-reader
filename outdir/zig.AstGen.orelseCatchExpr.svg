<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: orelseCatchExpr Pages: 1 -->
<svg width="697pt" height="1078pt"
 viewBox="0.00 0.00 697.00 1078.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1074)">
<title>orelseCatchExpr</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1074 693,-1074 693,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_main</title>
<polygon fill="none" stroke="black" points="168,-693 168,-1062 492,-1062 492,-693 168,-693"/>
<text text-anchor="middle" x="330" y="-1046.8" font-family="Times,serif" font-size="14.00">主流程</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_then</title>
<polygon fill="none" stroke="black" points="21,-350 21,-660 231,-660 231,-350 21,-350"/>
<text text-anchor="middle" x="126" y="-644.8" font-family="Times,serif" font-size="14.00">Then 分支</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_else</title>
<polygon fill="none" stroke="black" points="391,-277 391,-660 681,-660 681,-277 391,-277"/>
<text text-anchor="middle" x="536" y="-644.8" font-family="Times,serif" font-size="14.00">Else 分支</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_merge</title>
<polygon fill="none" stroke="black" points="8,-8 8,-258 260,-258 260,-8 8,-8"/>
<text text-anchor="middle" x="134" y="-242.8" font-family="Times,serif" font-size="14.00">合并处理</text>
</g>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<polygon fill="lightblue" stroke="black" points="414,-1031 246,-1031 246,-995 414,-995 414,-1031"/>
<text text-anchor="middle" x="330" y="-1009.3" font-family="Times,serif" font-size="14.00">开始 orelseCatchExpr</text>
</g>
<!-- init -->
<g id="node3" class="node">
<title>init</title>
<polygon fill="lightblue" stroke="black" points="404.5,-958 255.5,-958 255.5,-922 404.5,-922 404.5,-958"/>
<text text-anchor="middle" x="330" y="-936.3" font-family="Times,serif" font-size="14.00">初始化 astgen, tree</text>
</g>
<!-- start&#45;&gt;init -->
<g id="edge1" class="edge">
<title>start&#45;&gt;init</title>
<path fill="none" stroke="black" d="M330,-994.81C330,-986.79 330,-977.05 330,-968.07"/>
<polygon fill="black" stroke="black" points="333.5,-968.03 330,-958.03 326.5,-968.03 333.5,-968.03"/>
</g>
<!-- end -->
<g id="node2" class="node">
<title>end</title>
<polygon fill="lightblue" stroke="black" points="477.5,-52 270.5,-52 270.5,-16 477.5,-16 477.5,-52"/>
<text text-anchor="middle" x="374" y="-30.3" font-family="Times,serif" font-size="14.00">返回 block.toRef() 或 rvalue</text>
</g>
<!-- block_scope_setup -->
<g id="node4" class="node">
<title>block_scope_setup</title>
<polygon fill="lightblue" stroke="black" points="484,-885 176,-885 176,-849 484,-849 484,-885"/>
<text text-anchor="middle" x="330" y="-863.3" font-family="Times,serif" font-size="14.00">创建 block_scope 并配置 break_result_info</text>
</g>
<!-- init&#45;&gt;block_scope_setup -->
<g id="edge2" class="edge">
<title>init&#45;&gt;block_scope_setup</title>
<path fill="none" stroke="black" d="M330,-921.81C330,-913.79 330,-904.05 330,-895.07"/>
<polygon fill="black" stroke="black" points="333.5,-895.03 330,-885.03 326.5,-895.03 333.5,-895.03"/>
</g>
<!-- operand_cond -->
<g id="node5" class="node">
<title>operand_cond</title>
<polygon fill="lightblue" stroke="black" points="412,-812 248,-812 248,-774 412,-774 412,-812"/>
<text text-anchor="middle" x="330" y="-796.8" font-family="Times,serif" font-size="14.00">生成 operand 和 cond</text>
<text text-anchor="middle" x="330" y="-781.8" font-family="Times,serif" font-size="14.00">添加 condbr 指令</text>
</g>
<!-- block_scope_setup&#45;&gt;operand_cond -->
<g id="edge3" class="edge">
<title>block_scope_setup&#45;&gt;operand_cond</title>
<path fill="none" stroke="black" d="M330,-848.94C330,-840.99 330,-831.31 330,-822.31"/>
<polygon fill="black" stroke="black" points="333.5,-822.2 330,-812.2 326.5,-822.2 333.5,-822.2"/>
</g>
<!-- create_block -->
<g id="node6" class="node">
<title>create_block</title>
<polygon fill="lightblue" stroke="black" points="432.5,-737 227.5,-737 227.5,-701 432.5,-701 432.5,-737"/>
<text text-anchor="middle" x="330" y="-715.3" font-family="Times,serif" font-size="14.00">创建 block 指令并添加到父块</text>
</g>
<!-- operand_cond&#45;&gt;create_block -->
<g id="edge4" class="edge">
<title>operand_cond&#45;&gt;create_block</title>
<path fill="none" stroke="black" d="M330,-773.83C330,-765.89 330,-756.41 330,-747.63"/>
<polygon fill="black" stroke="black" points="333.5,-747.42 330,-737.42 326.5,-747.42 333.5,-747.42"/>
</g>
<!-- then_start -->
<g id="node7" class="node">
<title>then_start</title>
<polygon fill="lightblue" stroke="black" points="215,-629 87,-629 87,-593 215,-593 215,-629"/>
<text text-anchor="middle" x="151" y="-607.3" font-family="Times,serif" font-size="14.00">进入 then_scope</text>
</g>
<!-- operand_cond&#45;&gt;then_start -->
<g id="edge20" class="edge">
<title>operand_cond&#45;&gt;then_start</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M247.87,-784.64C215.87,-777.42 181.93,-763.52 161,-737 139.21,-709.39 140.94,-666.84 145.18,-639.21"/>
<polygon fill="black" stroke="black" points="148.68,-639.52 146.96,-629.07 141.79,-638.31 148.68,-639.52"/>
<text text-anchor="middle" x="190" y="-715.3" font-family="Times,serif" font-size="14.00">条件跳转</text>
</g>
<!-- else_start -->
<g id="node11" class="node">
<title>else_start</title>
<polygon fill="lightblue" stroke="black" points="531.5,-629 406.5,-629 406.5,-593 531.5,-593 531.5,-629"/>
<text text-anchor="middle" x="469" y="-607.3" font-family="Times,serif" font-size="14.00">进入 else_scope</text>
</g>
<!-- operand_cond&#45;&gt;else_start -->
<g id="edge21" class="edge">
<title>operand_cond&#45;&gt;else_start</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M390.16,-773.94C409.21,-765.51 428.73,-753.57 442,-737 464.3,-709.16 469.24,-667.02 469.83,-639.51"/>
<polygon fill="black" stroke="black" points="473.33,-639.4 469.87,-629.39 466.33,-639.38 473.33,-639.4"/>
<text text-anchor="middle" x="491" y="-715.3" font-family="Times,serif" font-size="14.00">条件跳转</text>
</g>
<!-- create_block&#45;&gt;then_start -->
<g id="edge14" class="edge">
<title>create_block&#45;&gt;then_start</title>
<path fill="none" stroke="black" d="M301.24,-700.97C270.67,-682.86 222.19,-654.16 188.61,-634.27"/>
<polygon fill="black" stroke="black" points="190.37,-631.25 179.98,-629.16 186.81,-637.27 190.37,-631.25"/>
<text text-anchor="middle" x="304" y="-671.8" font-family="Times,serif" font-size="14.00">cond=true</text>
</g>
<!-- create_block&#45;&gt;else_start -->
<g id="edge15" class="edge">
<title>create_block&#45;&gt;else_start</title>
<path fill="none" stroke="black" d="M343.45,-700.59C351.85,-690.38 363.27,-677.64 375,-668 390.48,-655.28 409.16,-643.54 425.78,-634.13"/>
<polygon fill="black" stroke="black" points="427.71,-637.05 434.76,-629.14 424.32,-630.93 427.71,-637.05"/>
<text text-anchor="middle" x="415" y="-671.8" font-family="Times,serif" font-size="14.00">cond=false</text>
</g>
<!-- unwrapped_payload -->
<g id="node8" class="node">
<title>unwrapped_payload</title>
<polygon fill="lightblue" stroke="black" points="221.5,-556 30.5,-556 30.5,-520 221.5,-520 221.5,-556"/>
<text text-anchor="middle" x="126" y="-534.3" font-family="Times,serif" font-size="14.00">生成 unwrapped_payload</text>
</g>
<!-- then_start&#45;&gt;unwrapped_payload -->
<g id="edge5" class="edge">
<title>then_start&#45;&gt;unwrapped_payload</title>
<path fill="none" stroke="black" d="M144.95,-592.81C142.06,-584.62 138.54,-574.62 135.33,-565.48"/>
<polygon fill="black" stroke="black" points="138.62,-564.3 132,-556.03 132.02,-566.62 138.62,-564.3"/>
</g>
<!-- then_result -->
<g id="node9" class="node">
<title>then_result</title>
<polygon fill="lightblue" stroke="black" points="223,-482 29,-482 29,-446 223,-446 223,-482"/>
<text text-anchor="middle" x="126" y="-460.3" font-family="Times,serif" font-size="14.00">根据 ri.rl 生成 then_result</text>
</g>
<!-- unwrapped_payload&#45;&gt;then_result -->
<g id="edge6" class="edge">
<title>unwrapped_payload&#45;&gt;then_result</title>
<path fill="none" stroke="black" d="M126,-519.94C126,-511.81 126,-501.88 126,-492.7"/>
<polygon fill="black" stroke="black" points="129.5,-492.44 126,-482.44 122.5,-492.44 129.5,-492.44"/>
</g>
<!-- then_break -->
<g id="node10" class="node">
<title>then_break</title>
<polygon fill="lightblue" stroke="black" points="202.5,-394 53.5,-394 53.5,-358 202.5,-358 202.5,-394"/>
<text text-anchor="middle" x="128" y="-372.3" font-family="Times,serif" font-size="14.00">添加 break 到 block</text>
</g>
<!-- then_result&#45;&gt;then_break -->
<g id="edge7" class="edge">
<title>then_result&#45;&gt;then_break</title>
<path fill="none" stroke="black" d="M126.4,-445.6C126.68,-433.75 127.05,-417.82 127.37,-404.29"/>
<polygon fill="black" stroke="black" points="130.87,-404.16 127.6,-394.08 123.87,-404 130.87,-404.16"/>
</g>
<!-- set_condbr -->
<g id="node16" class="node">
<title>set_condbr</title>
<polygon fill="lightblue" stroke="black" points="251.5,-227 32.5,-227 32.5,-191 251.5,-191 251.5,-227"/>
<text text-anchor="middle" x="142" y="-205.3" font-family="Times,serif" font-size="14.00">设置 condbr 的 then/else 分支</text>
</g>
<!-- then_break&#45;&gt;set_condbr -->
<g id="edge16" class="edge">
<title>then_break&#45;&gt;set_condbr</title>
<path fill="none" stroke="black" d="M129.45,-357.96C131.87,-329.43 136.76,-271.75 139.67,-237.44"/>
<polygon fill="black" stroke="black" points="143.18,-237.45 140.54,-227.19 136.21,-236.86 143.18,-237.45"/>
</g>
<!-- check_err_trace -->
<g id="node12" class="node">
<title>check_err_trace</title>
<polygon fill="lightblue" stroke="black" points="587,-556 399,-556 399,-520 587,-520 587,-556"/>
<text text-anchor="middle" x="493" y="-534.3" font-family="Times,serif" font-size="14.00">检查是否需要保存错误追踪</text>
</g>
<!-- else_start&#45;&gt;check_err_trace -->
<g id="edge8" class="edge">
<title>else_start&#45;&gt;check_err_trace</title>
<path fill="none" stroke="black" d="M474.81,-592.81C477.55,-584.7 480.89,-574.84 483.95,-565.78"/>
<polygon fill="black" stroke="black" points="487.36,-566.62 487.24,-556.03 480.73,-564.38 487.36,-566.62"/>
</g>
<!-- handle_payload -->
<g id="node13" class="node">
<title>handle_payload</title>
<polygon fill="lightblue" stroke="black" points="568.5,-483 417.5,-483 417.5,-445 568.5,-445 568.5,-483"/>
<text text-anchor="middle" x="493" y="-467.8" font-family="Times,serif" font-size="14.00">处理 payload_token</text>
<text text-anchor="middle" x="493" y="-452.8" font-family="Times,serif" font-size="14.00">（错误捕获检查）</text>
</g>
<!-- check_err_trace&#45;&gt;handle_payload -->
<g id="edge9" class="edge">
<title>check_err_trace&#45;&gt;handle_payload</title>
<path fill="none" stroke="black" d="M493,-519.94C493,-511.99 493,-502.31 493,-493.31"/>
<polygon fill="black" stroke="black" points="496.5,-493.2 493,-483.2 489.5,-493.2 496.5,-493.2"/>
</g>
<!-- else_result -->
<g id="node14" class="node">
<title>else_result</title>
<polygon fill="lightblue" stroke="black" points="582,-394 456,-394 456,-358 582,-358 582,-394"/>
<text text-anchor="middle" x="519" y="-372.3" font-family="Times,serif" font-size="14.00">生成 else_result</text>
</g>
<!-- handle_payload&#45;&gt;else_result -->
<g id="edge10" class="edge">
<title>handle_payload&#45;&gt;else_result</title>
<path fill="none" stroke="black" d="M498.51,-444.76C502.13,-432.82 506.91,-417.01 510.94,-403.66"/>
<polygon fill="black" stroke="black" points="514.3,-404.63 513.85,-394.04 507.6,-402.6 514.3,-404.63"/>
</g>
<!-- astgen_error -->
<g id="node19" class="node">
<title>astgen_error</title>
<polygon fill="pink" stroke="black" points="383,-394 239,-394 239,-358 383,-358 383,-394"/>
<text text-anchor="middle" x="311" y="-372.3" font-family="Times,serif" font-size="14.00">向 astgen 添加错误</text>
</g>
<!-- handle_payload&#45;&gt;astgen_error -->
<g id="edge22" class="edge">
<title>handle_payload&#45;&gt;astgen_error</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M417.18,-447.31C400.08,-442.16 382.44,-435.51 367,-427 354.75,-420.25 342.93,-410.37 333.33,-401.18"/>
<polygon fill="black" stroke="black" points="335.7,-398.6 326.14,-394.02 330.76,-403.56 335.7,-398.6"/>
<text text-anchor="middle" x="433.5" y="-415.8" font-family="Times,serif" font-size="14.00">payload 为 _ 时报错</text>
</g>
<!-- else_break -->
<g id="node15" class="node">
<title>else_break</title>
<polygon fill="lightblue" stroke="black" points="672.5,-321 399.5,-321 399.5,-285 672.5,-285 672.5,-321"/>
<text text-anchor="middle" x="536" y="-299.3" font-family="Times,serif" font-size="14.00">添加 break 到 block（若非 noreturn）</text>
</g>
<!-- else_result&#45;&gt;else_break -->
<g id="edge11" class="edge">
<title>else_result&#45;&gt;else_break</title>
<path fill="none" stroke="black" d="M523.12,-357.81C525.06,-349.7 527.42,-339.84 529.59,-330.78"/>
<polygon fill="black" stroke="black" points="533,-331.57 531.92,-321.03 526.19,-329.94 533,-331.57"/>
</g>
<!-- else_break&#45;&gt;set_condbr -->
<g id="edge17" class="edge">
<title>else_break&#45;&gt;set_condbr</title>
<path fill="none" stroke="black" d="M462.81,-284.91C395.47,-269.19 295.66,-245.88 225.29,-229.45"/>
<polygon fill="black" stroke="black" points="225.66,-225.94 215.13,-227.08 224.07,-232.76 225.66,-225.94"/>
</g>
<!-- check_rvalue -->
<g id="node17" class="node">
<title>check_rvalue</title>
<polygon fill="lightblue" stroke="black" points="243,-154 59,-154 59,-118 243,-118 243,-154"/>
<text text-anchor="middle" x="151" y="-132.3" font-family="Times,serif" font-size="14.00">检查 need_result_rvalue</text>
</g>
<!-- set_condbr&#45;&gt;check_rvalue -->
<g id="edge12" class="edge">
<title>set_condbr&#45;&gt;check_rvalue</title>
<path fill="none" stroke="black" d="M144.18,-190.81C145.2,-182.79 146.43,-173.05 147.57,-164.07"/>
<polygon fill="black" stroke="black" points="151.06,-164.39 148.84,-154.03 144.11,-163.51 151.06,-164.39"/>
</g>
<!-- check_rvalue&#45;&gt;end -->
<g id="edge18" class="edge">
<title>check_rvalue&#45;&gt;end</title>
<path fill="none" stroke="black" d="M243.12,-126.42C284.61,-120.95 327.88,-112.48 344,-100 356.06,-90.66 363.45,-75.34 367.88,-61.92"/>
<polygon fill="black" stroke="black" points="371.29,-62.73 370.71,-52.15 364.56,-60.78 371.29,-62.73"/>
<text text-anchor="middle" x="453" y="-88.8" font-family="Times,serif" font-size="14.00">need_result_rvalue=true</text>
<text text-anchor="middle" x="453" y="-73.8" font-family="Times,serif" font-size="14.00">调用 rvalue</text>
</g>
<!-- check_rvalue&#45;&gt;end -->
<g id="edge19" class="edge">
<title>check_rvalue&#45;&gt;end</title>
<path fill="none" stroke="black" d="M147.99,-117.99C146.44,-103.31 146.94,-82.54 159,-70 160,-68.96 209.36,-60.88 260.52,-52.76"/>
<polygon fill="black" stroke="black" points="261.09,-56.21 270.42,-51.19 260,-49.3 261.09,-56.21"/>
<text text-anchor="middle" x="249.5" y="-88.8" font-family="Times,serif" font-size="14.00">need_result_rvalue=false</text>
<text text-anchor="middle" x="249.5" y="-73.8" font-family="Times,serif" font-size="14.00">直接返回</text>
</g>
<!-- return -->
<g id="node18" class="node">
<title>return</title>
<polygon fill="lightblue" stroke="black" points="252,-52 16,-52 16,-16 252,-16 252,-52"/>
<text text-anchor="middle" x="134" y="-30.3" font-family="Times,serif" font-size="14.00">返回 block.toRef() 或调用 rvalue</text>
</g>
<!-- check_rvalue&#45;&gt;return -->
<g id="edge13" class="edge">
<title>check_rvalue&#45;&gt;return</title>
<path fill="none" stroke="black" d="M144.13,-117.8C142.16,-112.2 140.22,-105.91 139,-100 136.48,-87.78 135.2,-74.03 134.56,-62.33"/>
<polygon fill="black" stroke="black" points="138.06,-62.12 134.14,-52.27 131.06,-62.41 138.06,-62.12"/>
</g>
</g>
</svg>
