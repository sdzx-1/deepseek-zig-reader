graph TD
    A[开始] --> B[获取lhs和rhs类型]
    B --> C[断言类型为数值]
    C --> D{处理comptime_float转换}
    D -->|lhs是comptime_float且rhs是float| E[强制转换lhs到rhs类型]
    D -->|其他情况| F[保留原lhs]
    E --> G
    F --> G{处理rhs转换}
    G -->|rhs是comptime_float且lhs是float| H[强制转换rhs到lhs类型]
    G -->|其他情况| I[保留原rhs]
    H --> J
    I --> J[解析lhs和rhs的值]
    J --> K{检查lhs是常量?}
    K -->|是| L[处理类型边界/NAN/Inf比较]
    L --> M{有确定结果?}
    M -->|是| N[返回true/false]
    K -->|否| O{检查rhs是常量?}
    O -->|是| P[处理类型边界/NAN/Inf比较]
    P --> Q{有确定结果?}
    Q -->|是| R[返回true/false]
    O -->|否| S[检查undef值]
    S -->|任一值为undef| T[返回undef]
    S -->|无undef| U[处理运行时计算]
    U --> V{是否为浮点数比较?}
    V -->|是| W[类型提升并生成浮点比较指令]
    V -->|否| X[处理整数类型提升]
    X --> Y[计算符号和位宽]
    Y --> Z[生成整数比较指令]
    W --> AA[结束]
    Z --> AA
    N --> AA
    R --> AA
    T --> AA
