flowchart TD
    A[开始] --> B[获取alloc_ty和ptr_info]
    B --> C{是否有存储指令(stores.len)}
    C -->|0个| D[检查元素类型是否为OPV]
    D --> E[返回OPV值]
    C -->|1个| F[检查是否为简单存储]
    F --> G[处理单个存储指令]
    G --> H[返回存储的值]
    F --> I[非简单存储]
    C -->|多个| J[创建编译时分配ct_alloc]
    J --> K[初始化指针映射ptr_mapping]
    K --> L[遍历所有存储指令]
    L --> M{处理指针类型}
    M -->|struct_field_ptr| N[解析结构体字段指针]
    M -->|ptr_elem_ptr| O[解析数组元素指针]
    M -->|bitcast| P[处理位转换指针]
    M -->|optional_payload_ptr_set| Q[设置可选类型有效负载]
    M -->|errunion_payload_ptr_set| R[设置错误联合有效负载]
    N --> S[更新指针映射]
    O --> S
    P --> S
    Q --> S
    R --> S
    S --> T{是否处理完所有存储}
    T -->|否| L
    T -->|是| U[执行所有存储操作]
    U --> V[加载最终值]
    V --> W[返回结果]
    I --> J
    E --> W
    H --> W
