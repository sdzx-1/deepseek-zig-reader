<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: validateStructInit Pages: 1 -->
<svg width="745pt" height="772pt"
 viewBox="0.00 0.00 745.00 772.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 768)">
<title>validateStructInit</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-768 741,-768 741,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_errors</title>
<polygon fill="none" stroke="black" points="316.5,-8 316.5,-257 478.5,-257 478.5,-8 316.5,-8"/>
<text text-anchor="middle" x="397.5" y="-241.8" font-family="Times,serif" font-size="14.00">错误处理</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_loops</title>
<polygon fill="none" stroke="black" points="20.5,-290 20.5,-628 266.5,-628 266.5,-290 20.5,-290"/>
<text text-anchor="middle" x="143.5" y="-612.8" font-family="Times,serif" font-size="14.00">循环处理</text>
</g>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<polygon fill="none" stroke="black" points="243.5,-764 43.5,-764 43.5,-728 243.5,-728 243.5,-764"/>
<text text-anchor="middle" x="143.5" y="-742.3" font-family="Courier,monospace" font-size="14.00">开始 validateStructInit</text>
</g>
<!-- alloc_fields -->
<g id="node2" class="node">
<title>alloc_fields</title>
<polygon fill="none" stroke="black" points="287,-691 0,-691 0,-655 287,-655 287,-691"/>
<text text-anchor="middle" x="143.5" y="-669.3" font-family="Courier,monospace" font-size="14.00">分配 field_indices 和 found_fields</text>
</g>
<!-- start&#45;&gt;alloc_fields -->
<g id="edge1" class="edge">
<title>start&#45;&gt;alloc_fields</title>
<path fill="none" stroke="black" d="M143.5,-727.81C143.5,-719.79 143.5,-710.05 143.5,-701.07"/>
<polygon fill="black" stroke="black" points="147,-701.03 143.5,-691.03 140,-701.03 147,-701.03"/>
</g>
<!-- loop_instrs -->
<g id="node3" class="node">
<title>loop_instrs</title>
<polygon fill="none" stroke="black" points="258.5,-597 28.5,-597 28.5,-561 258.5,-561 258.5,-597"/>
<text text-anchor="middle" x="143.5" y="-575.3" font-family="Courier,monospace" font-size="14.00">遍历 instrs，处理每个字段指针</text>
</g>
<!-- alloc_fields&#45;&gt;loop_instrs -->
<g id="edge2" class="edge">
<title>alloc_fields&#45;&gt;loop_instrs</title>
<path fill="none" stroke="black" d="M143.5,-654.7C143.5,-641.46 143.5,-622.95 143.5,-607.66"/>
<polygon fill="black" stroke="black" points="147,-607.23 143.5,-597.23 140,-607.23 147,-607.23"/>
</g>
<!-- check_comptime -->
<g id="node4" class="node">
<title>check_comptime</title>
<polygon fill="none" stroke="black" points="453.5,-597 294.47,-579 453.5,-561 612.53,-579 453.5,-597"/>
<text text-anchor="middle" x="453.5" y="-575.3" font-family="Courier,monospace" font-size="14.00">block.isComptime()?</text>
</g>
<!-- loop_instrs&#45;&gt;check_comptime -->
<g id="edge3" class="edge">
<title>loop_instrs&#45;&gt;check_comptime</title>
<path fill="none" stroke="black" d="M258.54,-579C267.11,-579 275.69,-579 284.27,-579"/>
<polygon fill="black" stroke="black" points="284.33,-582.5 294.33,-579 284.33,-575.5 284.33,-582.5"/>
</g>
<!-- process_field -->
<g id="node14" class="node">
<title>process_field</title>
<polygon fill="none" stroke="black" points="234.5,-510 110.5,-510 110.5,-474 234.5,-474 234.5,-510"/>
<text text-anchor="middle" x="172.5" y="-488.3" font-family="Courier,monospace" font-size="14.00">process_field</text>
</g>
<!-- loop_instrs&#45;&gt;process_field -->
<g id="edge16" class="edge">
<title>loop_instrs&#45;&gt;process_field</title>
<path fill="none" stroke="black" d="M149.37,-560.8C153.38,-549.05 158.77,-533.24 163.34,-519.84"/>
<polygon fill="black" stroke="black" points="166.72,-520.77 166.64,-510.18 160.1,-518.51 166.72,-520.77"/>
<text text-anchor="middle" x="189.5" y="-531.8" font-family="Times,serif" font-size="14.00">遍历字段</text>
</g>
<!-- handle_comptime -->
<g id="node5" class="node">
<title>handle_comptime</title>
<polygon fill="none" stroke="black" points="498.5,-423 296.5,-423 296.5,-385 498.5,-385 498.5,-423"/>
<text text-anchor="middle" x="397.5" y="-407.8" font-family="Courier,monospace" font-size="14.00">处理编译时已知结构体</text>
<text text-anchor="middle" x="397.5" y="-392.8" font-family="Courier,monospace" font-size="14.00">初始化默认值并检查缺失字段</text>
</g>
<!-- check_comptime&#45;&gt;handle_comptime -->
<g id="edge4" class="edge">
<title>check_comptime&#45;&gt;handle_comptime</title>
<path fill="none" stroke="black" d="M439.3,-562.58C428.27,-549.59 413.69,-529.99 406.5,-510 397.55,-485.11 395.84,-454.84 396.04,-433.21"/>
<polygon fill="black" stroke="black" points="399.55,-433.14 396.29,-423.06 392.55,-432.97 399.55,-433.14"/>
<text text-anchor="middle" x="414" y="-488.3" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- check_struct_comptime -->
<g id="node8" class="node">
<title>check_struct_comptime</title>
<polygon fill="none" stroke="black" points="583.5,-510 430,-492 583.5,-474 737,-492 583.5,-510"/>
<text text-anchor="middle" x="583.5" y="-488.3" font-family="Courier,monospace" font-size="14.00">结构体是否编译时已知?</text>
</g>
<!-- check_comptime&#45;&gt;check_struct_comptime -->
<g id="edge5" class="edge">
<title>check_comptime&#45;&gt;check_struct_comptime</title>
<path fill="none" stroke="black" d="M475.85,-563.39C497.09,-549.5 529.21,-528.49 552.84,-513.04"/>
<polygon fill="black" stroke="black" points="554.99,-515.82 561.44,-507.42 551.16,-509.96 554.99,-515.82"/>
<text text-anchor="middle" x="534" y="-531.8" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- check_comptime&#45;&gt;process_field -->
<g id="edge20" class="edge">
<title>check_comptime&#45;&gt;process_field</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M412.34,-565.55C366.7,-551.74 292.44,-529.28 238.63,-513"/>
<polygon fill="black" stroke="black" points="239.41,-509.58 228.83,-510.04 237.39,-516.28 239.41,-509.58"/>
</g>
<!-- check_missing_fields -->
<g id="node6" class="node">
<title>check_missing_fields</title>
<polygon fill="none" stroke="black" points="397.5,-334 296.29,-316 397.5,-298 498.71,-316 397.5,-334"/>
<text text-anchor="middle" x="397.5" y="-312.3" font-family="Courier,monospace" font-size="14.00">存在缺失字段?</text>
</g>
<!-- handle_comptime&#45;&gt;check_missing_fields -->
<g id="edge6" class="edge">
<title>handle_comptime&#45;&gt;check_missing_fields</title>
<path fill="none" stroke="black" d="M391.86,-384.76C390.64,-372.7 390.42,-356.7 391.23,-343.27"/>
<polygon fill="black" stroke="black" points="394.72,-343.44 392.09,-333.18 387.75,-342.85 394.72,-343.44"/>
</g>
<!-- handle_comptime&#45;&gt;check_missing_fields -->
<g id="edge21" class="edge">
<title>handle_comptime&#45;&gt;check_missing_fields</title>
<path fill="none" stroke="black" d="M403.14,-384.76C404.36,-372.7 404.58,-356.7 403.77,-343.27"/>
<polygon fill="black" stroke="black" points="407.25,-342.85 402.91,-333.18 400.28,-343.44 407.25,-342.85"/>
<text text-anchor="middle" x="368.25" y="-362.58" font-family="Times,serif" font-size="14.00">检查默认值</text>
</g>
<!-- generate_errors -->
<g id="node7" class="node">
<title>generate_errors</title>
<polygon fill="none" stroke="black" points="470,-226 325,-226 325,-190 470,-190 470,-226"/>
<text text-anchor="middle" x="397.5" y="-204.3" font-family="Courier,monospace" font-size="14.00">生成错误消息并返回</text>
</g>
<!-- check_missing_fields&#45;&gt;generate_errors -->
<g id="edge7" class="edge">
<title>check_missing_fields&#45;&gt;generate_errors</title>
<path fill="none" stroke="black" d="M397.5,-297.97C397.5,-281.38 397.5,-255.88 397.5,-236.43"/>
<polygon fill="black" stroke="black" points="401,-236.34 397.5,-226.34 394,-236.34 401,-236.34"/>
<text text-anchor="middle" x="405" y="-268.8" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- handle_defaults -->
<g id="node10" class="node">
<title>handle_defaults</title>
<polygon fill="none" stroke="black" points="647,-226 488,-226 488,-190 647,-190 647,-226"/>
<text text-anchor="middle" x="567.5" y="-204.3" font-family="Courier,monospace" font-size="14.00">处理所有字段的默认值</text>
</g>
<!-- check_missing_fields&#45;&gt;handle_defaults -->
<g id="edge8" class="edge">
<title>check_missing_fields&#45;&gt;handle_defaults</title>
<path fill="none" stroke="black" d="M419.03,-301.58C447.24,-283.98 497.13,-252.88 531.23,-231.62"/>
<polygon fill="black" stroke="black" points="533.33,-234.43 539.96,-226.17 529.62,-228.49 533.33,-234.43"/>
<text text-anchor="middle" x="485" y="-268.8" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- end -->
<g id="node11" class="node">
<title>end</title>
<polygon fill="none" stroke="black" points="567.5,-139 513.5,-139 513.5,-103 567.5,-103 567.5,-139"/>
<text text-anchor="middle" x="540.5" y="-117.3" font-family="Courier,monospace" font-size="14.00">返回</text>
</g>
<!-- generate_errors&#45;&gt;end -->
<g id="edge13" class="edge">
<title>generate_errors&#45;&gt;end</title>
<path fill="none" stroke="black" d="M448.63,-189.86C460.79,-184.87 473.44,-178.87 484.5,-172 495.92,-164.91 507.23,-155.42 516.66,-146.61"/>
<polygon fill="black" stroke="black" points="519.33,-148.9 524.1,-139.44 514.47,-143.86 519.33,-148.9"/>
</g>
<!-- add_note -->
<g id="node12" class="node">
<title>add_note</title>
<polygon fill="none" stroke="black" points="431,-139 348,-139 348,-103 431,-103 431,-139"/>
<text text-anchor="middle" x="389.5" y="-117.3" font-family="Courier,monospace" font-size="14.00">add_note</text>
</g>
<!-- generate_errors&#45;&gt;add_note -->
<g id="edge14" class="edge">
<title>generate_errors&#45;&gt;add_note</title>
<path fill="none" stroke="black" d="M395.88,-189.8C394.79,-178.16 393.32,-162.55 392.06,-149.24"/>
<polygon fill="black" stroke="black" points="395.54,-148.8 391.12,-139.18 388.57,-149.46 395.54,-148.8"/>
<text text-anchor="middle" x="437.5" y="-160.8" font-family="Times,serif" font-size="14.00">添加错误注释</text>
</g>
<!-- check_struct_comptime&#45;&gt;handle_comptime -->
<g id="edge10" class="edge">
<title>check_struct_comptime&#45;&gt;handle_comptime</title>
<path fill="none" stroke="black" d="M554.03,-477.37C525,-463.95 480.16,-443.22 445.9,-427.38"/>
<polygon fill="black" stroke="black" points="447.09,-424.07 436.54,-423.05 444.15,-430.42 447.09,-424.07"/>
<text text-anchor="middle" x="515" y="-444.8" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- handle_runtime -->
<g id="node9" class="node">
<title>handle_runtime</title>
<polygon fill="none" stroke="black" points="690,-423 517,-423 517,-385 690,-385 690,-423"/>
<text text-anchor="middle" x="603.5" y="-407.8" font-family="Courier,monospace" font-size="14.00">处理运行时初始化</text>
<text text-anchor="middle" x="603.5" y="-392.8" font-family="Courier,monospace" font-size="14.00">插入默认字段的存储指令</text>
</g>
<!-- check_struct_comptime&#45;&gt;handle_runtime -->
<g id="edge9" class="edge">
<title>check_struct_comptime&#45;&gt;handle_runtime</title>
<path fill="none" stroke="black" d="M587.36,-474.42C590.09,-462.67 593.82,-446.63 597.01,-432.93"/>
<polygon fill="black" stroke="black" points="600.45,-433.55 599.31,-423.02 593.64,-431.96 600.45,-433.55"/>
<text text-anchor="middle" x="602" y="-444.8" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- handle_runtime&#45;&gt;handle_defaults -->
<g id="edge11" class="edge">
<title>handle_runtime&#45;&gt;handle_defaults</title>
<path fill="none" stroke="black" d="M600.11,-384.75C593.75,-350.46 579.98,-276.27 572.53,-236.12"/>
<polygon fill="black" stroke="black" points="575.96,-235.42 570.7,-226.22 569.08,-236.69 575.96,-235.42"/>
</g>
<!-- handle_defaults&#45;&gt;end -->
<g id="edge12" class="edge">
<title>handle_defaults&#45;&gt;end</title>
<path fill="none" stroke="black" d="M562.04,-189.8C558.3,-178.05 553.28,-162.24 549.03,-148.84"/>
<polygon fill="black" stroke="black" points="552.32,-147.65 545.96,-139.18 545.65,-149.77 552.32,-147.65"/>
</g>
<!-- fail_with_error -->
<g id="node13" class="node">
<title>fail_with_error</title>
<polygon fill="none" stroke="black" points="464.5,-52 324.5,-52 324.5,-16 464.5,-16 464.5,-52"/>
<text text-anchor="middle" x="394.5" y="-30.3" font-family="Courier,monospace" font-size="14.00">fail_with_error</text>
</g>
<!-- add_note&#45;&gt;fail_with_error -->
<g id="edge15" class="edge">
<title>add_note&#45;&gt;fail_with_error</title>
<path fill="none" stroke="black" d="M390.51,-102.8C391.2,-91.16 392.11,-75.55 392.9,-62.24"/>
<polygon fill="black" stroke="black" points="396.4,-62.36 393.49,-52.18 389.41,-61.95 396.4,-62.36"/>
<text text-anchor="middle" x="421.5" y="-73.8" font-family="Times,serif" font-size="14.00">返回错误</text>
</g>
<!-- check_field_index -->
<g id="node15" class="node">
<title>check_field_index</title>
<polygon fill="none" stroke="black" points="255,-422 98,-422 98,-386 255,-386 255,-422"/>
<text text-anchor="middle" x="176.5" y="-400.3" font-family="Courier,monospace" font-size="14.00">check_field_index</text>
</g>
<!-- process_field&#45;&gt;check_field_index -->
<g id="edge17" class="edge">
<title>process_field&#45;&gt;check_field_index</title>
<path fill="none" stroke="black" d="M173.31,-473.6C173.86,-461.75 174.6,-445.82 175.23,-432.29"/>
<polygon fill="black" stroke="black" points="178.74,-432.24 175.71,-422.08 171.74,-431.91 178.74,-432.24"/>
<text text-anchor="middle" x="218.5" y="-444.8" font-family="Times,serif" font-size="14.00">获取字段索引</text>
</g>
<!-- check_duplicate -->
<g id="node16" class="node">
<title>check_duplicate</title>
<polygon fill="none" stroke="black" points="170.5,-334 30.5,-334 30.5,-298 170.5,-298 170.5,-334"/>
<text text-anchor="middle" x="100.5" y="-312.3" font-family="Courier,monospace" font-size="14.00">check_duplicate</text>
</g>
<!-- check_field_index&#45;&gt;check_duplicate -->
<g id="edge18" class="edge">
<title>check_field_index&#45;&gt;check_duplicate</title>
<path fill="none" stroke="black" d="M161.12,-385.6C150.03,-373.04 134.89,-355.91 122.51,-341.91"/>
<polygon fill="black" stroke="black" points="124.84,-339.26 115.6,-334.08 119.6,-343.9 124.84,-339.26"/>
<text text-anchor="middle" x="186.5" y="-355.8" font-family="Times,serif" font-size="14.00">检查是否重复</text>
</g>
<!-- check_duplicate&#45;&gt;loop_instrs -->
<g id="edge19" class="edge">
<title>check_duplicate&#45;&gt;loop_instrs</title>
<path fill="none" stroke="black" d="M96.6,-334.22C93.72,-347.9 90.03,-367.56 88.5,-385 83.63,-440.64 82.3,-457.55 101.5,-510 106.99,-524.99 116.03,-540.25 124.32,-552.5"/>
<polygon fill="black" stroke="black" points="121.56,-554.66 130.16,-560.84 127.29,-550.64 121.56,-554.66"/>
<text text-anchor="middle" x="116.5" y="-444.8" font-family="Times,serif" font-size="14.00">继续循环</text>
</g>
</g>
</svg>
