<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: flowchart Pages: 1 -->
<svg width="609pt" height="839pt"
 viewBox="0.00 0.00 609.00 839.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 835)">
<title>flowchart</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-835 605,-835 605,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<polygon fill="none" stroke="black" points="444.5,-831 307.5,-831 307.5,-795 444.5,-795 444.5,-831"/>
<text text-anchor="middle" x="376" y="-810.5" font-family="Courier,monospace" font-size="10.00">开始 airAggregateInit</text>
</g>
<!-- get_ty_info -->
<g id="node2" class="node">
<title>get_ty_info</title>
<polygon fill="none" stroke="black" points="462.5,-758 289.5,-758 289.5,-722 462.5,-722 462.5,-758"/>
<text text-anchor="middle" x="376" y="-743" font-family="Courier,monospace" font-size="10.00">获取类型信息</text>
<text text-anchor="middle" x="376" y="-732" font-family="Courier,monospace" font-size="10.00">(result_ty, len, elements)</text>
</g>
<!-- start&#45;&gt;get_ty_info -->
<g id="edge1" class="edge">
<title>start&#45;&gt;get_ty_info</title>
<path fill="none" stroke="black" d="M376,-794.81C376,-786.79 376,-777.05 376,-768.07"/>
<polygon fill="black" stroke="black" points="379.5,-768.03 376,-758.03 372.5,-768.03 379.5,-768.03"/>
</g>
<!-- check_ty_tag -->
<g id="node3" class="node">
<title>check_ty_tag</title>
<polygon fill="none" stroke="black" points="451,-685 301,-685 301,-649 451,-649 451,-685"/>
<text text-anchor="middle" x="376" y="-664.5" font-family="Courier,monospace" font-size="10.00">检查 result_ty 的类型标签</text>
</g>
<!-- get_ty_info&#45;&gt;check_ty_tag -->
<g id="edge2" class="edge">
<title>get_ty_info&#45;&gt;check_ty_tag</title>
<path fill="none" stroke="black" d="M376,-721.81C376,-713.79 376,-704.05 376,-695.07"/>
<polygon fill="black" stroke="black" points="379.5,-695.03 376,-685.03 372.5,-695.03 379.5,-695.03"/>
</g>
<!-- array_branch -->
<g id="node4" class="node">
<title>array_branch</title>
<polygon fill="none" stroke="black" points="332.5,-602 267.5,-602 267.5,-566 332.5,-566 332.5,-602"/>
<text text-anchor="middle" x="300" y="-581.5" font-family="Courier,monospace" font-size="10.00">类型是数组</text>
</g>
<!-- check_ty_tag&#45;&gt;array_branch -->
<g id="edge3" class="edge">
<title>check_ty_tag&#45;&gt;array_branch</title>
<path fill="none" stroke="black" d="M346.05,-648.91C338.61,-643.77 331.04,-637.7 325,-631 319.81,-625.24 315.31,-618.22 311.61,-611.41"/>
<polygon fill="black" stroke="black" points="314.69,-609.76 307.07,-602.4 308.44,-612.91 314.69,-609.76"/>
<text text-anchor="middle" x="343.5" y="-623" font-family="Courier,monospace" font-size="10.00">.array</text>
</g>
<!-- struct_branch -->
<g id="node5" class="node">
<title>struct_branch</title>
<polygon fill="none" stroke="black" points="413.5,-529 338.5,-529 338.5,-493 413.5,-493 413.5,-529"/>
<text text-anchor="middle" x="376" y="-508.5" font-family="Courier,monospace" font-size="10.00">类型是结构体</text>
</g>
<!-- check_ty_tag&#45;&gt;struct_branch -->
<g id="edge4" class="edge">
<title>check_ty_tag&#45;&gt;struct_branch</title>
<path fill="none" stroke="black" d="M376,-648.93C376,-622.45 376,-571.22 376,-539.49"/>
<polygon fill="black" stroke="black" points="379.5,-539.15 376,-529.15 372.5,-539.15 379.5,-539.15"/>
<text text-anchor="middle" x="397.5" y="-581.5" font-family="Courier,monospace" font-size="10.00">.struct</text>
</g>
<!-- vector_branch -->
<g id="node6" class="node">
<title>vector_branch</title>
<polygon fill="none" stroke="black" points="532.5,-602 467.5,-602 467.5,-566 532.5,-566 532.5,-602"/>
<text text-anchor="middle" x="500" y="-581.5" font-family="Courier,monospace" font-size="10.00">类型是向量</text>
</g>
<!-- check_ty_tag&#45;&gt;vector_branch -->
<g id="edge5" class="edge">
<title>check_ty_tag&#45;&gt;vector_branch</title>
<path fill="none" stroke="black" d="M402.3,-648.82C420.63,-636.85 445.27,-620.75 465.23,-607.71"/>
<polygon fill="black" stroke="black" points="467.28,-610.55 473.74,-602.15 463.45,-604.69 467.28,-610.55"/>
<text text-anchor="middle" x="466.5" y="-623" font-family="Courier,monospace" font-size="10.00">.vector</text>
</g>
<!-- alloc_array_stack -->
<g id="node9" class="node">
<title>alloc_array_stack</title>
<polygon fill="none" stroke="black" points="305.5,-529 220.5,-529 220.5,-493 305.5,-493 305.5,-529"/>
<text text-anchor="middle" x="263" y="-508.5" font-family="Courier,monospace" font-size="10.00">分配数组栈空间</text>
</g>
<!-- array_branch&#45;&gt;alloc_array_stack -->
<g id="edge6" class="edge">
<title>array_branch&#45;&gt;alloc_array_stack</title>
<path fill="none" stroke="black" d="M291.04,-565.81C286.68,-557.44 281.34,-547.2 276.5,-537.9"/>
<polygon fill="black" stroke="black" points="279.6,-536.28 271.87,-529.03 273.39,-539.51 279.6,-536.28"/>
</g>
<!-- packed_struct -->
<g id="node7" class="node">
<title>packed_struct</title>
<polygon fill="none" stroke="black" points="354.5,-421 269.5,-421 269.5,-385 354.5,-385 354.5,-421"/>
<text text-anchor="middle" x="312" y="-400.5" font-family="Courier,monospace" font-size="10.00">打包结构体处理</text>
</g>
<!-- struct_branch&#45;&gt;packed_struct -->
<g id="edge13" class="edge">
<title>struct_branch&#45;&gt;packed_struct</title>
<path fill="none" stroke="black" d="M338.36,-499.52C310.63,-491.42 277.06,-480.66 273,-475 263.68,-461.99 266.48,-453.61 273,-439 274.66,-435.27 276.94,-431.78 279.56,-428.55"/>
<polygon fill="black" stroke="black" points="282.3,-430.75 286.65,-421.09 277.23,-425.93 282.3,-430.75"/>
<text text-anchor="middle" x="351.5" y="-454.5" font-family="Courier,monospace" font-size="10.00">containerLayout == .packed</text>
</g>
<!-- nonpacked_struct -->
<g id="node8" class="node">
<title>nonpacked_struct</title>
<polygon fill="none" stroke="black" points="499.5,-421 404.5,-421 404.5,-385 499.5,-385 499.5,-421"/>
<text text-anchor="middle" x="452" y="-400.5" font-family="Courier,monospace" font-size="10.00">非打包结构体处理</text>
</g>
<!-- struct_branch&#45;&gt;nonpacked_struct -->
<g id="edge14" class="edge">
<title>struct_branch&#45;&gt;nonpacked_struct</title>
<path fill="none" stroke="black" d="M410.39,-492.84C417.67,-487.91 424.74,-481.95 430,-475 439.56,-462.37 445.01,-445.54 448.09,-431.43"/>
<polygon fill="black" stroke="black" points="451.59,-431.76 450.02,-421.29 444.72,-430.46 451.59,-431.76"/>
<text text-anchor="middle" x="465" y="-454.5" font-family="Courier,monospace" font-size="10.00">其他布局</text>
</g>
<!-- error_vector -->
<g id="node21" class="node">
<title>error_vector</title>
<polygon fill="none" stroke="black" points="601,-475 497,-475 497,-439 601,-439 601,-475"/>
<text text-anchor="middle" x="549" y="-454.5" font-family="Courier,monospace" font-size="10.00">返回未实现向量错误</text>
</g>
<!-- vector_branch&#45;&gt;error_vector -->
<g id="edge21" class="edge">
<title>vector_branch&#45;&gt;error_vector</title>
<path fill="none" stroke="black" d="M506.71,-565.88C514.91,-544.96 528.88,-509.32 538.51,-484.76"/>
<polygon fill="black" stroke="black" points="541.82,-485.9 542.21,-475.31 535.31,-483.35 541.82,-485.9"/>
</g>
<!-- alloc_packed_result -->
<g id="node14" class="node">
<title>alloc_packed_result</title>
<polygon fill="none" stroke="black" points="374,-338 250,-338 250,-302 374,-302 374,-338"/>
<text text-anchor="middle" x="312" y="-317.5" font-family="Courier,monospace" font-size="10.00">分配打包结构体本地变量</text>
</g>
<!-- packed_struct&#45;&gt;alloc_packed_result -->
<g id="edge15" class="edge">
<title>packed_struct&#45;&gt;alloc_packed_result</title>
<path fill="none" stroke="black" d="M312,-384.82C312,-374.19 312,-360.31 312,-348.2"/>
<polygon fill="black" stroke="black" points="315.5,-348.15 312,-338.15 308.5,-348.15 315.5,-348.15"/>
</g>
<!-- alloc_struct_stack -->
<g id="node16" class="node">
<title>alloc_struct_stack</title>
<polygon fill="none" stroke="black" points="500.5,-338 405.5,-338 405.5,-302 500.5,-302 500.5,-338"/>
<text text-anchor="middle" x="453" y="-317.5" font-family="Courier,monospace" font-size="10.00">分配结构体栈空间</text>
</g>
<!-- nonpacked_struct&#45;&gt;alloc_struct_stack -->
<g id="edge18" class="edge">
<title>nonpacked_struct&#45;&gt;alloc_struct_stack</title>
<path fill="none" stroke="black" d="M452.21,-384.82C452.34,-374.19 452.51,-360.31 452.66,-348.2"/>
<polygon fill="black" stroke="black" points="456.16,-348.2 452.79,-338.15 449.16,-348.11 456.16,-348.2"/>
</g>
<!-- check_byref -->
<g id="node10" class="node">
<title>check_byref</title>
<polygon fill="none" stroke="black" points="251,-421 93,-421 93,-385 251,-385 251,-421"/>
<text text-anchor="middle" x="172" y="-400.5" font-family="Courier,monospace" font-size="10.00">检查 elem_ty 是否为引用类型</text>
</g>
<!-- alloc_array_stack&#45;&gt;check_byref -->
<g id="edge7" class="edge">
<title>alloc_array_stack&#45;&gt;check_byref</title>
<path fill="none" stroke="black" d="M248.38,-492.97C233.54,-475.69 210.41,-448.74 193.49,-429.03"/>
<polygon fill="black" stroke="black" points="196.06,-426.65 186.89,-421.34 190.74,-431.21 196.06,-426.65"/>
</g>
<!-- byref_true -->
<g id="node11" class="node">
<title>byref_true</title>
<polygon fill="none" stroke="black" points="114,-338 0,-338 0,-302 114,-302 114,-338"/>
<text text-anchor="middle" x="57" y="-317.5" font-family="Courier,monospace" font-size="10.00">使用偏移指针逐个存储</text>
</g>
<!-- check_byref&#45;&gt;byref_true -->
<g id="edge8" class="edge">
<title>check_byref&#45;&gt;byref_true</title>
<path fill="none" stroke="black" d="M147.61,-384.82C130.84,-373.01 108.37,-357.18 90,-344.24"/>
<polygon fill="black" stroke="black" points="91.54,-341.05 81.35,-338.15 87.51,-346.77 91.54,-341.05"/>
<text text-anchor="middle" x="134.5" y="-359" font-family="Courier,monospace" font-size="10.00">true</text>
</g>
<!-- byref_false -->
<g id="node12" class="node">
<title>byref_false</title>
<polygon fill="none" stroke="black" points="227.5,-338 132.5,-338 132.5,-302 227.5,-302 227.5,-338"/>
<text text-anchor="middle" x="180" y="-317.5" font-family="Courier,monospace" font-size="10.00">固定偏移逐个存储</text>
</g>
<!-- check_byref&#45;&gt;byref_false -->
<g id="edge9" class="edge">
<title>check_byref&#45;&gt;byref_false</title>
<path fill="none" stroke="black" d="M173.7,-384.82C174.75,-374.19 176.12,-360.31 177.31,-348.2"/>
<polygon fill="black" stroke="black" points="180.81,-348.45 178.31,-338.15 173.84,-347.76 180.81,-348.45"/>
<text text-anchor="middle" x="191.5" y="-359" font-family="Courier,monospace" font-size="10.00">false</text>
</g>
<!-- handle_sentinel -->
<g id="node13" class="node">
<title>handle_sentinel</title>
<polygon fill="none" stroke="black" points="237,-265 113,-265 113,-229 237,-229 237,-265"/>
<text text-anchor="middle" x="175" y="-244.5" font-family="Courier,monospace" font-size="10.00">处理哨兵值（如果存在）</text>
</g>
<!-- byref_true&#45;&gt;handle_sentinel -->
<g id="edge10" class="edge">
<title>byref_true&#45;&gt;handle_sentinel</title>
<path fill="none" stroke="black" d="M85.26,-301.99C101.06,-292.49 120.93,-280.54 137.95,-270.29"/>
<polygon fill="black" stroke="black" points="139.79,-273.27 146.56,-265.11 136.18,-267.27 139.79,-273.27"/>
</g>
<!-- byref_false&#45;&gt;handle_sentinel -->
<g id="edge11" class="edge">
<title>byref_false&#45;&gt;handle_sentinel</title>
<path fill="none" stroke="black" d="M178.79,-301.81C178.22,-293.79 177.54,-284.05 176.91,-275.07"/>
<polygon fill="black" stroke="black" points="180.39,-274.76 176.2,-265.03 173.41,-275.25 180.39,-274.76"/>
</g>
<!-- check_elements_count -->
<g id="node18" class="node">
<title>check_elements_count</title>
<polygon fill="none" stroke="black" points="421.5,-192 218.5,-192 218.5,-156 421.5,-156 421.5,-192"/>
<text text-anchor="middle" x="320" y="-171.5" font-family="Courier,monospace" font-size="10.00">检查元素数量是否 &lt;= Liveness.bpi&#45;1</text>
</g>
<!-- handle_sentinel&#45;&gt;check_elements_count -->
<g id="edge12" class="edge">
<title>handle_sentinel&#45;&gt;check_elements_count</title>
<path fill="none" stroke="black" d="M209.73,-228.99C229.58,-219.27 254.68,-206.99 275.91,-196.59"/>
<polygon fill="black" stroke="black" points="277.61,-199.65 285.05,-192.11 274.53,-193.37 277.61,-199.65"/>
</g>
<!-- process_packed_fields -->
<g id="node15" class="node">
<title>process_packed_fields</title>
<polygon fill="none" stroke="black" points="369,-265 255,-265 255,-229 369,-229 369,-265"/>
<text text-anchor="middle" x="312" y="-250" font-family="Courier,monospace" font-size="10.00">处理每个字段的位操作</text>
<text text-anchor="middle" x="312" y="-239" font-family="Courier,monospace" font-size="10.00">(移位、合并)</text>
</g>
<!-- alloc_packed_result&#45;&gt;process_packed_fields -->
<g id="edge16" class="edge">
<title>alloc_packed_result&#45;&gt;process_packed_fields</title>
<path fill="none" stroke="black" d="M312,-301.81C312,-293.79 312,-284.05 312,-275.07"/>
<polygon fill="black" stroke="black" points="315.5,-275.03 312,-265.03 308.5,-275.03 315.5,-275.03"/>
</g>
<!-- process_packed_fields&#45;&gt;check_elements_count -->
<g id="edge17" class="edge">
<title>process_packed_fields&#45;&gt;check_elements_count</title>
<path fill="none" stroke="black" d="M313.94,-228.81C314.84,-220.79 315.94,-211.05 316.95,-202.07"/>
<polygon fill="black" stroke="black" points="320.44,-202.36 318.08,-192.03 313.48,-201.57 320.44,-202.36"/>
</g>
<!-- process_struct_fields -->
<g id="node17" class="node">
<title>process_struct_fields</title>
<polygon fill="none" stroke="black" points="521,-265 387,-265 387,-229 521,-229 521,-265"/>
<text text-anchor="middle" x="454" y="-244.5" font-family="Courier,monospace" font-size="10.00">遍历字段，计算偏移并存储</text>
</g>
<!-- alloc_struct_stack&#45;&gt;process_struct_fields -->
<g id="edge19" class="edge">
<title>alloc_struct_stack&#45;&gt;process_struct_fields</title>
<path fill="none" stroke="black" d="M453.24,-301.81C453.36,-293.79 453.49,-284.05 453.62,-275.07"/>
<polygon fill="black" stroke="black" points="457.12,-275.08 453.76,-265.03 450.12,-274.98 457.12,-275.08"/>
</g>
<!-- process_struct_fields&#45;&gt;check_elements_count -->
<g id="edge20" class="edge">
<title>process_struct_fields&#45;&gt;check_elements_count</title>
<path fill="none" stroke="black" d="M421.9,-228.99C403.72,-219.36 380.78,-207.21 361.28,-196.87"/>
<polygon fill="black" stroke="black" points="362.77,-193.7 352.3,-192.11 359.5,-199.89 362.77,-193.7"/>
</g>
<!-- use_buffer -->
<g id="node19" class="node">
<title>use_buffer</title>
<polygon fill="none" stroke="black" points="372,-109 268,-109 268,-73 372,-73 372,-109"/>
<text text-anchor="middle" x="320" y="-88.5" font-family="Courier,monospace" font-size="10.00">使用缓冲区返回结果</text>
</g>
<!-- check_elements_count&#45;&gt;use_buffer -->
<g id="edge23" class="edge">
<title>check_elements_count&#45;&gt;use_buffer</title>
<path fill="none" stroke="black" d="M320,-155.82C320,-145.19 320,-131.31 320,-119.2"/>
<polygon fill="black" stroke="black" points="323.5,-119.15 320,-109.15 316.5,-119.15 323.5,-119.15"/>
<text text-anchor="middle" x="332.5" y="-130" font-family="Courier,monospace" font-size="10.00">true</text>
</g>
<!-- use_bigtomb -->
<g id="node20" class="node">
<title>use_bigtomb</title>
<polygon fill="none" stroke="black" points="518,-109 390,-109 390,-73 518,-73 518,-109"/>
<text text-anchor="middle" x="454" y="-88.5" font-family="Courier,monospace" font-size="10.00">使用 BigTomb 返回结果</text>
</g>
<!-- check_elements_count&#45;&gt;use_bigtomb -->
<g id="edge24" class="edge">
<title>check_elements_count&#45;&gt;use_bigtomb</title>
<path fill="none" stroke="black" d="M348.42,-155.82C368.4,-143.74 395.34,-127.46 417,-114.36"/>
<polygon fill="black" stroke="black" points="418.88,-117.32 425.62,-109.15 415.25,-111.33 418.88,-117.32"/>
<text text-anchor="middle" x="410.5" y="-130" font-family="Courier,monospace" font-size="10.00">false</text>
</g>
<!-- end -->
<g id="node22" class="node">
<title>end</title>
<polygon fill="none" stroke="black" points="481,-36 427,-36 427,0 481,0 481,-36"/>
<text text-anchor="middle" x="454" y="-15.5" font-family="Courier,monospace" font-size="10.00">结束</text>
</g>
<!-- use_buffer&#45;&gt;end -->
<g id="edge25" class="edge">
<title>use_buffer&#45;&gt;end</title>
<path fill="none" stroke="black" d="M352.1,-72.99C371.84,-62.53 397.19,-49.1 417.66,-38.25"/>
<polygon fill="black" stroke="black" points="419.49,-41.24 426.69,-33.47 416.22,-35.06 419.49,-41.24"/>
</g>
<!-- use_bigtomb&#45;&gt;end -->
<g id="edge26" class="edge">
<title>use_bigtomb&#45;&gt;end</title>
<path fill="none" stroke="black" d="M454,-72.81C454,-64.79 454,-55.05 454,-46.07"/>
<polygon fill="black" stroke="black" points="457.5,-46.03 454,-36.03 450.5,-46.03 457.5,-46.03"/>
</g>
<!-- error_vector&#45;&gt;end -->
<g id="edge22" class="edge">
<title>error_vector&#45;&gt;end</title>
<path fill="none" stroke="black" d="M549,-438.77C549,-420.01 549,-389.12 549,-362.5 549,-362.5 549,-362.5 549,-90 549,-59.65 517.51,-40.71 490.78,-30.11"/>
<polygon fill="black" stroke="black" points="491.82,-26.76 481.22,-26.57 489.39,-33.32 491.82,-26.76"/>
</g>
</g>
</svg>
